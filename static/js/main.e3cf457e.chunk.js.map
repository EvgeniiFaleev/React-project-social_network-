{"version":3,"sources":["components/Dialogs/DialogItem/DialogItem.module.scss","components/Dialogs/MessageItem/MessageItem.module.scss","assets/images/preloader-opacity.svg","components/common/preloader/Preloader.module.scss","api/api.js","components/Navbar/Navbar.module.scss","components/Navbar/SidebarFriends/SidebarFriendItem/SideFriendItem.js","components/Navbar/SidebarFriends/SidebarFriendsContainer.js","components/Navbar/SidebarFriends/SidebarFriends.js","components/Navbar/Navbar.js","components/Dialogs/DialogItem/DialogItem.js","components/Dialogs/MessageItem/MessageItem.js","components/Dialogs/DialogsForm/DialogsForm.js","redux/dialogs-reducer.js","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.js","components/Dialogs/Dialogs.js","utils/obj-helpers.js","redux/users-reducer.js","components/Users/UserItem/UserItem.js","components/common/preloader/Preloader.js","components/common/Paginator/Paginator.js","components/Users/Users.js","redux/users-selectors.js","components/Users/UsersContainer.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.js","components/Profile/ProfileInfo/ProfileStatus.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/MyPostsForm/MyPostsForm.js","redux/profile-reducer.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/MyPosts/MyPosts.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js","components/Header/Header.js","components/Header/HeaderContainer.js","redux/app-reducer.js","App.js","redux/sidebar-reducer.js","redux/redux-store.js","index.js","redux/auth-reducer.js","components/Profile/ProfileInfo/ProfileInfo.module.scss","components/common/Paginator/Paginator.module.scss","components/Header/Header.module.scss","components/Navbar/SidebarFriends/SidebarFriends.module.scss","components/Dialogs/Dialogs.module.scss","components/Profile/MyPosts/Post/Post.module.scss","components/Navbar/SidebarFriends/SidebarFriendItem/FriendItem.module.scss","components/Profile/MyPosts/MyPosts.module.scss"],"names":["module","exports","instance","axios","baseURL","withCredentials","headers","usersAPI","getUser","id","console","log","profileAPI","getUsers","pageSize","currentPage","get","then","response","data","followUser","userId","post","unFollowUser","delete","authAPI","me","fetch","method","credentials","json","resultCode","login","formData","body","JSON","stringify","logout","getStatus","updateStatus","status","put","catch","e","SideFriend","props","className","classes","friend_item","src","alt","friend_item_name","name","SidebarFriendsContainer","connect","state","friends","Sidebar","allFriends","map","friend","online","to","activeClassName","activeLink","Nav","nav","item","DialogItem","dialog","MessageItem","message","DialogsForm","onSubmit","handleSubmit","Field","placeholder","component","reduxForm","form","initialState","enterDialogs","enterMessages","MapStateToPropsForRedirect","isAuth","authUser","user","withAuthRedirect","Component","RedirectComponent","this","React","DialogsContainer","compose","MessagesPage","dispatch","sendMessage","newMessageBody","type","sendMessageActionCreator","dialogs","messages","m","dialogs_wrapper","updateArrayOfItemsWithId","items","itemId","newItemObjProps","users","totalUsersCount","isFetching","isFollowing","usersPageReducer","action","followed","pageNumber","totalCount","isFetchingButton","filter","follow","unFollow","toggleIsFetching","toggleFollowingUser","folowUnfollowFlow","apiMethod","actionCreator","User","key","photo","disabled","some","onClick","onUnFollow","onFollow","fullName","location","Preloader","preloader","Paginator","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","currentPages","p","selectedPage","onPageChanged","paginator","Users","photos","small","getUsersSelector","UsersPage","getPageSize","createSelector","u","getTotalUsersCount","getCurrentPage","getIsFetching","getIsFollowing","UsersContainer","bind","ProfileStatusWithHooks","setStatus","editMode","setEditMode","useEffect","autoFocus","onChange","target","value","onBlur","ProfileInfo","profileInfo","head_image","head_img","bio","myAva","myAva_img","description","Posts","ava","likeCount","MyPostsForm","enterPosts","profile","MyPostsContainer","posts","ProfilePage","addPostActionCreator","myPosts","area","Profile","content","ProfileContainer","match","params","withRouter","Header","header","login_block","login_name","login_link","HeaderContainer","initialized","Settings","lazy","Music","News","Login","App","initializeApp","fallback","path","render","app","reducers","combineReducers","authUserReducer","formReducer","store","createStore","applyMiddleware","thunkMiddleWare","window","ReactDOM","document","getElementById","email","error","length","stopSubmit","_error","undefined"],"mappings":"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","file":"static/js/main.e3cf457e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__17sN5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"MessageItem_message__1ROkH\"};","module.exports = __webpack_public_path__ + \"static/media/preloader-opacity.cf78036a.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__mO15L\"};","import * as axios from \"axios\";\r\n\r\n\r\nlet instance = axios.create({\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"46252d8e-8243-4294-910b-e99470877fd5\"\r\n  },\r\n});\r\nconst usersAPI = {\r\n// ==========================ProfilePage===============================\r\n  getUser(id) {\r\n    console.log(\"Obsolete method!Use profileAPI\");\r\n    return profileAPI.getUser(id);\r\n  }, // ===========================UsersPage================================\r\n  getUsers(pageSize, currentPage) {\r\n    return instance\r\n      .get(`users?count=${pageSize}&page=${currentPage}`,\r\n        {withCredentials: true})\r\n      .then((response) => response.data);\r\n  },\r\n\r\n  followUser(userId) {\r\n    return instance.post(`follow/${userId}`)\r\n      .then((response) => response.data);\r\n    // ===========Fetch===================================\r\n    // return fetch(`https://social-network.samuraijs.com/api/1.0/follow/${userId}`,\r\n    //   {\r\n    //     method: \"POST\",\r\n    //     credentials: \"include\",\r\n    //     headers: {\r\n    //       \"API-KEY\": \"46252d8e-8243-4294-910b-e99470877fd5\"\r\n    //     }\r\n    //   }).then((response) => {\r\n    //   return response.json()\r\n    // });\r\n  },\r\n\r\n  unFollowUser(id) {\r\n    return instance.delete(`follow/${id}`)\r\n      .then((response) => {\r\n        console.log(response);\r\n        return response.data\r\n      });\r\n  }, // ==================================Header============================\r\n\r\n};\r\nconst authAPI = {\r\n  me() {\r\n    // return instance\r\n    //   .get(`auth/me`)\r\n    //   .then((response) => {\r\n    //     if (response.data.resultCode === 0) return response.data\r\n    //   });\r\n\r\n    return fetch(\"https://social-network.samuraijs.com/api/1.0/auth/me\",\r\n      {\r\n        method: \"GET\",\r\n        credentials: \"include\",\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          \"API-KEY\": \"46252d8e-8243-4294-910b-e99470877fd5\"\r\n        }\r\n      }).then((response) => response.json()).then((response) => {\r\n      if (response.resultCode === 0) return response.data\r\n    })\r\n  },\r\n\r\n  login(formData) {\r\n\r\n//     return instance.post(\"/auth/login\", formData)\r\n//       .then((response) => console.log(response))\r\n// }\r\n    return fetch(\r\n      \"https://social-network.samuraijs.com/api/1.0/auth/login\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify(formData),\r\n        credentials: \"include\",\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          \"API-KEY\": \"46252d8e-8243-4294-910b-e99470877fd5\"\r\n        },\r\n\r\n      })\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((response) => {\r\n        return response\r\n      })\r\n\r\n  },\r\n\r\n  logout() {\r\n    return fetch(\r\n      \"https://social-network.samuraijs.com/api/1.0/auth/login\",\r\n      {\r\n        method: \"DELETE\",\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"API-KEY\": \"46252d8e-8243-4294-910b-e99470877fd5\"\r\n        },\r\n      })\r\n      .then((response) => {\r\n        console.log(111);\r\n        if (response.json().resultCode === 0) return response.json;\r\n      })\r\n  }\r\n};\r\n\r\nconst profileAPI = {\r\n  getUser(id) {\r\n    return instance\r\n      .get(`profile/${id}`)\r\n      .then((response) => {\r\n        console.log(response);\r\n        return response.data\r\n      });\r\n  },\r\n  getStatus(id) {\r\n    return fetch(`https://social-network.samuraijs.com/api/1.0/profile/status/${id}`,\r\n      {\r\n        method: \"GET\",\r\n        credentials: \"include\",\r\n        headers: {\r\n          \"API-KEY\": \"46252d8e-8243-4294-910b-e99470877fd5\"\r\n\r\n        }\r\n      })\r\n      .then((response) => response.json());\r\n    // return instance.get(`profile/status/${id}`)\r\n    //   .then((response) => response.data)\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(\"profile/status\", {status})\r\n      .then((response) => {\r\n        if (response.data.resultCode === 0) {\r\n          console.log(response);\r\n          return response;\r\n        }\r\n      })\r\n      .catch((e) => console.log(\"ОШИБКА \" + e));\r\n  }\r\n};\r\nexport {usersAPI, authAPI, profileAPI};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1b4qQ\",\"item\":\"Navbar_item__1LpmA\",\"activeLink\":\"Navbar_activeLink__3-Kyd\"};","import React from \"react\";\r\nimport classes from \"./FriendItem.module.scss\";\r\n\r\nexport default function SideFriend(props) {\r\n  return (\r\n    <div className={classes.friend_item}>\r\n      <img\r\n        src=\"https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80\"\r\n        alt=\"\"\r\n      />\r\n      <p className={classes.friend_item_name}>{props.name}</p>\r\n    </div>\r\n  );\r\n}\r\n","import SidebarFriends from \"./SidebarFriends\";\r\nimport { connect } from \"react-redux\";\r\n\r\nlet MapStateToProps = (state) => {\r\n  return {\r\n    friends: state.Sidebar\r\n  };\r\n};\r\n\r\nconst SidebarFriendsContainer = connect(MapStateToProps)(SidebarFriends);\r\nexport default SidebarFriendsContainer;\r\n","import React from \"react\";\r\nimport SideFriend from \"./SidebarFriendItem/SideFriendItem\";\r\nimport classes from \"./SidebarFriends.module.scss\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nexport default function SidebarFriends(props) {\r\n  let allFriends = props.friends.map((friend) => {\r\n    return (\r\n      <SideFriend name={friend.name} id={friend.id} online={friend.online} />\r\n    );\r\n  });\r\n  return (\r\n    <div className={classes.friends}>\r\n      <p>\r\n        <NavLink to=\"/friends\" activeClassName={classes.activeLink}>\r\n          Friends\r\n        </NavLink>\r\n      </p>\r\n      <div className={classes.allFriends}>{allFriends}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport classes from \"./Navbar.module.scss\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport SidebarFriendsContainer from \"./SidebarFriends/SidebarFriendsContainer\";\r\n\r\nexport default function Nav(props) {\r\n  return (\r\n    <nav className={classes.nav}>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/profile/\" activeClassName={classes.activeLink}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/users\" activeClassName={classes.activeLink}>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={classes.activeLink}>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/news\" activeClassName={classes.activeLink}>\r\n          News\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/music\" activeClassName={classes.activeLink}>\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/settings\" activeClassName={classes.activeLink}>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n      <SidebarFriendsContainer />\r\n    </nav>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport classes from \"./DialogItem.module.scss\";\r\n\r\nconst DialogItem = (props) => {\r\n  return <div className={classes.dialog}>{props.name}</div>;\r\n};\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport classes from \"./MessageItem.module.scss\";\r\n\r\nexport default function MessageItem(props) {\r\n  return <div className={classes.message}>{props.message}</div>;\r\n}\r\n","import React from \"react\";\r\nimport {Field, reduxForm} from 'redux-form';\r\n\r\n\r\nlet DialogsForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div><Field name=\"newMessageBody\"\r\n        placeholder=\"enter new Message\" component='textarea'\r\n\r\n      /></div>\r\n      <div>\r\n        <button>Send</button>\r\n      </div>\r\n    </form>\r\n  )\r\n};\r\n\r\nDialogsForm = reduxForm({form: \"DialogsForm\"})(DialogsForm);\r\nexport default DialogsForm;\r\n","const SEND_MESSAGE = \"SEND_NEW_MESSAGE\";\r\nexport const initialState = {\r\n  enterDialogs: [{\r\n    name: \"Jack\",\r\n    id: \"1\"\r\n  }, {\r\n    name: \"Lila\",\r\n    id: \"2\"\r\n  }, {\r\n    name: \"Kirill\",\r\n    id: \"3\"\r\n  }],\r\n  enterMessages: [{\r\n    message: \"Hello!\",\r\n    id: \"1\"\r\n  }, {\r\n    message: \"Hello Man!\",\r\n    id: \"2\"\r\n  }, {\r\n    message: \"We gonna Die!\",\r\n    id: \"3\"\r\n  }],\r\n};\r\nexport default function dialogsPageReducer(state = initialState,\r\n  action) {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      return {\r\n        ...state,\r\n        enterMessages: [...state.enterMessages, {\r\n          message: action.newMessageBody,\r\n          id: 0\r\n        }]\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\nexport const sendMessageActionCreator = (newMessageBody) => (\r\n  {\r\n    type: SEND_MESSAGE,\r\n    newMessageBody\r\n  }\r\n);\r\n","import React from \"react\";\r\nimport {Redirect} from \"react-router\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet MapStateToPropsForRedirect = (state) => {\r\n  return {\r\n    isAuth: state.authUser.user.isAuth\r\n  };\r\n};\r\n\r\n\r\nconst withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={\"/login\"}/>;\r\n      return <Component  {...this.props}/>\r\n    }\r\n\r\n  }\r\n\r\n  return connect(MapStateToPropsForRedirect)(RedirectComponent);\r\n};\r\nexport default withAuthRedirect;","import {connect} from \"react-redux\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {sendMessageActionCreator} from \"../../redux/dialogs-reducer\";\r\n// import withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  console.log(\"MAPDIALOG\")\r\n  console.log(state)\r\n  return {\r\n    MessagesPage: state.MessagesPage\r\n  };\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage(newMessageBody) {\r\n      dispatch(sendMessageActionCreator(newMessageBody));\r\n    },\r\n  };\r\n};\r\n\r\nconst DialogsContainer = compose(connect(mapStateToProps,\r\n  mapDispatchToProps),\r\n  withAuthRedirect\r\n)(Dialogs);\r\n\r\nexport default DialogsContainer;\r\n","import React from \"react\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport classes from \"./Dialogs.module.scss\";\r\nimport MessageItem from \"./MessageItem/MessageItem\";\r\nimport DialogsForm from \"./DialogsForm/DialogsForm\";\r\n\r\n\r\nexport default function Dialogs(props) {\r\n  // Convert posts to array with JSX elements\\\r\n  let dialogs = props.MessagesPage.enterDialogs.map(function (dialog) {\r\n    return <DialogItem name={dialog.name} id={dialog.id}/>;\r\n  });\r\n  let messages = props.MessagesPage.enterMessages.map((m) => {\r\n    return <MessageItem message={m.message} id={m.id}/>;\r\n  });\r\n\r\nlet onSendMessage = (formData) =>{\r\n  props.sendMessage(formData.newMessageBody);\r\n};\r\n  // ==================================================================\r\n  return (\r\n    <div className={classes.dialogs_wrapper}>\r\n      <div className={classes.dialogs}>{dialogs}</div>\r\n      <div className={classes.messages}>{messages}</div>\r\n      <div>\r\n        <DialogsForm onSubmit={onSendMessage}/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const updateArrayOfItemsWithId = (items,\r\n  itemId,\r\n  newItemObjProps) => {\r\n  return items.map((item) => {\r\n    if (item.id === itemId) {\r\n      return {\r\n        ...item, ...newItemObjProps\r\n      };\r\n    } else {\r\n      return item;\r\n    }\r\n  })\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateArrayOfItemsWithId} from \"../utils/obj-helpers\";\r\n\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_COUNT = \"SET_TOTAL_COUNT;\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING;\";\r\nconst TOGGLE_IS_FOLLOWING = 'TOGGLE_IS_FOLLOWING';\r\n\r\nexport const initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  isFollowing: [],\r\n};\r\n\r\nconst usersPageReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateArrayOfItemsWithId(state.users,\r\n          action.userId,\r\n          {followed: true})\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateArrayOfItemsWithId(state.users,\r\n          action.userId,\r\n          {followed: false})\r\n      };\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: [...action.users]\r\n      };\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: +action.pageNumber\r\n      };\r\n    case SET_TOTAL_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.totalCount\r\n      };\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      };\r\n    case TOGGLE_IS_FOLLOWING:\r\n      return {\r\n        ...state,\r\n        isFollowing: action.isFetchingButton ?\r\n          [...state.isFollowing, action.id] :\r\n          state.isFollowing.filter((id) => action.id !== id),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default usersPageReducer;\r\n// Action Creators===============================================\r\n\r\nexport const follow = (userId) => (\r\n  {\r\n    type: FOLLOW,\r\n    userId\r\n  }\r\n);\r\n\r\nexport const unFollow = (userId) => (\r\n  {\r\n    type: UNFOLLOW,\r\n    userId\r\n  }\r\n);\r\n\r\nexport const setUsers = (users) => (\r\n  {\r\n    type: SET_USERS,\r\n    users\r\n  }\r\n);\r\n\r\nexport const setCurrentPage = (pageNumber) => (\r\n  {\r\n    type: SET_CURRENT_PAGE,\r\n    pageNumber\r\n  }\r\n);\r\n\r\nexport const setTotalCount = (totalCount) => (\r\n  {\r\n    type: SET_TOTAL_COUNT,\r\n    totalCount\r\n  }\r\n);\r\nexport const toggleIsFetching = (isFetching) => (\r\n  {\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching\r\n  }\r\n);\r\nexport const toggleFollowingUser = (id, isFetchingButton) => (\r\n  {\r\n    type: TOGGLE_IS_FOLLOWING,\r\n    id,\r\n    isFetchingButton\r\n  }\r\n);\r\n// ============================Thunk Creators====================\r\n\r\nexport const getUsers = (pageSize, currentPage) => {\r\n  return (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    return usersAPI.getUsers(pageSize, currentPage)\r\n      .then((data) => {\r\n        if (currentPage !== 1) dispatch(setCurrentPage(currentPage));\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalCount(data.totalCount));\r\n      });\r\n  };\r\n};\r\n\r\nexport const folowUnfollowFlow = (dispatch,\r\n  id,\r\n  apiMethod,\r\n  actionCreator) => {\r\n  dispatch(toggleFollowingUser(id, true));\r\n  return apiMethod(id)\r\n    .then((data) => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(toggleFollowingUser(id, false));\r\n        dispatch(actionCreator(id));\r\n      }\r\n    });\r\n};\r\n\r\nexport const followUser = (id) => {\r\n  return (dispatch) => {\r\n    return folowUnfollowFlow(dispatch,\r\n      id,\r\n      usersAPI.followUser.bind(usersAPI),\r\n      follow);\r\n  }\r\n\r\n};\r\n\r\nexport const unFollowUser = (id) => {\r\n  return (dispatch) => {\r\n    return folowUnfollowFlow(dispatch,\r\n      id,\r\n      usersAPI.unFollowUser.bind(usersAPI),\r\n      unFollow);\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nlet User = (props) => {\r\n  return (\r\n    <div className=\"user\" key={props.id}>\r\n      <NavLink to={`/profile/${props.id}`}>\r\n        <img src={props.photo} alt=\"\"/>\r\n      </NavLink>\r\n      {props.followed ? (\r\n\r\n        <button\r\n          disabled={props.isFollowing.some((id) => id === props.id)}\r\n          onClick={() => {\r\n            props.onUnFollow(props.id);\r\n          }}\r\n        >\r\n          Unfollow\r\n        </button>\r\n      ) : (\r\n        <button\r\n          disabled={props.isFollowing.some((id) => id === props.id)}\r\n          onClick={() => {\r\n            props.onFollow(props.id);\r\n          }}\r\n        >\r\n          Follow\r\n        </button>\r\n      )}!\r\n\r\n      <p>{props.fullName}</p>\r\n      <p>{props.location}</p>\r\n    </div>\r\n  );\r\n\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport preloader from \"../../../assets/images/preloader-opacity.svg\";\r\nimport classes from \"./Preloader.module.scss\"\r\n\r\nlet Preloader = () => {\r\n  return <img className={classes.preloader} src={preloader} alt=\"\" />;\r\n};\r\nexport default Preloader;\r\n","import React, {useState} from \"react\";\r\nimport classes from \"./Paginator.module.scss\"\r\n\r\n\r\nexport const Paginator = ({portionSize = 10, ...props}) => {\r\n\r\n  let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(Math.ceil(\r\n    props.currentPage / portionSize));\r\n  let leftPortionPageNumber = (\r\n    portionNumber - 1\r\n  ) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n  let currentPages = pages\r\n    .filter(\r\n      p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n    .map((p) => {\r\n      return <span\r\n        className={p === props.currentPage ?\r\n          `${classes.pageNumber} ${classes.selectedPage}` :\r\n          classes.pageNumber}\r\n        key={p}\r\n        onClick={() => {\r\n          props.onPageChanged(p);\r\n        }}>{p}</span>\r\n    });\r\n\r\n  return (\r\n    <div className={classes.paginator}>\r\n      {portionNumber > 1 && <button onClick={() => {\r\n        setPortionNumber(portionNumber - 1)\r\n      }}>PREV</button>}\r\n\r\n      {currentPages}\r\n      {portionCount > portionNumber && <button onClick={() => {\r\n        setPortionNumber(portionNumber + 1)\r\n      }}>NEXT</button>}\r\n    </div>\r\n  )\r\n};","import React from \"react\";\r\nimport User from \"./UserItem/UserItem\";\r\nimport Preloader from \"../common/preloader/Preloader\";\r\nimport {Paginator} from \"../common/Paginator/Paginator\";\r\n\r\n\r\nlet Users = (props) => {\r\n  let users = props.users.map((user) => {\r\n    return (\r\n      <User key={user.id}\r\n            photo={user.photos.small ? user.photos.small :\r\n              \"https://chat.europnet.org/assets/plugins/avatar-undefined.jpg\"}\r\n            location={user.location}\r\n            status={user.status}\r\n            id={user.id}\r\n            followed={user.followed}\r\n            onFollow={props.onFollow}\r\n            onUnFollow={props.onUnFollow}\r\n            fullName={user.name}\r\n            isFollowing={props.isFollowing}\r\n            toggleFollowingUser={props.toggleFollowingUser}\r\n      />\r\n    );\r\n  });\r\n  return (\r\n    <>\r\n      {props.isFetching ? (\r\n        <Preloader/>\r\n      ) : (\r\n        <div className=\"users\">\r\n          {users}\r\n          <Paginator {...props}/>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import {createSelector} from \"reselect\";\r\n\r\n\r\nexport const getUsersSelector = (state) => {\r\n  return state.UsersPage.users\r\n};\r\n\r\nexport const getUsersWithPhotoSelector = createSelector(\r\n  getUsersSelector,\r\n  (users) => {\r\n    return users.filter(u => {\r\n      return !!u.photos.small;\r\n    });\r\n  });\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.UsersPage.pageSize;\r\n};\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.UsersPage.totalUsersCount;\r\n};\r\nexport const getCurrentPage = (state) => {\r\n  return state.UsersPage.currentPage;\r\n};\r\nexport const getIsFetching = (state) => {\r\n  return state.UsersPage.isFetching;\r\n};\r\nexport const getIsFollowing = (state) => {\r\n  return state.UsersPage.isFollowing;\r\n};\r\n","import React from \"react\";\r\nimport {\r\n  followUser, getUsers, unFollowUser\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport {connect} from \"react-redux\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n  getCurrentPage,\r\n  getIsFetching,\r\n  getIsFollowing,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsersSelector, getUsersWithPhotoSelector\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.pageSize, this.props.currentPage);\r\n  }\r\n\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.getUsers(this.props.pageSize, pageNumber);\r\n\r\n  };\r\n\r\n  onFollow = (id) => {\r\n    this.props.followUser(id);\r\n  };\r\n\r\n  onUnFollow = (id) => {\r\n    this.props.unFollowUser(id);\r\n  };\r\n\r\n  render() {\r\n    console.log(`renderUsers`);\r\n    return <Users\r\n      onPageChanged={this.onPageChanged} {...this.props}\r\n      onFollow={this.onFollow}\r\n      onUnFollow={this.onUnFollow}/>;\r\n  }\r\n}\r\n\r\nlet MapStateToProps = (state) => {\r\n  console.log(\"MAPSTATETOPROPS USERS\")\r\n  return {\r\n    users: getUsersSelector(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage:getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    isFollowing: getIsFollowing(state)\r\n  };\r\n};\r\n\r\nexport default compose(connect(MapStateToProps, {\r\n  getUsers, followUser, unFollowUser\r\n}), withAuthRedirect)(UsersContainer);\r\n","import React, {useEffect, useState} from \"react\";\r\n\r\n\r\nexport const ProfileStatusWithHooks = (props) => {\r\n  let [status, setStatus] = useState(null);\r\n  let [editMode, setEditMode] = useState(false);\r\n  useEffect(() => {\r\n    setStatus(props.status)}, [props.status]);\r\n\r\n  const onStatusChange = (e) =>{\r\n    props.updateStatus(e.target.value);\r\n    setEditMode(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"\">\r\n      {editMode ? <textarea autoFocus={true}\r\n          onChange={(e) => setStatus(e.target.value)}\r\n          onBlur={onStatusChange}\r\n          value={status}/> :\r\n        <p onClick={() => setEditMode(true)}>{props.status || \"no-\" +\r\n        \" status\"}</p>}\r\n    </div>\r\n  )\r\n};\r\n","import React from \"react\";\r\n\r\n\r\nexport default class ProfileStatus extends React.Component {\r\n  state = {\r\n    editMode: false,\r\n    status: this.props.status\r\n  };\r\n\r\n\r\ncomponentDidUpdate(prevProps, prevState, snapshot) {\r\n  if(prevProps.status !== this.props.status){\r\n    this.setState({\r\n      status: this.props.status\r\n    })\r\n  }\r\n}\r\n\r\n  activateEditMode = () => {\r\n    this.setState({\r\n      editMode: true,\r\n    });\r\n  };\r\n\r\n  deActivateEditMode = (e) => {\r\n    this.setState({\r\n      editMode: false\r\n    });\r\n    this.props.updateStatus(e.currentTarget.value);\r\n  };\r\n\r\n  onStatusChange = (e) => {\r\n    this.setState({\r\n      status: e.target.value\r\n    })\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"\">\r\n        {this.state.editMode ? <textarea autoFocus={true}\r\n            onChange={this.onStatusChange}\r\n            onBlur={this.deActivateEditMode}\r\n            value={this.state.status}/> :\r\n          <p onClick={this.activateEditMode}>{this.props.status || \"no- status\"}</p>}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport classes from \"./ProfileInfo.module.scss\";\r\nimport ProfileStatus from \"./ProfileStatus\"\r\nimport {ProfileStatusWithHooks} from \"./ProfileStatusWithHooks\";\r\n\r\n\r\nexport default class ProfileInfo extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className={classes.profileInfo}>\r\n        <img className={classes.head_image} src={this.props.head_img}/>\r\n        <div className={classes.bio}>\r\n          <img className={classes.myAva} src={this.props.myAva_img}/>\r\n          <div\r\n            className={classes.description}>{this.props.description}</div>\r\n        </div>\r\n        <ProfileStatusWithHooks updateStatus={this.props.updateStatus} id={this.props.id} getStatus={this.props.getStatus} setStatus={this.props.setStatus} status={this.props.status}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport classes from \"./Post.module.scss\";\r\n\r\nexport default function Posts(props) {\r\n  return (\r\n    <div className={classes.post}>\r\n      <div className={classes.item}>\r\n        <img\r\n          className={classes.ava}\r\n          src=\"https://static-cdn.123rf.com/images/v5/index-thumbnail/84170952-b.jpg\"\r\n        />\r\n        <p className=\"message\">{props.message}</p>\r\n        <p>\r\n          <span className=\"likeCount\">{props.likeCount}</span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\n\r\n\r\nlet MyPostsForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field component='textarea' name=\"newMessageBody\"\r\n        placeholder='Enter your message'/>\r\n      <button>Написать</button>\r\n    </form>\r\n  )\r\n};\r\n\r\nMyPostsForm = reduxForm({form: 'MyPosts'})(MyPostsForm);\r\n\r\nexport default MyPostsForm;","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USERS_PROFILE = \"SET_USERS_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\n\r\nexport const initialState = {\r\n  enterPosts: [{\r\n    message: \"Привет, как дела?\",\r\n    likeCount: \"2 лайка\"\r\n  }, {\r\n    message: \"Не умри от коронавируса\",\r\n    likeCount: \"5 лайков\"\r\n  }],\r\n  profile: null,\r\n  status: \"Статус Редакса\"\r\n};\r\nexport default function profilePageReducer(state = initialState,\r\n  action) {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        enterPosts: [...state.enterPosts, {\r\n          message: action.newMessageBody,\r\n          likeCount: \"0\"\r\n        }],\r\n      };\r\n    case SET_USERS_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      };\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n// ===============Action Creators====================\r\nexport const addPostActionCreator = (newMessageBody) => (\r\n  {\r\n    type: ADD_POST,\r\n    newMessageBody\r\n  }\r\n);\r\n\r\nexport const setUsersProfile = (profile) => (\r\n  {\r\n    type: SET_USERS_PROFILE,\r\n    profile: profile\r\n  }\r\n);\r\nexport const setStatus = (status) => (\r\n  {\r\n    type: SET_STATUS,\r\n    status\r\n  }\r\n);\r\n// ====================Thunk Creatots===========================\r\nexport const getUser = (userId) => (dispatch) => {\r\n   return usersAPI.getUser(userId)\r\n    .then((data) => {\r\n      dispatch(setUsersProfile(data));\r\n    });\r\n};\r\n\r\nexport const getStatus = (id) => (dispatch) => {\r\n return profileAPI.getStatus(id)\r\n    .then((status) => {\r\n      dispatch(setStatus(status));\r\n    });\r\n};\r\n\r\nexport const updateStatus = (status) => (dispatch) => {\r\n  return profileAPI.updateStatus(status)\r\n    .then((response) => {\r\n      dispatch(setStatus(status))});\r\n};","import {connect} from \"react-redux\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\r\n\r\n\r\nlet MapStateToProps = (state) => {\r\n  return {\r\n    posts: state.ProfilePage.enterPosts\r\n  };\r\n};\r\nlet MapDispatchToProps = (dispatch) => {\r\n  return {\r\n    post(newMessageBody) {\r\n      dispatch(addPostActionCreator(newMessageBody));\r\n    },\r\n  };\r\n};\r\nconst MyPostsContainer = connect(MapStateToProps,\r\n  MapDispatchToProps)(\r\n  MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from \"react\";\r\nimport classes from \"./MyPosts.module.scss\";\r\nimport Post from \"./Post/Post\";\r\nimport MyPostsForm from \"./MyPostsForm/MyPostsForm\";\r\n\r\n\r\nexport default function MyPosts(props) {\r\n  // Convert posts to array with JSX elements\r\n\r\n  let posts = props.posts.map((post) => (\r\n    <Post message={post.message} likeCount={post.likeCount}/>\r\n  ));\r\n\r\n  function onSubmit(formData) {\r\n    props.post(formData.newMessageBody);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.myPosts}>\r\n      <h3>My wall</h3>\r\n      <div className={classes.area}>\r\n        <MyPostsForm  onSubmit={onSubmit}/>\r\n      </div>\r\n      {posts}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport classes from \"./Profile.module.scss\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport Preloader from \"../common/preloader/Preloader\";\r\nimport {setStatus} from \"../../redux/profile-reducer\";\r\n\r\n\r\nexport default function Profile(props) {\r\n  return (\r\n    <>\r\n      {!props.profile ? (\r\n        <Preloader/>\r\n      ) : (\r\n        <main className={classes.content}>\r\n          <ProfileInfo id={props.id} status={props.status} updateStatus={props.updateStatus} getStatus={props.getStatus} setStatus={props.setStatus}\r\n            description={props.profile.fullName}\r\n            head_img=\"https://p.bigstockphoto.com/eIdTXLbqQilMs9xbjvcs_bigstock-Aerial-View-Of-Sandy-Beach-Wit-256330393.jpg\"\r\n            myAva_img={props.profile.photos.small ||\r\n            \"https://chat.europnet.org/assets/plugins/avatar-undefined.jpg\"}\r\n          />\r\n          <MyPostsContainer/>\r\n        </main>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Profile from \"./Profile\";\r\nimport {\r\n  getStatus, getUser, setStatus, updateStatus\r\n} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router\";\r\nimport {compose} from \"redux\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\n\r\n\r\nclass ProfileContainer extends Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId ?\r\n      this.props.match.params.userId : this.props.id;\r\n    this.props.getStatus(userId);\r\n    this.props.getUser(userId);\r\n  }\r\n\r\n  render() {\r\n    return <Profile\r\n      id={this.props.match.params.userId || this.props.id}\r\n      profile={this.props.profile}\r\n      status={this.props.status} getStatus={this.props.getStatus}\r\n      setStatus={this.props.setStatus}\r\n      updateStatus={this.props.updateStatus}/>;\r\n  }\r\n}\r\n\r\n\r\nlet MapStateToProps = (state) => {\r\n  return {\r\n    profile: state.ProfilePage.profile,\r\n    status: state.ProfilePage.status,\r\n    id: state.authUser.user.id\r\n  };\r\n};\r\n\r\nexport default compose(connect(MapStateToProps, {\r\n    getUser,\r\n    setStatus,\r\n    getStatus,\r\n    updateStatus\r\n  }), withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer);\r\n","import React from 'react';\r\nimport classes from './Header.module.scss'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nexport default function Header(props) {\r\n  return (\r\n    <header className={classes.header}>\r\n      <div className={classes.login_block}>\r\n        {props.user.id ? <div><span\r\n          className={classes.login_name}>{props.user.login}</span>\r\n          <button onClick={props.logout}>Logout</button>\r\n        </div> : <NavLink className={classes.login_link}\r\n          to={\"/login\"}>Login</NavLink>}</div>\r\n      <img\r\n        src='https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Inkscape.logo.svg/390px-Inkscape.logo.svg.png'/>\r\n    </header>\r\n  );\r\n}","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return <Header logout={this.props.logout} user={this.props.user}/>;\r\n  }\r\n\r\n}\r\n\r\nlet MapStateToProps = (state) => {\r\n  return {\r\n    user: state.authUser.user,\r\n  };\r\n};\r\n\r\nexport default connect(MapStateToProps, {\r\n  logout\r\n})(HeaderContainer);\r\n","import {me} from \"./auth-reducer\";\r\n\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\nexport const initialState = {\r\n  initialized: false\r\n\r\n};\r\nexport default function appReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      };\r\n    default:\r\n      return state;\r\n\r\n  }\r\n}\r\n// ==========Action Creators======================\r\nexport const initializedSuccess = () => (\r\n  {\r\n    type: INITIALIZED_SUCCESS\r\n  }\r\n);\r\n// =====================Thunk Creators====================\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n return  dispatch(me(true)).then(() => {\r\n    dispatch(initializedSuccess())});\r\n};\r\n","import React, {Component, Suspense} from \"react\";\r\nimport \"./App.scss\";\r\nimport {BrowserRouter, Route} from \"react-router-dom\";\r\n// My components\r\nimport Nav from \"./components/Navbar/Navbar\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport Preloader from \"./components/common/preloader/Preloader\";\r\nimport {Switch} from \"react-router\";\r\n\r\n\r\nconst Settings = React.lazy(() => import(\"./components/Settings/Settings\"));\r\nconst Music = React.lazy(() => import(\"./components/Music/Music\"));\r\nconst News = React.lazy(() => import(\"./components/News/News\"));\r\nconst Login = React.lazy(() => import(\"./components/Login/Login\"));\r\n// ===================================\r\n\r\n\r\n// ===================================\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n\r\n  render() {\r\n\r\n    if (!this.props.initialized) return <Preloader/>;\r\n\r\n    return (\r\n      <BrowserRouter>\r\n        <div className=\"app-wrapper\">\r\n          <HeaderContainer/>\r\n          <Nav/>\r\n          <Suspense fallback={<Preloader/>}>\r\n            <div className=\"app-wrapper-content\">\r\n              <Route path={'/profile/:userId?'} render={(props) => {\r\n                return (\r\n                  <ProfileContainer\r\n                    key={props.match.params.userId}/>\r\n                )\r\n              }}/>\r\n              <Route path=\"/dialogs\"\r\n                render={() => <DialogsContainer/>}/>\r\n              <Route path=\"/news\"\r\n                component={News}/>\r\n              <Route path=\"/music\" component={Music}/>\r\n              <Route path=\"/settings\" component={Settings}/>\r\n              <Route path=\"/users\" component={UsersContainer}/>\r\n              <Route path=\"/login\" component={Login}/>\r\n            </div>\r\n          </Suspense>\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nlet MapStateToProps = (state) => (\r\n  {\r\n    initialized: state.app.initialized\r\n  }\r\n);\r\nexport default connect(MapStateToProps, {initializeApp})(App);","export const initialState = [\r\n  { name: \"Jack\", id: \"1\", online: true },\r\n  { name: \"Lila\", id: \"2\", online: true },\r\n  { name: \"Kirill\", id: \"3\", online: false },\r\n  { name: \"Ann\", id: \"4\", online: false }\r\n];\r\nexport default function sidebarReducer(state = initialState, action) {\r\n  return state;\r\n}\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport dialogsPageReducer from \"./dialogs-reducer\";\r\nimport profilePageReducer from \"./profile-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersPageReducer from \"./users-reducer\";\r\nimport authUserReducer from \"./auth-reducer\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n  ProfilePage: profilePageReducer,\r\n  MessagesPage: dialogsPageReducer,\r\n  Sidebar: sidebarReducer,\r\n  UsersPage: usersPageReducer,\r\n  authUser: authUserReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleWare));\r\nwindow.store = store;\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport store from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App store={store}/>\r\n   </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n\r\nconst AUTH_USER = \"AUTH_USER\";\r\n\r\nlet initialState = {\r\n  user: {\r\n    me: null,\r\n    email: null,\r\n    id: null,\r\n    isAuth: false\r\n  }\r\n};\r\nexport default function authUserReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case AUTH_USER:\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...action.user,\r\n          isAuth: action.user.isAuth\r\n        }\r\n      };\r\n    default:\r\n      return state;\r\n\r\n  }\r\n}\r\n// ==========Action Creators======================\r\nexport const authUser = (user, isAuth) => (\r\n  {\r\n    type: AUTH_USER,\r\n    user: {\r\n      ...user,\r\n      isAuth\r\n    }\r\n  }\r\n);\r\n// =====================Thunk Creators====================\r\n\r\nexport const me = (isAuth) => (dispatch) => {\r\n  return authAPI.me().then((data) => {\r\n    if (data) dispatch(authUser(data, isAuth));\r\n  });\r\n};\r\nexport const login = (formData) => (dispatch) => {\r\n  return authAPI.login(formData).then((response) => {\r\n    if (response.resultCode === 0) {\r\n      dispatch(me(true));\r\n    } else {\r\n      let error = response.messages.length > 0 ? response.messages[0] :\r\n        \"Unknown Error\";\r\n      dispatch(stopSubmit(\"login\", {\r\n        _error: error\r\n      }))\r\n    }\r\n  });\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  return authAPI.logout().then(() => {\r\n    dispatch(authUser(undefined, false));\r\n  });\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo\":\"ProfileInfo_profileInfo__1uZpL\",\"head_image\":\"ProfileInfo_head_image__24M7U\",\"bio\":\"ProfileInfo_bio__1n0r3\",\"myAva\":\"ProfileInfo_myAva__1pC42\",\"description\":\"ProfileInfo_description__L4ySZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1BAy_\",\"pageNumber\":\"Paginator_pageNumber__3Euhc\",\"selectedPage\":\"Paginator_selectedPage__9aBbZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__hkA6H\",\"login_block\":\"Header_login_block__290zo\",\"login_link\":\"Header_login_link__2-X2m\",\"login_name\":\"Header_login_name__1jLZs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"SidebarFriends_friends__SbNxG\",\"activeLink\":\"SidebarFriends_activeLink__LbSvY\",\"allFriends\":\"SidebarFriends_allFriends__39-dP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs_wrapper\":\"Dialogs_dialogs_wrapper__1BsBu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__1VX3y\",\"item\":\"Post_item__1k_y4\",\"ava\":\"Post_ava__2muRO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend_item\":\"FriendItem_friend_item__1GAzM\",\"friend_item_name\":\"FriendItem_friend_item_name__2imZa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__1mQmN\",\"area\":\"MyPosts_area__18iPY\"};"],"sourceRoot":""}