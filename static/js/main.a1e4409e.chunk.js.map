{"version":3,"sources":["features/news/ui/moleculs/Categories/Categories.module.scss","features/autnentification/ui/organisms/LoginForm/LoginForm.module.scss","features/music/ui/organisms/Player/Player.module.scss","ui/organisms/Paginator/Paginator.module.scss","ui/assets/images/avatar-undefined.jpg","features/profile/ui/molecules/ProfileForm/ProfileForm.module.scss","ui/organisms/Navbar/Navbar.module.scss","features/profile/ui/organisms/ProfileInfo/ProfileInfo.module.scss","features/music/Music.module.scss","features/dialogs/ui/atoms/Message/Message.module.scss","features/profile/ui/molecules/ProfileDescription/ProfileDescription.module.scss","features/news/ui/moleculs/Search/Search.module.scss","features/music/ui/organisms/Tracks/Tracks.module.scss","features/users/ui/moleculs/FriendsBar/FriendsBar.module.scss","features/users/ui/organisms/User/User.module.scss","features/news/ui/moleculs/Article/Article.module.scss","features/autnentification/ui/organisms/UserAutnInfoBar/UserAuthInfoBar.module.scss","features/dialogs/ui/molecules/Dialog/Dialog.module.scss","features/dialogs/ui/molecules/DialogDescriprion/Dialog.module.scss","features/autnentification/ui/molecules/Dropdown/Dropdown.module.scss","ui/organisms/Header/Header.module.scss","features/profile/ui/molecules/Contacts/Contacts.module.scss","features/news/News.module.scss","ui/templates/Common.module.scss","ui/organisms/Footer/Footer.module.scss","features/users/ui/atoms/FollowBtn/Followbtn.module.scss","features/users/Users.module.scss","features/dialogs/ui/molecules/DialogsForm/DialogsForm.module.scss","features/profile/ui/atoms/ProfileStatus/ProfileStatus.module.scss","features/music/ui/templates/card/Card.module.scss","features/music/ui/templates/cards/Cards.module.scss","ui/assets/images/preloader/preloader-opacity.svg","ui/atoms/preloader/Preloader.module.scss","ui/assets/images/logo/Free Watercolor Logos_6.png","features/autnentification/ui/atoms/SignIn.module.scss","ui/assets/icons/message-group.png","features/autnentification/Login.module.scss","features/users/ui/moleculs/UsersSearch/UsersSearch.module.scss","features/dialogs/Dialogs.module.scss","features/dialogs/ui/atoms/NewMessagesCount/NewMessagesCount.module.scss","features/profile/ui/assets/profileCommon.jpg","features/news/ui/assets/categories/news.jpg","ui/atoms/Arrow/Arrow.module.scss","features/music/ui/organisms/Search/Search.module.scss","ui/atoms/preloader/Preloader.js","features/autnentification/modules/authorization/reducer.js","api/api.js","features/autnentification/modules/authorization/actions.js","features/autnentification/modules/authorization/types.js","features/autnentification/ui/molecules/Dropdown/Dropdown.js","features/autnentification/ui/atoms/SIgnIn.js","features/autnentification/ui/organisms/UserAutnInfoBar/UserAuthInfoBar.js","features/autnentification/UserAuthInfo.js","ui/organisms/Header/Header.js","ui/organisms/Navbar/Navbar.js","ui/organisms/Paginator/Paginator.js","ui/organisms/Footer/Footer.js","features/autnentification/ui/organisms/LoginForm/LoginForm.js","features/autnentification/Login.js","features/autnentification/modules/initialization/reducer.js","features/autnentification/modules/initialization/actions.js","features/autnentification/modules/initialization/types.js","utils/obj-helpers.js","features/users/modules/users/types.js","features/users/modules/users/reducer.js","features/users/modules/users/selectors.js","features/users/modules/users/actions.js","features/users/ui/moleculs/FriendsBar/FriendsBar.js","features/users/Friends.js","features/users/ui/atoms/FollowBtn/FollowBtn.js","features/users/ui/organisms/User/User.js","features/users/Users.js","features/users/ui/moleculs/UsersSearch/UsersSearch.js","features/users/Search.js","utils/useAuthRedirect.js","features/dialogs/modules/dialogs/reducer.js","features/dialogs/modules/dialogs/actions.js","features/dialogs/modules/dialogs/types.js","features/dialogs/ui/molecules/DialogsForm/DialogsForm.js","features/profile/modules/profile/types.js","features/profile/modules/profile/reducer.js","features/profile/modules/profile/actions.js","features/dialogs/ui/atoms/Message/Message.js","features/dialogs/ui/molecules/Dialog/Dialog.js","features/dialogs/ui/molecules/DialogDescriprion/DialogDescription.js","features/dialogs/ui/organisms/DialogsList.js","features/dialogs/Dialogs.js","features/dialogs/ui/atoms/NewMessagesCount/NewMessagesCount.js","ui/templates/Common.js","features/profile/ui/molecules/ProfileForm/ProfileForm.js","features/profile/ui/molecules/Contacts/Contacts.js","features/profile/ui/molecules/ProfileDescription/ProfileDescription.js","features/profile/ui/atoms/ProfileStatus/ProfileStatus.js","features/profile/ui/organisms/ProfileInfo/ProfileInfo.js","features/profile/Profile.js","pages/profile/index.js","pages/dialogs/index.js","features/news/modules/news/reducer.js","api/newsAPI.js","features/news/modules/news/actions.js","features/news/modules/news/types.js","features/news/ui/moleculs/Categories/Categories.js","features/news/ui/moleculs/Article/Article.js","features/news/ui/Organisms/Articles.js","features/news/ui/moleculs/Search/Search.js","features/news/News.js","pages/news/index.js","features/music/modules/music/reducer.js","api/musicAPI.js","features/music/modules/music/actions.js","features/music/modules/music/types.js","features/music/utils/index.js","features/music/modules/player/reducer.js","features/music/modules/player/types.js","features/music/modules/player/actions.js","features/music/ui/organisms/Player/Player.js","features/music/ui/organisms/Tracks/Tracks.js","ui/atoms/Arrow/Arrow.js","features/music/ui/organisms/SearchResults.js","features/music/ui/organisms/Search/Search.js","features/music/ui/templates/card/Card.js","features/music/ui/templates/cards/Cards.js","features/music/ui/organisms/Artists.js","features/music/ui/organisms/Albums.js","features/music/ui/organisms/Podcasts.js","features/music/ui/organisms/Playlists.js","features/music/ui/organisms/Chart.js","features/music/Music.js","pages/music/index.js","pages/users/index.js","pages/login/index.js","pages/friends/index.js","pages/search/index.js","Routes.js","App.js","lib/store/root-reducer.js","lib/store/store.js","index.js"],"names":["module","exports","Preloader","className","classes","preloader","src","alt","initialState","user","me","email","id","isAuth","captchaUrl","instance","axios","baseURL","withCredentials","headers","usersAPI","getUser","console","log","profileAPI","getUsers","pageSize","currentPage","isFriend","term","get","then","response","data","followUser","userId","post","resultCode","Error","catch","e","unFollowUser","delete","isFollowed","authAPI","formData","url","getStatus","updateStatus","status","put","setPhoto","photoFile","FormData","append","setProfile","profile","dialogsAPI","message","body","items","authUser","type","getCaptchaUrlSuccess","dispatch","a","authUserProfile","login","getCaptcha","messages","length","logout","undefined","Dropdown","React","forwardRef","ref","isVisible","match","useRouteMatch","useDispatch","dropdown","to","dropdown_logout","onClick","authActions","SignIn","styles","sign_in","login_link","aria-hidden","UserAuthInfoBar","onDropdown","children","useSelector","state","auth","userName","fullName","userPhoto","photos","small","shallowEqual","userInfo","userInfo_name","userInfo_photo","UserAuthInfo","useState","isDropped","setDropdown","userInfoRef","useRef","dropRef","onCloseDropDown","useCallback","target","closest","dropClass","current","style","background","opacity","visibility","document","removeEventListener","addEventListener","Header","header","header_content","logo_wrapper","header_logo","logo","Navbar","clearPage","clearMusicSearch","messagesCount","isMobile","documentElement","clientWidth","container","activeClassName","active","icon","dialogs_link","Paginator","portionSize","totalUsersCount","onPageChanged","pagesCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","currentPages","filter","p","map","pageNumber","selectedPage","key","onPortionNumber","k","paginator_wrapper","paginator","left","arrow","Footer","footer","footer_content","LoginForm","useForm","register","errors","setError","handleSubmit","onSubmit","error","name","common_input","onChange","required","placeholder","span_error","as","rememberMe","htmlFor","rememberMe_label","send_btn","value","Login","login_title","initialized","isFetching","initializedSuccess","initializeApp","toggleIsFetching","updateArrayOfItemsWithId","itemId","newItemObjProps","item","FOLLOW","friends","users","isFollowing","getUsersWithPhotoSelector","createSelector","u","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getIsFollowing","follow","types","unFollow","setUsers","setFriends","setCurrentPage","setTotalCount","totalCount","toggleFollowingUser","isFetchingButton","initActions","search","getState","friendsPortion","usersPortion","allUsers","getFriendsDemo","folowUnfollowFlow","apiMethod","actionCreator","usersActions","bind","FriendsBar","useEffect","friendsElements","friend","friendPhoto","avatar_undefined","friendName","friendsBar","friendInfo","Friends","FollowBtn","followed","followBtn","disabled","some","onUnFollow","onFollow","User","photo","trim","substr","user_info","user_photo","ava_undefined","user_info_status","btn_container","sendMsg_btn","Users","path","useLocation","pathname","isFriends","searchTerm","useParams","usersSelectors","init","usersList","startsWith","obj","isEmpty","users_notFound","UsersSearch","onSearch","usersSearch","autoComplete","onKeyDown","Search","history","useHistory","setSearchTerm","useAuthRedirect","dialogs","dialog","newMessages","setDialog","setDialogs","setNewMessages","payload","getNewMessagesCount","count","getDialogs","sortedDialogs","sort","b","newMessagesCount","getDialog","sendMessage","DialogsForm","inputMessage","onSendMessage","dialogsActions","wrapper","el","currentTarget","setTimeout","scrollTop","height","scrollHeight","keyCode","preventDefault","elem","button_wrapper","ADD_POST","addPostActionCreator","newMessageBody","setUserProfile","setStatus","updatePhoto","toggleIsFollowing","isUserFollowed","savePhoto","saveProfile","Message","isOwner","owner","other","message_text","message_meta","addedAt","Dialog","renderCount","setCount","authUserId","index","arr","senderId","avatar","no_avatar","profileActions","timerId","setInterval","clearInterval","scrollIntoView","classList","contains","msgClasses","add","new_owner","new_other","prevState","dialog_container","DialogDescription","hasNewMessages","lastDialogActivityDate","lastUserActivityDate","userImage","no_img","messageInfo","metaInfo","DialogsList","dialogs_wrapper","Dialogs","exact","component","NewMessagesCount","messages_count","CommonTemplate","app_wrapper","content_wrapper","app_content","ProfileForm","contacts","lookingForAJob","lookingForAJobDescription","closeEditMode","triggerValidation","contactItems","Object","entries","contacts_item","charAt","toUpperCase","slice","contacts_input","maxLength","defaultValue","profileForm","profileData","forEach","profileForm_close","name_wrapper","info_box","editProfile_btn","Contacts","newElements","string","contacts_link","href","contacts_header","ProfileDescription","editMode","setEditMode","profileDescription","about_wrapper","about","about_header","about_item","ProfileStatus","userStatus","profileStatus","profileStatus_textarea","autoFocus","onBlur","cursor","ProfileInfo","props","profileInfo_wrapper","userPhoto_block","ownerPhoto","myAva_img","hidden","files","profileInfo","userName_container","buttons","Profile","selectedId","head_img","profileCommon","avatarUndefined","ProfilePage","DialogsPage","articles","newsAPI","country","category","query","err","setNews","getNews","params","Categories","event","categories_category","dataset","cat","newsActions","categories","data-cat","all","business","entertaiment","science","sport","technology","Article","title","urlToImage","description","content","author","source","publishedAt","news_article","backgroundImage","mockImg","news_article_title","news_article_description","news_article_content","news_article_author","news_article_src","Articles","news","articleElements","cover","search_query","search_block","search_btn","News","news_wrapper","NewsPage","charts","searchResults","musicApi","setMusicCharts","setSearchResults","getMusicChart","converter","duration","minutes","floor","seconds","String","calculateProgress","mouseX","progressElement","barWidth","getBoundingClientRect","right","abs","currentAlbum","bgPhoto","currentNumber","currentSrc","progress","volume","currentSecond","hintTime","isPlaying","artist","reducer","action","nextSong","setHint","toggleIsPlaying","setDuration","prevSong","setSong","setProgress","setVolume","Player","initPlayer","trackRef","hintRef","onForward","nextTrackNumber","nextTrack","querySelector","playerActions","url_track","album_photo","bg_photo","artist_name","track_title","player","onTimeUpdate","currentTime","ended","onLoadedData","preload","data-track_number","play_block","pause","play","arrows","prevTrackNumber","prevTrack","progress_bar","title_info","progress_wrapper","isNaN","percent","pageX","max","onMouseMove","clientX","result","onMouseLeave","hint","Tracks","tracks","album","cover_small","preview","picture_xl","useReducer","playerReducer","playerInitialState","track_number","onPlay","paused","tracksElements","track","playing","track_album_playing","track_container","data-url_track","data-album_photo","data-bg_photo","data-track_title","data-artist_name","track_album","link","track_title_duration","music_tracks","category_header","Arrow","back","SearchResults","musicActions","Card","artistName","picture","font_size","card","card_name","Cards","cards_header","cards","Artists","artists","artistsElements","picture_big","Albums","albums","albumsElements","cover_big","Podcasts","podcasts","podcastsElements","podcast","pictureLink","podcast_description","Playlists","playlists","playlistsElements","playlist","Chart","music","Music","music_wrapper","MusicPage","UsersPage","LoginPage","FriendsPage","SearchPage","Routes","from","render","App","this","Component","connect","rootReducer","combineReducers","enterPosts","likeCount","friendsCount","store","createStore","applyMiddleware","thunkMiddleWare","window","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.a1e4409e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"categories\":\"Categories_categories__1LwP_\",\"categories_category\":\"Categories_categories_category__WwjBn\",\"business\":\"Categories_business__1whOn\",\"entertaiment\":\"Categories_entertaiment__dGRq3\",\"science\":\"Categories_science__UioDr\",\"sport\":\"Categories_sport__1o0Dl\",\"technology\":\"Categories_technology__RISMx\",\"all\":\"Categories_all__1dHgP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"common_input\":\"LoginForm_common_input__3vj8o\",\"send_btn\":\"LoginForm_send_btn__11k9r\",\"switch\":\"LoginForm_switch__1L3mJ\",\"input_error\":\"LoginForm_input_error__3UEBV\",\"error\":\"LoginForm_error__3ZGYa\",\"span_error\":\"LoginForm_span_error__2Vg5W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"Player_player__19UOM\",\"arrows\":\"Player_arrows__3k2bA\",\"play_block\":\"Player_play_block__1YqwB\",\"play\":\"Player_play__1K2ZX\",\"pause\":\"Player_pause__3SDx4\",\"progress_bar\":\"Player_progress_bar__2qkrl\",\"title_info\":\"Player_title_info__3k10G\",\"hint\":\"Player_hint__570Cv\",\"volume\":\"Player_volume__2DgPR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator_wrapper\":\"Paginator_paginator_wrapper__1AuQi\",\"paginator\":\"Paginator_paginator__1ZlBJ\",\"pageNumber\":\"Paginator_pageNumber__3dB0m\",\"selectedPage\":\"Paginator_selectedPage__o7qpk\",\"icon\":\"Paginator_icon__3GIWh\",\"arrow\":\"Paginator_arrow__1Orzj\",\"left\":\"Paginator_left__2bMSC\"};","module.exports = __webpack_public_path__ + \"static/media/avatar-undefined.54c6edcf.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileForm\":\"ProfileForm_profileForm__3XRqK\",\"profileForm_close\":\"ProfileForm_profileForm_close__2k5eK\",\"name_wrapper\":\"ProfileForm_name_wrapper__2CI-w\",\"info_box\":\"ProfileForm_info_box__1gR-A\",\"contacts_item\":\"ProfileForm_contacts_item__3yf-F\",\"editProfile_btn\":\"ProfileForm_editProfile_btn__2N2te\",\"error\":\"ProfileForm_error__3K3Jo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Navbar_container__N2Auy\",\"mcd-menu\":\"Navbar_mcd-menu__2nZRc\",\"active\":\"Navbar_active__1ly6r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo_wrapper\":\"ProfileInfo_profileInfo_wrapper__2sizc\",\"userPhoto_block\":\"ProfileInfo_userPhoto_block__2PYK1\",\"userPhoto\":\"ProfileInfo_userPhoto__l21gn\",\"ownerPhoto\":\"ProfileInfo_ownerPhoto__2bjuf\",\"profileInfo\":\"ProfileInfo_profileInfo__3ENrZ\",\"userName_container\":\"ProfileInfo_userName_container__1kX63\",\"userName\":\"ProfileInfo_userName__2totV\",\"buttons\":\"ProfileInfo_buttons__1ETMu\",\"error\":\"ProfileInfo_error__1b5_1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music_wrapper\":\"Music_music_wrapper__3iXYv\",\"music\":\"Music_music__2_Q1k\",\"category_header\":\"Music_category_header__32w2T\",\"podcast_description\":\"Music_podcast_description__2nvgu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__2kUFF\",\"message_text\":\"Message_message_text__qIsD7\",\"message_meta\":\"Message_message_meta__2RkUh\",\"owner\":\"Message_owner__wyPJJ\",\"other\":\"Message_other__2kyuo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileDescription\":\"ProfileDescription_profileDescription__3f-Qn\",\"about_wrapper\":\"ProfileDescription_about_wrapper__2wXci\",\"about\":\"ProfileDescription_about__GYwfO\",\"about_item\":\"ProfileDescription_about_item__18Jaq\",\"about_header\":\"ProfileDescription_about_header__JyqWL\",\"editProfile_btn\":\"ProfileDescription_editProfile_btn__29S5T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_block\":\"Search_search_block__2i_Rp\",\"search_query\":\"Search_search_query__1UPWO\",\"search_btn\":\"Search_search_btn__3DdqO\",\"cover\":\"Search_cover__3KGJN\",\"s-circle\":\"Search_s-circle__31k5t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music_tracks\":\"Tracks_music_tracks__F2ydd\",\"category_header\":\"Tracks_category_header__2IxKT\",\"track_container\":\"Tracks_track_container__3L5Rf\",\"track_album\":\"Tracks_track_album__3lZ44\",\"track_album_playing\":\"Tracks_track_album_playing__1VO2Q\",\"track_title\":\"Tracks_track_title__Ln1Ii\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBar\":\"FriendsBar_friendsBar__1rXNK\",\"friendInfo\":\"FriendsBar_friendInfo__1-EwR\",\"friend\":\"FriendsBar_friend__3p00W\",\"active\":\"FriendsBar_active__NHRCN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__S-n98\",\"user_info\":\"User_user_info__1UmAl\",\"user_photo\":\"User_user_photo__hM0WX\",\"user_info_status\":\"User_user_info_status__3rBBx\",\"btn_container\":\"User_btn_container__uvMfs\",\"sendMsg_btn\":\"User_sendMsg_btn__hfi5k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news_article\":\"Article_news_article__wdZGr\",\"news_article_title\":\"Article_news_article_title__1nweA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userInfo\":\"UserAuthInfoBar_userInfo__2-lw3\",\"userInfo_photo\":\"UserAuthInfoBar_userInfo_photo__2KVdF\",\"userInfo_name\":\"UserAuthInfoBar_userInfo_name__37tov\",\"login_link\":\"UserAuthInfoBar_login_link__Yt64c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new_owner\":\"Dialog_new_owner__2yVe8\",\"twitch_owner\":\"Dialog_twitch_owner___l4z2\",\"new_other\":\"Dialog_new_other__1XfT2\",\"twitch_other\":\"Dialog_twitch_other__18hrg\",\"dialog_container\":\"Dialog_dialog_container__1NgBo\",\"userInfo\":\"Dialog_userInfo__2wPKD\",\"dialog\":\"Dialog_dialog__3I5Q6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__3wtnG\",\"messageInfo\":\"Dialog_messageInfo__2j74l\",\"userName\":\"Dialog_userName__vLO5A\",\"metaInfo\":\"Dialog_metaInfo__2TEIh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown\":\"Dropdown_dropdown__3sMbb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__MaF2u\",\"header_content\":\"Header_header_content__13udt\",\"logo_wrapper\":\"Header_logo_wrapper__7evS-\",\"header_logo\":\"Header_header_logo__13d7a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contacts\":\"Contacts_contacts__1zCb2\",\"contacts_item\":\"Contacts_contacts_item__29YaY\",\"contacts_link\":\"Contacts_contacts_link__tO7zU\",\"contacts_header\":\"Contacts_contacts_header__3hwwA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news_wrapper\":\"News_news_wrapper__1XzFF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app_wrapper\":\"Common_app_wrapper__CMuWV\",\"content_wrapper\":\"Common_content_wrapper__31AZ-\",\"app_content\":\"Common_app_content__3PHtO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1U3bH\",\"footer_content\":\"Footer_footer_content__2jhzK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"followBtn\":\"Followbtn_followBtn__zqOYl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__Iktpc\",\"users_notFound\":\"Users_users_notFound__2hC14\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DialogsForm_wrapper__2l-lT\",\"button_wrapper\":\"DialogsForm_button_wrapper__2zccC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileStatus\":\"ProfileStatus_profileStatus__2kOiT\",\"profileStatus_textarea\":\"ProfileStatus_profileStatus_textarea__2HfdH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__16oIK\",\"card_name\":\"Card_card_name__3ofof\",\"artist_card_name\":\"Card_artist_card_name__38GNF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards_header\":\"Cards_cards_header__oTcAL\",\"cards\":\"Cards_cards__1iE9q\"};","module.exports = __webpack_public_path__ + \"static/media/preloader-opacity.cf78036a.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2oAmG\"};","module.exports = __webpack_public_path__ + \"static/media/Free Watercolor Logos_6.9671fa20.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sign_in\":\"SignIn_sign_in__3V4S0\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login_title\":\"Login_login_title__18Cvm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersSearch\":\"UsersSearch_usersSearch__1LV54\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs_wrapper\":\"Dialogs_dialogs_wrapper__329w8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages_count\":\"NewMessagesCount_messages_count__2yBsV\"};","module.exports = __webpack_public_path__ + \"static/media/profileCommon.a41a2eec.jpg\";","module.exports = __webpack_public_path__ + \"static/media/news.5cf725f4.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"back\":\"Arrow_back__1wu_m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Search_search__2f5jr\"};","import React from \"react\";\r\nimport preloader from \"./../../assets/images/preloader/preloader-opacity.svg\";\r\nimport classes from \"./Preloader.module.scss\"\r\n\r\nexport const Preloader = () => {\r\n  return <img className={classes.preloader} src={preloader} alt=\"\" />;\r\n};\r\n\r\n","import * as types from \"./types\"\r\n\r\nconst initialState = {\r\n  user: {\r\n    me: null,\r\n    email: null,\r\n    id: null,\r\n  },\r\n  isAuth: false,\r\n  captchaUrl: null\r\n};\r\nexport const reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.AUTH_USER:\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...action.user,\r\n        },\r\n        isAuth: action.isAuth\r\n      };\r\n    case types.GET_CAPTCHA_URL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        captchaUrl: action.captchaUrl\r\n      };\r\n    default:\r\n      return state;\r\n\r\n  }\r\n};","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"65ef668c-9986-4b60-8a04-69abb862c8d8\"\r\n  },\r\n});\r\nconst usersAPI = {\r\n\r\n  getUser(id) {\r\n    console.log(\"Obsolete method!Use profileAPI\");\r\n    return profileAPI.getUser(id);\r\n  },\r\n\r\n  getUsers(pageSize, currentPage, isFriend, term = \"\") {\r\n    return instance\r\n      .get(`users?count=${pageSize}&page=${currentPage}&friend=${isFriend}&term=${term}`,\r\n        {withCredentials: true})\r\n      .then((response) => response.data);\r\n  },\r\n\r\n  followUser(userId) {\r\n    return instance.post(`follow/${userId}`)\r\n      .then((response) => {\r\n        if (response.data.resultCode === 0) {\r\n          return response.data\r\n        } else {\r\n          throw new Error(\"Ошибка в followUser\")\r\n        }\r\n      }).catch((e) => console.log(e));\r\n  },\r\n\r\n  unFollowUser(userId) {\r\n    return instance.delete(`follow/${userId}`)\r\n      .then((response) => {\r\n        if (response.data.resultCode === 0) {\r\n          return response.data\r\n        } else {\r\n          throw new Error(\"Ошибка в unFollowUser\")\r\n        }\r\n      }).catch((e) => console.log(e));\r\n  },\r\n\r\n  isFollowed(userId) {\r\n    return instance.get(`follow/${userId}`)\r\n      .then((response) => response.data);\r\n  }\r\n};\r\n\r\n\r\nconst authAPI = {\r\n  me() {\r\n    return instance\r\n      .get(`/auth/me`)\r\n      .then((response) => {\r\n        if (response.data.resultCode === 0) return response.data.data;\r\n      });\r\n  },\r\n\r\n  login(formData) {\r\n\r\n    return instance.post(\"/auth/login\", formData)\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n\r\n  logout() {\r\n\r\n    return instance.delete(\"/auth/login\").then((response) => {\r\n      if (response.resultCode === 0) return response;\r\n    });\r\n  },\r\n\r\n  getCaptcha() {\r\n    return instance.get(\"/security/get-captcha-url\")\r\n      .then((response) => {\r\n        return response.data.url;\r\n      })\r\n  }\r\n};\r\n\r\nconst profileAPI = {\r\n  getUser(id) {\r\n    return instance\r\n      .get(`profile/${id}`)\r\n      .then((response) => {\r\n        return response.data\r\n      });\r\n  },\r\n\r\n  getStatus(id) {\r\n\r\n    return instance.get(`profile/status/${id}`)\r\n      .then((response) => response.data)\r\n  },\r\n\r\n  updateStatus(status) {\r\n    return instance.put(\"profile/status\", {status})\r\n      .then((response) => {\r\n        console.log(response);\r\n        if (response.data.resultCode === 0) {\r\n\r\n          return response;\r\n        }\r\n      }).catch((e) => console.log(\"ОШИБКА \" + e));\r\n  },\r\n\r\n  setPhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append(\"newPhoto\", photoFile);\r\n    return instance.put('/profile/photo', formData)\r\n      .then((response) => {\r\n        if (response.data.resultCode === 0) {\r\n          return response;\r\n        }\r\n      });\r\n  },\r\n\r\n  setProfile(profile) {\r\n    return instance.put('/profile/', profile).then((response) => {\r\n      return response;\r\n    })\r\n  }\r\n};\r\n\r\nconst dialogsAPI = {\r\n\r\n  getNewMessagesCount() {\r\n    return instance.get(\"/dialogs/messages/new/count\").then((response)=>{\r\n     return  response.data\r\n    }).catch((e)=>console.log(\"Ошибка \" + e));\r\n  },\r\n\r\n\r\n  getDialogs() {\r\n    return instance.get(\"/dialogs\")\r\n      .then((response) => {\r\n        console.log(response);\r\n        return response.data\r\n      });\r\n  },\r\n\r\n  startDialog(userId) {\r\n    return instance.put(`/dialogs/${userId}`)\r\n      .then((response) => response);\r\n  },\r\n\r\n  sendMessage(userId, message) {\r\n    return instance.post(`/dialogs/${userId}/messages`,\r\n      {body: message})\r\n      .then((response) => response);\r\n  },\r\n\r\n  getDialog(id) {\r\n    return instance.get(`dialogs/${id}/messages/new?newerThen=2020-02-04T16:01:53.417`)\r\n      .then((response) => {\r\n        console.log(response.data.items);\r\n        return response.data\r\n      });\r\n  }\r\n};\r\nexport {usersAPI, authAPI, profileAPI, dialogsAPI};","import {authAPI, profileAPI} from \"../../../../api/api\";\r\nimport * as types from \"./types\"\r\n// ==========Action Creators======================\r\n\r\n\r\nexport const authUser = (user, isAuth) => (\r\n  {\r\n    type: types.AUTH_USER,\r\n    user: {\r\n      ...user\r\n    },\r\n     isAuth\r\n  }\r\n);\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => (\r\n  {\r\n    type: types.GET_CAPTCHA_URL_SUCCESS,\r\n    captchaUrl\r\n  }\r\n);\r\n\r\n// =====================Thunk Creators====================\r\n\r\nexport const me = (isAuth) => async (dispatch) => {\r\n\r\n  const data = await authAPI.me();\r\n  if (data) {\r\n    const authUserProfile = await profileAPI.getUser(data.id);\r\n    dispatch(authUser(authUserProfile, isAuth));\r\n  }\r\n\r\n};\r\n\r\nexport const login = (formData) => (dispatch) => {\r\n  return authAPI.login(formData).then((response) => {\r\n    if (response.resultCode === 0) {\r\n      dispatch(me(true));\r\n      dispatch(getCaptchaUrlSuccess(null));\r\n    } else {\r\n      if (response.resultCode === 10) {\r\n        dispatch(getCaptcha());\r\n      }\r\n      const error = response.messages.length > 0 ?\r\n        response.messages[0] :\r\n        \"Unknown Error\";\r\n      return error;\r\n    }\r\n  });\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  return authAPI.logout().then(() => {\r\n    dispatch(authUser(undefined, false));\r\n  });\r\n};\r\n\r\nexport const getCaptcha = () => (dispatch) => {\r\n  authAPI.getCaptcha().then((captchaUrl) => {\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n  })\r\n};","export const AUTH_USER = \"AUTH_USER\";\r\nexport const GET_CAPTCHA_URL_SUCCESS = \"GET_CAPTCHA_URL_SUCCESS\";\r\n","import classes from \"./Dropdown.module.scss\";\r\nimport React from \"react\";\r\nimport {authActions} from \"../../../modules/authorization\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Link, useRouteMatch} from \"react-router-dom\";\r\n\r\n\r\nexport const Dropdown = React.forwardRef(({isVisible}, ref) => {\r\n\r\n\r\n  const match = useRouteMatch(\"/profile\");\r\n  const dispatch = useDispatch();\r\n  const onLogout = () => dispatch(authActions.logout());\r\n  return (\r\n    <ul ref ={ref} className={classes.dropdown}>\r\n      { !match && <li><Link to={\"/profile\"}>\r\n        My profile\r\n      </Link></li>}\r\n      <li className={classes.dropdown_logout} onClick={onLogout}>Logout</li>\r\n    </ul>\r\n  )\r\n});","import React from \"react\";\r\nimport styles from \"./SignIn.module.scss\"\r\nimport classes\r\n  from \"../organisms/UserAutnInfoBar/UserAuthInfoBar.module.scss\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nexport const SignIn = () => {\r\n  return (\r\n    <div className={styles.sign_in}>\r\n\r\n      <NavLink className={classes.login_link}\r\n        to={\"/login\"}>Login</NavLink>\r\n      <i className=\"fa fa-sign-in\"\r\n        aria-hidden=\"true\"/>\r\n    </div>\r\n  )\r\n};","import classes from \"./UserAuthInfoBar.module.scss\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {shallowEqual, useSelector} from \"react-redux\";\r\nimport {SignIn} from \"../../atoms/SIgnIn\";\r\n\r\n\r\nexport const UserAuthInfoBar = React.forwardRef(({onDropdown, children},\r\n ref) => {\r\n\r\n  const {isAuth, userName, userPhoto} = useSelector((state) => (\r\n    {\r\n      isAuth: state.auth.isAuth,\r\n      userName: state.auth.user.fullName,\r\n      userPhoto: state.auth.user.photos?.small\r\n    }\r\n  ), shallowEqual);\r\n\r\n  return <>\r\n    {isAuth ?\r\n      <div ref={ref} className={classes.userInfo}\r\n        onClick={onDropdown}>\r\n        <span\r\n          className={classes.userInfo_name}>{userName}</span>\r\n        <div className={classes.userInfo_photo}>\r\n          <img alt=\"user_photo\"\r\n            src={userPhoto}/>\r\n        </div>\r\n        {children}\r\n      </div> :\r\n      <SignIn/>\r\n      }\r\n  </>\r\n});","import React, {useCallback, useRef, useState} from \"react\";\r\nimport {Dropdown} from \"./ui/molecules/Dropdown/Dropdown\";\r\nimport {UserAuthInfoBar} from \"./ui/organisms/UserAutnInfoBar/UserAuthInfoBar\";\r\nimport dropClass from \"./ui/molecules/Dropdown/Dropdown.module.scss\";\r\n\r\n\r\nexport const UserAuthInfo = () => {\r\n\r\n  const [isDropped, setDropdown] = useState(false);\r\n\r\n  const userInfoRef = useRef();\r\n  const dropRef = useRef();\r\n\r\n  const onDropdown = (e) => {\r\n    userInfoRef.current.style.background = \"#1e1e1e\";\r\n    dropRef.current.style.visibility = \"visible\";\r\n    dropRef.current.style.opacity = 0.9;\r\n    document.addEventListener(\"click\", onCloseDropDown)\r\n  };\r\n\r\n\r\n  const onCloseDropDown = useCallback((e) => {\r\n    if (!e.target.closest(\".\" + dropClass.dropdown)) {\r\n      setDropdown(false);\r\n      userInfoRef.current.style.background = \"\";\r\n      dropRef.current.style.opacity = 0;\r\n      dropRef.current.style.visibility = \"hidden\";\r\n      document.removeEventListener(\"click\", onCloseDropDown);\r\n    } else {document.removeEventListener(\"click\", onCloseDropDown);}\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <UserAuthInfoBar ref={userInfoRef} onDropdown={onDropdown}>\r\n      <Dropdown isVisible={isDropped} ref={dropRef}/>\r\n    </UserAuthInfoBar>\r\n  )\r\n};","import React from 'react';\r\nimport classes from './Header.module.scss'\r\nimport logo\r\n  from \"./../../assets/images/logo/Free Watercolor Logos_6.png\"\r\nimport {UserAuthInfo} from \"../../../features/autnentification/UserAuthInfo\";\r\n\r\n\r\nexport const Header = ({children}) => {\r\n\r\n  console.log(children)\r\n  return (\r\n    <header className={classes.header}>\r\n      <div className={classes.header_content}>\r\n        <div className={classes.logo_wrapper} >\r\n          <img className={classes.header_logo} alt=\"logo\"\r\n          src={logo}/>\r\n          {children[0]}\r\n        </div>\r\n     {children[1]}\r\n      </div>\r\n     </header>\r\n\r\n  );\r\n};","import React from \"react\";\r\nimport styles from \"./Navbar.module.scss\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport icon from \"../../assets/icons/message-group.png\"\r\n\r\n\r\nexport const Navbar = ({children, clearPage, clearMusicSearch, messagesCount}) => {\r\n\r\n  const isMobile = document.documentElement.clientWidth <= 860\r\n  return (\r\n    <div className={styles.container}>\r\n      <nav>\r\n        <ul className={styles[\"mcd-menu\"]}>\r\n\r\n          <li>\r\n            <NavLink to=\"/profile\" activeClassName={styles.active}>\r\n              <i src={icon} className=\"fa fa-home\"/>\r\n              <strong>Profile</strong>\r\n              <small>your story</small>\r\n            </NavLink>\r\n          </li>\r\n          <li onClick={clearPage}>\r\n            <NavLink to={isMobile ? \"/friends\" : \"/users\" } activeClassName={styles.active}>\r\n              <i className=\"fa fa-users\"/>\r\n              <strong>Users</strong>\r\n              <small>our developers</small>\r\n            </NavLink>\r\n          </li>\r\n\r\n          <li className={styles.dialogs_link}>\r\n            <NavLink to=\"/dialogs\" activeClassName={styles.active}>\r\n              <i className=\"fa fa-comments-o\"/>\r\n              <strong>Dialogs</strong>\r\n              <small>your dialogs</small>\r\n              {messagesCount}\r\n            </NavLink>\r\n          </li>\r\n\r\n\r\n          <li>\r\n            <NavLink to=\"/news\" activeClassName={styles.active}>\r\n              <i className=\"fa fa-globe\"/>\r\n              <strong>News</strong>\r\n              <small>breaking news</small>\r\n            </NavLink>\r\n          </li>\r\n\r\n\r\n          <li>\r\n            <NavLink to=\"/music\" activeClassName={styles.active}\r\n              onClick={clearMusicSearch}>\r\n              <i className=\"fa fa-music\"/>\r\n              <strong>Music</strong>\r\n              <small>deezer chart</small>\r\n            </NavLink>\r\n\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\n","import React, {useState} from \"react\";\r\nimport classes from \"./Paginator.module.scss\"\r\n\r\n\r\nexport const Paginator = ({\r\n  portionSize = 10, totalUsersCount, pageSize, currentPage, onPageChanged\r\n}) => {\r\n\r\n  const pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  const portionCount = Math.ceil(pagesCount / portionSize);\r\n\r\n  const [portionNumber, setPortionNumber] = useState(Math.ceil(\r\n    currentPage / portionSize));\r\n\r\n  const leftPortionPageNumber = (\r\n    portionNumber - 1\r\n  ) * portionSize + 1;\r\n\r\n  const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  const currentPages = pages\r\n    .filter(\r\n      p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n    .map((p) => {\r\n      return <span\r\n        className={p === currentPage ?\r\n          `${classes.pageNumber} ${classes.selectedPage}` :\r\n          classes.pageNumber}\r\n        key={p}\r\n        onClick={() => {\r\n          onPageChanged(p);\r\n        }}>{p}</span>\r\n    });\r\n\r\n  const onPortionNumber = (e,k) => {\r\n    const arrow = e.target;\r\n    setPortionNumber(portionNumber + k);\r\n  };\r\n\r\n\r\n  return (\r\n    <div className={classes.paginator_wrapper}>\r\n\r\n      <div className={classes.paginator}>\r\n        {portionNumber > 1 &&\r\n        <div onClick={(e)  => onPortionNumber(e,-1)}\r\n          className={`${classes.icon} ${classes.left}`}>\r\n          <div  className={classes.arrow}></div>\r\n        </div>\r\n        }\r\n\r\n        {currentPages}\r\n        {portionCount > portionNumber &&\r\n        <div onClick={(e)  => onPortionNumber(e,+1)}\r\n             className={classes.icon}>\r\n          <div  className={classes.arrow}></div>\r\n        </div>\r\n        // <button onClick={() => {\r\n        //   setPortionNumber(portionNumber + 1)\r\n        // }}>NEXT</button>\r\n        }\r\n        </div>\r\n\r\n    </div>\r\n  )\r\n};","import classes from \"./Footer.module.scss\"\r\nimport React from \"react\";\r\n\r\n\r\nexport const Footer = () => {\r\n  return (\r\n    <footer className={classes.footer}>\r\n      <p className={classes.footer_content}>Evgeniy Faleev © 2020. All\r\n        rights are not reserved\r\n      </p>\r\n    </footer>\r\n  )\r\n};","import React from \"react\";\r\nimport classes from \"./LoginForm.module.scss\"\r\nimport {ErrorMessage, useForm} from \"react-hook-form\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {authActions} from \"../../../modules/authorization\";\r\n\r\n\r\nexport const LoginForm = ({captchaUrl}) => {\r\n\r\n  const {register, errors, setError, handleSubmit} = useForm();\r\n  const dispatch = useDispatch();\r\n\r\n  const onSubmit = (formData) => {\r\n    dispatch(authActions.login(formData))\r\n      .then((error) => setError(\"logError\", \"notMatch\", error));\r\n  };\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n      <div><input name='email' className={classes.common_input}\r\n        onChange={() => console.log(errors)}\r\n        ref={register({\r\n          required: \"Please\" + \" enter your email\"\r\n        })}\r\n        placeholder='e-mail'\r\n      />\r\n        <ErrorMessage errors={errors} className={classes.span_error}\r\n          name=\"email\" as=\"span\"/>\r\n      </div>\r\n      <div><input name='password' className={classes.common_input}\r\n        ref={register({\r\n          required: \"Please\" + \" enter your password\"\r\n        })}\r\n        type=\"password\"\r\n        placeholder='password'\r\n      />\r\n        <ErrorMessage errors={errors} className={classes.span_error}\r\n          name=\"password\" as=\"span\"/>\r\n      </div>\r\n      <div>\r\n        <input name='rememberMe' className={classes.rememberMe}\r\n          type=\"checkbox\"/>\r\n        <label htmlFor=\"rememberMe\"\r\n          className={classes.rememberMe_label}>Remember Me</label>\r\n      </div>\r\n      {captchaUrl ?\r\n        <><img alt=\"captcha\" src={captchaUrl}/>\r\n          <input name='captcha' className={classes.common_input}\r\n            placeholder='Enter symbols'\r\n            ref={register({\r\n              required: \"Please\" + \" enter symbols\"\r\n            })} type=\"text\"/>\r\n          <ErrorMessage errors={errors} className={classes.span_error}\r\n            name=\"captcha\" as=\"span\"/></> :\r\n        \"\"}\r\n      <div>\r\n        <ErrorMessage errors={errors} className={classes.span_error}\r\n          name=\"logError\" as=\"p\"/>\r\n        <input\r\n          className={classes.common_input + \" \" + classes.send_btn}\r\n          value={\"Login\"} type=\"submit\"/>\r\n      </div>\r\n    </form>\r\n  )\r\n};\r\n","import React from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport {Redirect} from \"react-router\";\r\nimport {LoginForm} from \"./ui/organisms/LoginForm/LoginForm\";\r\nimport styles from \"./Login.module.scss\"\r\n\r\n\r\nexport const Login = () => {\r\n  const {isAuth, captchaUrl} = useSelector((state) => (\r\n    {\r\n      isAuth: state.auth.isAuth,\r\n      captchaUrl: state.auth.captchaUrl\r\n    }\r\n  ));\r\n\r\n  return isAuth ? <Redirect to={\"/profile\"}/> :\r\n   (\r\n    <div>\r\n      <h1 className={styles.login_title}>Please, log in...</h1>\r\n      <LoginForm captchaUrl={captchaUrl} />\r\n    </div>\r\n  )\r\n};\r\n\r\n","import * as types from \"./types\"\r\n\r\nexport const initialState = {\r\n  initialized: false,\r\n  isFetching: false\r\n};\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n      case types.INITIALIZED_SUCCESS:\r\n        return {\r\n          ...state,\r\n          initialized: true\r\n        };\r\n    case types.TOGGLE_IS_FETCHING:\r\n          return {\r\n            ...state,\r\n            isFetching: action.isFetching\r\n          };\r\n    default:\r\n      return state;\r\n\r\n  }\r\n};","import * as  types from \"./types\"\r\nimport * as authActions from \"../authorization/actions\";\r\n// ==========Action Creators======================\r\n\r\nexport const initializedSuccess = () => (\r\n  {\r\n    type: types.INITIALIZED_SUCCESS\r\n  }\r\n);\r\n// =====================Thunk Creators====================\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  return  dispatch(authActions.me(true)).then(() => {\r\n    dispatch(initializedSuccess())});\r\n};\r\n\r\nexport const toggleIsFetching = (isFetching) => (\r\n  {\r\n    type: types.TOGGLE_IS_FETCHING,\r\n    isFetching\r\n  }\r\n);\r\n","export const INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\nexport const TOGGLE_IS_FETCHING = \"users/TOGGLE_IS_FETCHING;\";","export const updateArrayOfItemsWithId = (items,\r\n  itemId,\r\n  newItemObjProps) => {\r\n  return items.map((item) => {\r\n    if (item.id === itemId) {\r\n      return {\r\n        ...item, ...newItemObjProps\r\n      };\r\n    } else {\r\n      return item;\r\n    }\r\n  })\r\n};","export const FOLLOW = \"users/FOLLOW\";\r\nexport const UN_FOLLOW = \"users/UN_FOLLOW\";\r\nexport const SET_USERS = \"users/SET_USERS\";\r\nexport const SET_FRIENDS = \"users/SET_FRIENDS\";\r\nexport const SET_CURRENT_PAGE = \"users/SET_CURRENT_PAGE\";\r\nexport const SET_TOTAL_COUNT = \"users/SET_TOTAL_COUNT;\";\r\nexport const SET_FRIENDS_COUNT = \"users/SET_FRIENDS_COUNT;\";\r\nexport const TOGGLE_IS_FOLLOWING = 'users/TOGGLE_IS_FOLLOWING';\r\n","import {updateArrayOfItemsWithId} from \"../../../../utils/obj-helpers\";\r\nimport * as types from \"./types\"\r\n\r\n\r\nconst initialState = {\r\n  friends: [],\r\n  users: [],\r\n  pageSize: 20,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  isFollowing: []\r\n};\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case types.FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateArrayOfItemsWithId(state.users,\r\n          action.userId,\r\n          {followed: true})\r\n      };\r\n    case types.UN_FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateArrayOfItemsWithId(state.users,\r\n          action.userId,\r\n          {followed: false})\r\n      };\r\n    case types.SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: [...action.users]\r\n      };\r\n    case types.SET_FRIENDS:\r\n      return {\r\n        ...state,\r\n        friends: [...action.friends]\r\n      };\r\n    case types.SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: +action.pageNumber\r\n      };\r\n    case types.SET_TOTAL_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.totalCount\r\n      };\r\n    case types.SET_FRIENDS_COUNT:\r\n      return {\r\n        ...state,\r\n        friendsCount: action.friendsCount\r\n      };\r\n    case types.TOGGLE_IS_FOLLOWING:\r\n      return {\r\n        ...state,\r\n        isFollowing: action.isFetchingButton ?\r\n          [...state.isFollowing, action.id] :\r\n          state.isFollowing.filter((id) => action.id !== id),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import {createSelector} from \"reselect\";\r\n\r\n\r\nexport const getUsers = (state) => state.users.users;\r\n\r\nexport const getUsersWithPhotoSelector = createSelector(\r\n  getUsers,\r\n  (users) => {\r\n    return users.filter(u => {\r\n      return !!u.photos.small;\r\n    });\r\n  });\r\n\r\nexport const getPageSize = (state) => state.users.pageSize;\r\n\r\nexport const getTotalUsersCount = (state) => state.users.totalUsersCount;\r\n\r\nexport const getCurrentPage = (state) => state.users.currentPage;\r\n\r\nexport const getIsFetching = (state) => state.users.isFetching;\r\n\r\nexport const getIsFollowing = (state) => state.users.isFollowing;\r\n\r\n","import * as types from \"./types\"\r\nimport {usersAPI} from \"../../../../api/api\";\r\nimport {initActions} from \"../../../autnentification/modules/initialization\";\r\nimport {usersActions} from \"./index\";\r\n\r\n// Action Creators===============================================\r\n\r\nexport const follow = (userId) => (\r\n  {\r\n    type: types.FOLLOW,\r\n    userId\r\n  }\r\n);\r\n\r\nexport const unFollow = (userId) => (\r\n  {\r\n    type: types.UN_FOLLOW,\r\n    userId\r\n  }\r\n);\r\n\r\nexport const setUsers = (users) => (\r\n  {\r\n    type: types.SET_USERS,\r\n    users\r\n  }\r\n);\r\nexport const setFriends = (friends) => (\r\n  {\r\n    type: types.SET_FRIENDS,\r\n    friends\r\n  }\r\n);\r\n\r\nexport const setCurrentPage = (pageNumber) => (\r\n  {\r\n    type: types.SET_CURRENT_PAGE,\r\n    pageNumber\r\n  }\r\n);\r\n\r\nexport const setTotalCount = (totalCount) => (\r\n  {\r\n    type: types.SET_TOTAL_COUNT,\r\n    totalCount\r\n  }\r\n);\r\n\r\n\r\nexport const toggleFollowingUser = (id, isFetchingButton) => (\r\n  {\r\n    type: types.TOGGLE_IS_FOLLOWING,\r\n    id,\r\n    isFetchingButton\r\n  }\r\n);\r\n// ============================Thunk Creators====================\r\n\r\nexport const getUsers = (pageSize,\r\n  currentPage,\r\n  isFriend = false,\r\n  term) => {\r\n  return (dispatch) => {\r\n    dispatch(initActions.toggleIsFetching(true));\r\n    return usersAPI.getUsers(pageSize, currentPage, isFriend, term)\r\n      .then((data) => {\r\n        if (currentPage !== 1) dispatch(setCurrentPage(currentPage));\r\n        dispatch(initActions.toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalCount(data.totalCount));\r\n      });\r\n  };\r\n};\r\nexport const search = (term) => async (dispatch, getState) => {\r\n  dispatch(initActions.toggleIsFetching(true));\r\n  const friendsPortion = await usersAPI.getUsers(getState().users.pageSize,\r\n    getState().users.currentPage / 2,\r\n    true,\r\n    term);\r\n  const usersPortion = await usersAPI.getUsers(getState().users.pageSize,\r\n    getState().users.currentPage / 2,\r\n    false,\r\n    term);\r\n  const allUsers = [...friendsPortion.items, ...usersPortion.items];\r\n  dispatch(setUsers(allUsers));\r\n  dispatch(setTotalCount(allUsers.length));\r\n  dispatch(initActions.toggleIsFetching(false));\r\n};\r\n\r\nexport const getFriendsDemo = (pageSize,\r\n  currentPage,\r\n  isFriend = true) => {\r\n  return (dispatch) => {\r\n    return usersAPI.getUsers(pageSize, currentPage, isFriend)\r\n      .then((data) => {\r\n        dispatch(setFriends(data.items));\r\n      });\r\n  };\r\n};\r\n\r\nexport const folowUnfollowFlow = (dispatch,\r\n  id,\r\n  apiMethod,\r\n  actionCreator) => {\r\n  dispatch(toggleFollowingUser(id, true));\r\n  return apiMethod(id)\r\n    .then((data) => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(usersActions.getFriendsDemo(6, 1));\r\n        dispatch(toggleFollowingUser(id, false));\r\n        dispatch(actionCreator(id));\r\n      }\r\n    });\r\n};\r\n\r\nexport const followUser = (id) => {\r\n  return (dispatch) => {\r\n    return folowUnfollowFlow(dispatch,\r\n      id,\r\n      usersAPI.followUser.bind(usersAPI),\r\n      follow);\r\n  }\r\n\r\n};\r\n\r\nexport const unFollowUser = (id) => {\r\n  return (dispatch) => {\r\n    return folowUnfollowFlow(dispatch,\r\n      id,\r\n      usersAPI.unFollowUser.bind(usersAPI),\r\n      unFollow);\r\n  }\r\n};\r\n","import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport styles from \"./FriendsBar.module.scss\"\r\nimport {Preloader} from \"../../../../../ui\";\r\nimport avatar_undefined\r\n  from \"../../../../../ui/assets/images/avatar-undefined.jpg\"\r\nimport {Link, NavLink} from \"react-router-dom\";\r\nimport {usersActions} from \"../../../modules/users\";\r\n\r\n\r\nexport const FriendsBar = ({clearPage}) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n      dispatch(usersActions.getFriendsDemo(6, 1));\r\n  }, [dispatch]);\r\n\r\n  const friends = useSelector((state) => state.users.friends);\r\n\r\n  const friendsElements = friends.map((friend) => {\r\n    return (\r\n      <div className={styles.friend}>\r\n        <Link to={`/profile/${friend.id}`}>\r\n          <img className={styles.friendPhoto}\r\n            src={friend.photos?.small || avatar_undefined}\r\n            alt=\"\"/>\r\n          <p className={styles.friendName}>{friend.name}</p>\r\n        </Link>\r\n      </div>\r\n    )\r\n  });\r\n  return (\r\n    <>\r\n\r\n      {friends.length === 0 ?\r\n        <Preloader/> :\r\n        <aside className={styles.friendsBar}>\r\n          <h3 onClick={clearPage}><NavLink activeClassName={styles.active}\r\n            to=\"/friends\">Friends</NavLink></h3>\r\n          <div className={styles.friendInfo}>\r\n            {friendsElements}\r\n          </div>\r\n        </aside>}\r\n    </>\r\n  )\r\n};","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {FriendsBar} from \"./ui/moleculs/FriendsBar/FriendsBar\";\r\n\r\n\r\n\r\nexport const Friends = ({clearPage}) => {\r\n\r\n  const isAuth = useSelector((state) => state.auth.isAuth);\r\n\r\n  return isAuth &&  <FriendsBar clearPage = {clearPage}/>\r\n};","import React from \"react\";\r\nimport classes from \"./Followbtn.module.scss\"\r\nimport {usersActions} from \"../../../modules/users\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nexport const FollowBtn = ({followed, isFollowing, id}) =>{\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const onFollow = (id) => {\r\n    dispatch(usersActions.followUser(id));\r\n  };\r\n\r\n  const onUnFollow = (id) => {\r\n    dispatch(usersActions.unFollowUser(id));\r\n  };\r\n  return  (\r\n     followed ? (\r\n      <button className={classes.followBtn}\r\n        disabled={isFollowing.some((item) => item === id)}\r\n        onClick={() => {\r\n          onUnFollow(id);\r\n        }}>\r\n        Unfollow\r\n      </button>\r\n    ) : (\r\n      <button  className={classes.followBtn}\r\n        disabled={isFollowing.some((item) => item === id)}\r\n        onClick={() => {\r\n          onFollow(id);\r\n        }}>\r\n        Follow\r\n      </button>\r\n    )\r\n    )\r\n};","import React from \"react\";\r\nimport {Link, NavLink} from \"react-router-dom\";\r\nimport {FollowBtn} from \"../../atoms/FollowBtn/FollowBtn\";\r\nimport classes from \"./User.module.scss\"\r\nimport ava_undefined\r\n  from \"../../../../../ui/assets/images/avatar-undefined.jpg\"\r\n\r\n\r\nexport const User = ({\r\n  status, isAuth, id, photo, fullName, followed, isFollowing\r\n}) => {\r\n  if(status && status.length > 30  ) {\r\n    status = status.trim().substr(0, 30) + \". . .\";\r\n  }\r\n  return (\r\n    <div className={classes.user} key={id}>\r\n\r\n      <div className={classes.user_info}>\r\n        <div className={classes.user_photo}>\r\n          <NavLink to={`/profile/${id}`}>\r\n            <img src={photo || ava_undefined}\r\n              alt=\"avatar\"/>\r\n          </NavLink>\r\n        </div>\r\n\r\n        <div><p>{fullName}</p>\r\n          <p className={classes.user_info_status}>{status}</p></div>\r\n      </div>\r\n      <div className={classes.btn_container}>\r\n        {isAuth ?\r\n          <>\r\n            <FollowBtn followed={followed} isFollowing={isFollowing}\r\n              id={id}\r\n            /><Link to={`/dialogs/${id}`}>\r\n            <button className={classes.sendMsg_btn}>Send Message\r\n            </button>\r\n          </Link> </> :\r\n          \"\"}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n};\r\n\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport {shallowEqual, useDispatch, useSelector} from \"react-redux\";\r\nimport {usersActions, usersSelectors} from \"./modules/users/\";\r\nimport {User} from \"./ui/organisms/User/User\";\r\nimport {Preloader} from \"../../ui/atoms/preloader/Preloader\";\r\nimport classes from \"./Users.module.scss\"\r\nimport {Paginator} from \"../../ui\";\r\nimport {useLocation, useParams} from \"react-router\";\r\n\r\n\r\nfunction isEmpty(obj) {\r\n  for (let key in obj) {\r\n\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nexport const Users = () => {\r\n  const path = useLocation().pathname;\r\n  const isFriends = path === \"/friends\";\r\n  const searchTerm = useParams().term;\r\n  const {\r\n    users: usersList, pageSize, totalUsersCount, currentPage, isFetching, isFollowing, isAuth\r\n  } = useSelector((state) => (\r\n    {\r\n      users: usersSelectors.getUsers(state),\r\n      pageSize: usersSelectors.getPageSize(state),\r\n      totalUsersCount: usersSelectors.getTotalUsersCount(state),\r\n      currentPage: usersSelectors.getCurrentPage(state),\r\n      isFetching: state.init.isFetching,\r\n      isFollowing: usersSelectors.getIsFollowing(state),\r\n      isAuth: state.auth.isAuth\r\n    }\r\n  ), shallowEqual);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (path.startsWith(\"/search/\")) {\r\n      dispatch(usersActions.search(searchTerm));\r\n    } else {\r\n      dispatch(usersActions.getUsers(pageSize,\r\n        currentPage,\r\n        isFriends));\r\n    }\r\n  }, [currentPage, pageSize, dispatch, path, isFriends, searchTerm]);\r\n\r\n  const onPageChanged = (pageNumber) => {\r\n    dispatch(usersActions.setCurrentPage(pageNumber))\r\n  };\r\n\r\n\r\n  const users = usersList.map((user) => {\r\n\r\n    return (\r\n      <User key={user.id} isAuth={isAuth}\r\n        photo={user.photos.small}\r\n        status={user.status}\r\n        status={user.status}\r\n        id={user.id}\r\n        followed={user.followed}\r\n        fullName={user.name}\r\n        isFollowing={isFollowing}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {isFetching ?\r\n        <Preloader/> :\r\n        (\r\n          <>\r\n            <div className={classes.users}>\r\n              {isEmpty(users) ? <p className={classes.users_notFound}>Sorry, nothing found</p> : users }\r\n\r\n            </div>\r\n            <Paginator totalUsersCount={totalUsersCount}\r\n              pageSize={pageSize} currentPage={currentPage}\r\n              onPageChanged={onPageChanged}/>\r\n          </>\r\n        )}\r\n    </>\r\n  );\r\n};\r\n\r\n","import React from \"react\";\r\nimport styles from \"./UsersSearch.module.scss\"\r\n\r\nexport const UsersSearch = ({searchTerm, onSearch, onChange}) => {\r\n  return (\r\n\r\n    <div className={styles.usersSearch}>\r\n      <p><input autoComplete=\"off\" onKeyDown={onSearch}\r\n        placeholder=\"Find User\" type=\"text\"\r\n        value={searchTerm} onChange={onChange}/>\r\n        <i className=\"fa fa-search\"></i>\r\n      </p>\r\n    </div>\r\n\r\n  )\r\n};","import React, {useState} from \"react\";\r\nimport {useHistory} from \"react-router\";\r\nimport {UsersSearch} from \"./ui/moleculs/UsersSearch/UsersSearch\";\r\n\r\n\r\nexport const Search = () => {\r\n  const history = useHistory();\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const onChange = (e) => {\r\n      setSearchTerm(e.target.value);\r\n  };\r\nconst onSearch = (e) => {\r\n    if (e.key === \"Enter\") history.push(`/search/${searchTerm}`)\r\n};\r\n  return (\r\n   <UsersSearch searchTerm={searchTerm} value={searchTerm} onChange={onChange} onSearch={onSearch}/>\r\n  )\r\n};","import {useHistory} from \"react-router\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\n\r\nexport const useAuthRedirect = () => {\r\n  const history = useHistory();\r\n  const isAuth = useSelector((state) =>  state.auth.isAuth);\r\n  if (!isAuth) {\r\n   history.push(\"/login\");\r\n  }\r\n};","import * as types from \"./types\"\r\n\r\n\r\nconst initialState = {\r\n  dialogs: null,\r\n  dialog: null,\r\n  newMessages: 0\r\n};\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case types.SET_DIALOGS :\r\n      return {\r\n        ...state,\r\n        dialogs: action.dialogs\r\n      };\r\n    case types.SET_DIALOG :\r\n      return {\r\n        ...state,\r\n        dialog: action.dialog\r\n      };\r\n      case types.SET_NEW_MESSAGES :\r\n      return {\r\n        ...state,\r\n        newMessages: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};","import * as types from \"./types\"\r\nimport {dialogsAPI} from \"../../../../api/api\";\r\nimport {initActions} from \"../../../autnentification/modules/initialization\";\r\nimport {toggleIsFetching} from \"../../../autnentification/modules/initialization/actions\";\r\n\r\n\r\nexport const setDialog = (dialog) => (\r\n  {\r\n    type: types.SET_DIALOG,\r\n    dialog\r\n  }\r\n);\r\n\r\nexport const setDialogs = (dialogs) => (\r\n  {\r\n    type: types.SET_DIALOGS,\r\n    dialogs\r\n  }\r\n);\r\nexport const setNewMessages = (payload) => (\r\n  {\r\n    type: types.SET_NEW_MESSAGES,\r\n    payload\r\n  }\r\n);\r\n\r\nexport const getNewMessagesCount = () => (dispatch) => {\r\n  dialogsAPI.getNewMessagesCount()\r\n    .then((count) => dispatch(setNewMessages(count)));\r\n};\r\n\r\nexport const getDialogs = () => (dispatch) => {\r\n  dispatch(initActions.toggleIsFetching(true));\r\n  dialogsAPI.getDialogs()\r\n    .then((dialogs) => {\r\n      const sortedDialogs = dialogs.sort((a, b) => b.newMessagesCount - a.newMessagesCount);\r\n      dispatch(setDialogs(sortedDialogs));\r\n      dispatch(toggleIsFetching(false));\r\n    });\r\n};\r\n\r\nexport const getDialog = (id) => (dispatch) => {\r\n  return dialogsAPI.getDialog(id)\r\n    .then((dialog) => {\r\n      dispatch(setDialog(dialog));\r\n        return dialog;\r\n      }\r\n    );\r\n};\r\n\r\n\r\nexport const sendMessage = (userId, message) => async () => {\r\n  await dialogsAPI.startDialog(userId);\r\n  await dialogsAPI.sendMessage(userId, message);\r\n};","export const SET_NEW_MESSAGES = \"dialogs/SET_NEW_MESSAGES\";\r\nexport const SET_DIALOGS = \"dialogs/SET_DIALOGS\";\r\nexport const SET_DIALOG = \"dialogs/SET_DIALOG\";","import React, {useRef} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {dialogsActions} from \"../../../modules/dialogs\";\r\nimport {useParams} from \"react-router\";\r\nimport classes from \"./DialogsForm.module.scss\";\r\n\r\nexport const DialogsForm = () => {\r\n\r\n  const {register, handleSubmit} = useForm();\r\n  const dispatch = useDispatch();\r\n  const {id} = useParams();\r\n  const inputMessage = useRef();\r\n\r\n  const onSendMessage = async ({message}) => {\r\n    await dispatch(dialogsActions.sendMessage(id, message));\r\n    await dispatch(dialogsActions.getDialog(id));\r\n    inputMessage.current.value = null;\r\n  };\r\n\r\nconst onResize = (e)=> {\r\n  const el = e.currentTarget;\r\n    setTimeout(function(){\r\n      console.log(el.scrollTop);\r\n      el.style.height = \"auto\";\r\n      el.style.height = el.scrollHeight +  \"px\";\r\n    },0);\r\n  if (e.keyCode === 13 && el.value.length > 0) {\r\n    e.preventDefault();\r\n    handleSubmit(onSendMessage)();\r\n    el.value=\"\";\r\n  }\r\n  };\r\n\r\n\r\n  return (\r\n    <form className={classes.wrapper} name=\"dialog\"  onSubmit={handleSubmit(onSendMessage)}>\r\n      <div><textarea  onKeyDown={onResize} ref={(elem) => {\r\n        register(elem, {\r\n          required: true\r\n        });\r\n        inputMessage.current = elem;\r\n      }} name=\"message\"\r\n        placeholder=\"Enter new message\"\r\n      /></div>\r\n      <div className={classes.button_wrapper}>\r\n        <button>Send</button>\r\n      </div>\r\n    </form>\r\n  )\r\n};\r\n\r\n\r\n","export const ADD_POST = \"profile/ADD-POST\";\r\nexport const SET_USER_PROFILE = \"profile/SET_USER_PROFILE\";\r\nexport const SET_STATUS = \"profile/SET_STATUS\";\r\nexport const UPDATE_PHOTO = \"profile/UPDATE_PHOTO\";\r\nexport const TOGGLE_IS_FOLLOWING = 'profile/TOGGLE_IS_FOLLOWING';\r\nexport const IS_FOLLOWED = \"profile/IS_FOLLOWED\";","import  * as types from \"./types\"\r\n\r\nexport const initialState = {\r\n  isFollowing: false,\r\n  followed:false,\r\n  profile: null,\r\n  status: \"Статус Редакса\"\r\n};\r\n\r\nexport const reducer = (state = initialState,\r\n  action) => {\r\n  switch (action.type) {\r\n    case types.ADD_POST:\r\n      return {\r\n        ...state,\r\n        enterPosts: [...state.enterPosts, {\r\n          message: action.newMessageBody,\r\n          likeCount: \"0\"\r\n        }],\r\n      };\r\n    case types.SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      };\r\n    case types.SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      };\r\n    case types.UPDATE_PHOTO:\r\n      return {\r\n        ...state,\r\n        profile: {...state.profile, photos: action.photo}\r\n      };\r\n    case types.TOGGLE_IS_FOLLOWING:\r\n      return{\r\n        ...state,\r\n        isFollowing: action.isFollowing\r\n      };\r\n      case types.IS_FOLLOWED:\r\n      return{\r\n        ...state,\r\n        followed: action.isFollowed\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {profileAPI, usersAPI} from \"../../../../api/api\";\r\nimport {initActions} from \"../../../autnentification/modules/initialization\";\r\nimport * as types from \"./types\";\r\nimport {usersActions} from \"../../../users/modules/users\";\r\n\r\n// ===============Action Creators====================\r\nexport const addPostActionCreator = (newMessageBody) => (\r\n  {\r\n    type: types.ADD_POST,\r\n    newMessageBody\r\n  }\r\n);\r\n\r\nexport const setUserProfile = (profile) => (\r\n  {\r\n    type: types.SET_USER_PROFILE,\r\n    profile: profile\r\n  }\r\n);\r\nexport const setStatus = (status) => (\r\n  {\r\n    type: types.SET_STATUS,\r\n    status\r\n  }\r\n);\r\n\r\nexport const updatePhoto = (photo) => (\r\n  {\r\n    type: types.UPDATE_PHOTO,\r\n    photo\r\n  }\r\n);\r\n\r\nexport const toggleIsFollowing = (isFollowing) => (\r\n  {\r\n    type: types.TOGGLE_IS_FOLLOWING,\r\n    isFollowing\r\n  }\r\n);\r\nexport const isFollowed = (isFollowed) => (\r\n  {\r\n    type: types.IS_FOLLOWED,\r\n    isFollowed\r\n  }\r\n);\r\n\r\n// ====================Thunk Creatots===========================\r\n\r\nexport const followUser = () => (dispatch, getState) => {\r\n  dispatch(toggleIsFollowing(true));\r\n  usersAPI.followUser(getState().profile.profile.userId)\r\n    .then(() => {\r\n      dispatch(isFollowed(true));\r\n      dispatch(toggleIsFollowing(false));\r\n      dispatch(usersActions.getFriendsDemo(6, 1));\r\n    });\r\n};\r\n\r\nexport const unFollowUser = () => (dispatch, getState) => {\r\n  dispatch(toggleIsFollowing(true));\r\n  usersAPI.unFollowUser(getState().profile.profile.userId)\r\n    .then(() => {\r\n      dispatch(isFollowed(false));\r\n      dispatch(toggleIsFollowing(false));\r\n      dispatch(usersActions.getFriendsDemo(6, 1));\r\n    });\r\n};\r\n\r\nexport const isUserFollowed = (userId) => (dispatch) => {\r\n  usersAPI.isFollowed(userId)\r\n    .then((response) => dispatch(isFollowed(response)))\r\n};\r\n\r\nexport const getUser = (userId) => (dispatch) => {\r\n  dispatch(initActions.toggleIsFetching(true));\r\n  return profileAPI.getUser(userId)\r\n    .then((data) => {\r\n      dispatch(setUserProfile(data));\r\n      dispatch(initActions.toggleIsFetching(false));\r\n    });\r\n};\r\n\r\nexport const getStatus = (id) => (dispatch) => {\r\n  return profileAPI.getStatus(id)\r\n    .then((status) => {\r\n      dispatch(setStatus(status));\r\n    });\r\n};\r\n\r\nexport const updateStatus = (status) => (dispatch) => {\r\n  return profileAPI.updateStatus(status)\r\n    .then(() => {\r\n      dispatch(setStatus(status))\r\n    });\r\n};\r\n\r\nexport const savePhoto = (photoFile) => async (dispatch) => {\r\n  let response = await profileAPI.setPhoto(photoFile);\r\n  dispatch(updatePhoto(response.data.data.photos))\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n\r\n  const response = await profileAPI.setProfile(profile);\r\n  if (response.data.resultCode === 0) {\r\n    await dispatch(getUser(getState().auth.user.id));\r\n  } else {\r\n    return response.data.messages;\r\n  }\r\n\r\n};","import React from \"react\";\r\nimport classes from \"./Message.module.scss\";\r\n\r\n\r\nexport const Message = React.forwardRef(({message, isOwner} ,ref) => {\r\n  return <div ref={ref} key={message.id}\r\n    className={`${classes.message} ${isOwner ? classes.owner: classes.other}`}>\r\n    <p className={classes.message_text}>{message.body}</p>\r\n    <p className={classes.message_meta}>{message.addedAt}</p>\r\n  </div>;\r\n});\r\n","import React, {useEffect, useRef, useState} from \"react\";\r\nimport {DialogsForm} from \"../DialogsForm/DialogsForm\";\r\nimport {shallowEqual, useDispatch, useSelector} from \"react-redux\";\r\nimport {useParams} from \"react-router\";\r\nimport {dialogsActions} from \"../../../modules/dialogs\";\r\nimport {profileActions} from \"../../../../profile/modules/profile\";\r\nimport {Preloader} from \"../../../../../ui\";\r\nimport {Message} from \"../../atoms/Message/Message\";\r\nimport classes from \"./Dialog.module.scss\"\r\nimport no_avatar\r\n  from \"../../../../../ui/assets/images/avatar-undefined.jpg\";\r\nimport msgClasses from \"../../atoms/Message/Message.module.scss\"\r\n\r\n\r\nexport const Dialog = () => {\r\n\r\n  const {id} = useParams();\r\n  const dispatch = useDispatch();\r\n  const [renderCount, setCount] = useState(0);\r\n\r\n  const {userName, userPhoto, dialog, authUserId} = useSelector((state) => (\r\n    {\r\n      userPhoto: state.profile.profile?.photos.small,\r\n      userName: state.profile.profile?.fullName,\r\n      dialog: state.dialogs.dialog,\r\n      authUserId: state.auth.user.userId,\r\n\r\n    }\r\n  ), shallowEqual);\r\n\r\n  const ref = useRef();\r\n\r\n  const messages = dialog?.map((message, index, arr) => {\r\n    return <Message message={message}\r\n\r\n      ref={arr.length - 1 === index ?\r\n        ref :\r\n        null}\r\n      isOwner={message.senderId === authUserId}/>\r\n  });\r\n\r\n  const avatar = userPhoto || no_avatar;\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    dispatch(profileActions.getUser(id));\r\n    const timerId = setInterval(() => {\r\n      dispatch(dialogsActions.getDialog(id));\r\n    }, 10000);\r\n\r\n    return () => {\r\n      clearInterval(timerId);\r\n      dispatch(dialogsActions.setDialog(null));\r\n    }\r\n  }, [id, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (ref.current) ref.current.scrollIntoView();\r\n\r\n    if (renderCount > 1) {\r\n      if(ref.current.classList.contains(msgClasses.owner)){\r\n        ref.current.classList.add(classes.new_owner);\r\n      } else{\r\n        ref.current.classList.add(classes.new_other)\r\n      }\r\n    }\r\n    setCount((prevState) => prevState + 1);\r\n  }, [dialog?.length]);\r\n\r\n  return (\r\n    <>\r\n      {dialog ?\r\n        <div className={classes.dialog_container}>\r\n          <div className={classes.userInfo}>\r\n            <img src={avatar} alt=\"avatar\"/>\r\n            <span>{userName}</span>\r\n          </div>\r\n          <div className={classes.dialog}>\r\n            {messages}\r\n          </div>\r\n          <DialogsForm/>\r\n        </div> :\r\n        <Preloader/>}\r\n    </>\r\n  );\r\n};","import React from \"react\";\r\nimport classes from \"./Dialog.module.scss\";\r\nimport {Link} from \"react-router-dom\";\r\nimport no_img from \"../../../../../ui/assets/images/avatar-undefined.jpg\"\r\n\r\n\r\nexport const DialogDescription = ({\r\n  hasNewMessages, id, lastDialogActivityDate, lastUserActivityDate,\r\n  newMessagesCount, photos: {small: avatar}, userName\r\n}) => {\r\n\r\n  return (\r\n    <Link to={`dialogs/${id}`}>\r\n    <section className={classes.dialog}>\r\n      <div className={classes.userImage}>\r\n        <img alt=\"avatar\"\r\n          src={avatar ||\r\n          no_img}/>\r\n      </div>\r\n      <div className={classes.messageInfo}>\r\n        <p  className={classes.userName}>{userName}</p>\r\n        {hasNewMessages ?\r\n          <span>You have a {newMessagesCount} new  message(s)</span> :\r\n          <span>You have no new messages</span>}\r\n\r\n          <p className={classes.metaInfo}>\r\n            Last message was:  {lastDialogActivityDate} <br/>\r\n            Last seen at:  {lastUserActivityDate}\r\n          </p>\r\n\r\n      </div>\r\n    </section>\r\n  </Link>\r\n  )\r\n};\r\n\r\n","import classes from \"../../Dialogs.module.scss\";\r\nimport React, {useEffect} from \"react\";\r\nimport {DialogDescription} from \"../molecules/DialogDescriprion/DialogDescription\";\r\nimport {shallowEqual, useDispatch, useSelector} from \"react-redux\";\r\nimport {dialogsActions} from \"../../modules/dialogs\";\r\nimport {Preloader} from \"../../../../ui\";\r\n\r\n\r\nexport const DialogsList = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(dialogsActions.getDialogs());\r\n  }, [dispatch]);\r\n\r\n  let {dialogs, isFetching} = useSelector((state) => (\r\n    {\r\n      dialogs: state.dialogs.dialogs,\r\n      isFetching: state.init.isFetching\r\n    }\r\n  ), shallowEqual);\r\n  dialogs = dialogs?.map((dialog) => {\r\n    return <DialogDescription key={dialog.id} {...dialog}/>;\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {isFetching ?\r\n        <Preloader/> :\r\n        <div className={classes.dialogs_wrapper}>\r\n          {dialogs ?\r\n            dialogs :\r\n            <p>No Dialogs Here</p>}\r\n        </div>}\r\n    </>\r\n  )\r\n};\r\n","import React from \"react\";\r\nimport {useAuthRedirect} from \"../../utils/useAuthRedirect\";\r\nimport {Route, Switch} from \"react-router\";\r\nimport {Dialog} from \"./ui/molecules/Dialog/Dialog\";\r\nimport {DialogsList} from \"./ui/organisms/DialogsList\";\r\n\r\n\r\nexport const Dialogs = () => {\r\n\r\n  useAuthRedirect();\r\n\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact\r\n          path={`/dialogs`}\r\n          component={DialogsList}/>\r\n        <Route\r\n          path={`/dialogs/:id`}\r\n          component={Dialog}/>\r\n\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n","import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {dialogsActions} from \"../../../modules/dialogs\";\r\nimport styles from \"./NewMessagesCount.module.scss\"\r\n\r\n\r\nexport const NewMessagesCount = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(dialogsActions.getNewMessagesCount());\r\n  }, [dispatch]);\r\n\r\n  const newMessagesCount = useSelector((state) => state.dialogs.newMessages);\r\n\r\n  return( newMessagesCount > 0 ?\r\n      <div className={styles.messages_count}>{newMessagesCount}</div> :\r\n      \"\"\r\n  )\r\n};\r\n","import {Header} from \"../organisms/Header/Header\";\r\nimport {Navbar} from \"../organisms/Navbar/Navbar\";\r\nimport React from \"react\";\r\nimport classes from \"./Common.module.scss\"\r\nimport {Footer} from \"../organisms/Footer/Footer\";\r\nimport {UserAuthInfo} from \"../../features/autnentification/\";\r\nimport {Friends} from \"../../features/users/Friends\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {usersActions} from \"../../features/users/modules/users\";\r\nimport {Search} from \"../../features/users\";\r\nimport {NewMessagesCount} from \"../../features/dialogs\";\r\n\r\n\r\nexport const CommonTemplate = ({children, clearMusicSearch}) => {\r\n  const dispatch = useDispatch();\r\n  const clearPage = () => {\r\n    dispatch(usersActions.setCurrentPage(1));\r\n  };\r\n  return (\r\n    <>\r\n      <Header>\r\n        <Search/>\r\n        <UserAuthInfo/>\r\n      </Header>\r\n      <div className={classes.app_wrapper}>\r\n        <div className={classes.content_wrapper}>\r\n          <Navbar clearPage={clearPage}\r\n            messagesCount={<NewMessagesCount/>}\r\n            clearMusicSearch={clearMusicSearch}>\r\n            <Friends clearPage={clearPage}/>\r\n          </Navbar>\r\n          <main className={classes.app_content}>\r\n            {children}\r\n          </main>\r\n        </div>\r\n        <Footer/>\r\n      </div>\r\n    </>\r\n  )\r\n};","import React from \"react\";\r\nimport {ErrorMessage, useForm} from \"react-hook-form\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {profileActions} from \"../../../modules/profile/\";\r\nimport classes from \"./ProfileForm.module.scss\"\r\n\r\n\r\nexport const ProfileForm = ({\r\n  profile: {contacts, lookingForAJob, lookingForAJobDescription, fullName}, closeEditMode\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const {register, handleSubmit, errors, triggerValidation, setError} = useForm();\r\n\r\n  const onSubmit = (profileData) => {\r\n\r\n    dispatch(profileActions.saveProfile(profileData))\r\n      .then((response) => {\r\n        if (response && response.length) {\r\n          response.forEach(() => setError('contactsErr',\r\n            'servererror',\r\n            \"Invalid Url Format\"));\r\n        } else {\r\n          closeEditMode();\r\n        }\r\n      });\r\n\r\n  };\r\n\r\n  const contactItems = Object.entries(contacts).map((item) => {\r\n\r\n    return <p className={classes.contacts_item}>{item[0].charAt(0)\r\n      .toUpperCase() + item[0].slice(1)}:\r\n      <input className={classes.contacts_input}\r\n        onChange={() => triggerValidation(\"contacts.\" + item[0])}\r\n        ref={register({\r\n          maxLength: {\r\n            value: 20,\r\n            message: <p>\"ERROR\"</p>\r\n          }\r\n        })}\r\n        name={\"contacts.\" + item[0]}\r\n        defaultValue={item[1]}/>\r\n      <ErrorMessage errors={errors}\r\n        name={\"contacts.\" + item[0]} as=\"p\" className={classes.error}/>\r\n    </p>\r\n  });\r\n\r\n\r\n  return (\r\n    <form className={classes.profileForm}\r\n      onSubmit={handleSubmit(onSubmit)}>\r\n      <div className={classes.profileForm_close} onClick={closeEditMode}>\r\n        <i className=\"fa fa-times\" aria-hidden=\"true\"/>\r\n      <small>close</small>\r\n      </div>\r\n      <section className={classes.name_wrapper}><p>Full Name:\r\n        <input ref={register} placeholder={\"Full Name\"}\r\n          name={\"FullName\"}\r\n          defaultValue={fullName}/>\r\n      </p>\r\n        <p>Looking for a Job:\r\n          <select ref={register} name=\"lookingForAJob\"\r\n            defaultValue={lookingForAJob ?\r\n              \"yes\" :\r\n              \"no\"}>\r\n            <option value={true}>Yes</option>\r\n            <option value={false}>No</option>\r\n          </select>\r\n        </p>\r\n      </section>\r\n      <p>My professional skills:\r\n        <input ref={register} name={\"LookingForAJobDescription\"}\r\n          defaultValue={lookingForAJobDescription}/>\r\n      </p>\r\n      <p>About Me:\r\n        <input ref={register} name={\"AboutMe\"}\r\n          defaultValue='About me'/>\r\n      </p>\r\n      <ErrorMessage errors={errors} name=\"contactsErr\"\r\n        className={classes.error} as=\"p\"/>\r\n      <div className={classes.info_box}>{contactItems}</div>\r\n      <button className={classes.editProfile_btn}>Save</button>\r\n\r\n    </form>\r\n  )\r\n};","import React from \"react\";\r\nimport classes from \"./Contacts.module.scss\"\r\n\r\n\r\nconst capitalizeFirstLetter = (string) => {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\nexport const Contacts = ({contacts}) => {\r\n\r\n  const newElements = Object.entries(contacts).map((item) => {\r\n    return <p className={classes.contacts_item}\r\n      key={item[0]}>{capitalizeFirstLetter(item[0])}:  {item[1] ?\r\n      <a className={classes.contacts_link} href={item[1]}>{item[1]}</a> :\r\n      \"...\"}</p>\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <h3 className={classes.contacts_header}>Contacts</h3>\r\n      <section className={classes.contacts}>\r\n\r\n        {newElements}\r\n      </section>\r\n    </>\r\n  )\r\n};","import React, {useState} from \"react\";\r\nimport {ProfileForm} from \"../ProfileForm/ProfileForm\";\r\nimport {Contacts} from \"../Contacts/Contacts\";\r\nimport classes from \"./ProfileDescription.module.scss\"\r\n\r\nexport const ProfileDescription = ({profile, isOwner}) => {\r\n\r\n  const [editMode, setEditMode] = useState(false);\r\n\r\n  const onOpenEditMode = (e) => {\r\n    e.preventDefault();\r\n    setEditMode(true);\r\n  };\r\n  return (\r\n    <div className={classes.profileDescription}>\r\n      {isOwner && editMode ?\r\n        <ProfileForm profile={profile}\r\n          closeEditMode={() => setEditMode(false)}/> :\r\n        <div className={classes.about_wrapper}>\r\n          <section className={classes.about}>\r\n            <h3 className={classes.about_header}>About</h3>\r\n            <p className={classes.about_item}>Looking for a Job: {profile.lookingForAJob ?\r\n            \"Yes\" :\r\n            \"No\"}</p>\r\n            <p className={classes.about_item}>Looking for a job\r\n            description: {profile.lookingForAJobDescription ||\r\n            \"...\"} </p>\r\n          </section>\r\n          <Contacts contacts={profile.contacts}/>\r\n           {isOwner ?\r\n            <button className={classes.editProfile_btn} onClick={onOpenEditMode}>Edit Profile</button> :\r\n            \"\"}\r\n        </div>}\r\n    </div>\r\n  )\r\n};","import React, {useEffect, useState} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {profileActions} from \"../../../../profile/modules/profile\";\r\nimport classes from \"./ProfileStatus.module.scss\";\r\n\r\nexport const ProfileStatus = ({dispatch, isOwner}) => {\r\n\r\n  const userStatus = useSelector((state) => (\r\n    state.profile.status\r\n  ));\r\n\r\n  let [status, setStatus] = useState(null);\r\n  let [editMode, setEditMode] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setStatus(userStatus)\r\n  }, [userStatus]);\r\n\r\n  const onStatusChange = (e) => {\r\n    dispatch(profileActions.updateStatus(e.target.value));\r\n    setEditMode(false);\r\n  };\r\n  return (\r\n    <div className={classes.profileStatus}>\r\n      {isOwner && editMode ?\r\n        <textarea\r\n          className={classes.profileStatus_textarea} autoFocus={true}\r\n          onChange={(e) => setStatus(e.target.value)}\r\n          onBlur={onStatusChange}\r\n          value={status}/> :\r\n        <p style={isOwner ? {cursor: \"pointer\"} : {cursor: \"\"}} onClick={() => setEditMode(true)}>{userStatus || \"no-\" +\r\n        \" status\"}</p>}\r\n    </div>\r\n  )\r\n};\r\n","import React, {useEffect} from \"react\";\r\nimport classes from \"./ProfileInfo.module.scss\";\r\nimport {shallowEqual, useDispatch, useSelector} from \"react-redux\";\r\nimport {ProfileDescription} from \"../../molecules/ProfileDescription/ProfileDescription\";\r\nimport {ProfileStatus} from \"../../atoms/ProfileStatus/ProfileStatus\";\r\nimport {profileActions} from \"../../../modules/profile\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nexport const ProfileInfo = ({userId, profile, authUserId, ...props}) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const isOwner = userId === authUserId;\r\n  const {followed, isFollowing} = useSelector((state) => (\r\n    {\r\n      followed: state.profile.followed,\r\n      isFollowing: state.profile.isFollowing\r\n    }\r\n  ), shallowEqual);\r\n  const onSaveFile = (e) => {\r\n    if (e.target.files.length) dispatch(profileActions.savePhoto(e.target.files[0]));\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(profileActions.isUserFollowed(userId));\r\n  }, [dispatch, userId]);\r\n\r\n  return (\r\n    <div className={classes.profileInfo_wrapper}>\r\n\r\n      <div className={classes.userPhoto_block}>\r\n        <label>\r\n          <img alt=\"avatar\"\r\n            className={`${classes.userPhoto} ${isOwner &&\r\n            classes.ownerPhoto}`} src={props.myAva_img}/>\r\n          {isOwner &&\r\n          <input hidden onChange={onSaveFile} type=\"file\"/>}\r\n        </label>\r\n      </div>\r\n\r\n      <section className={classes.profileInfo}>\r\n        <div className={classes.userName_container}>\r\n          <p className={classes.userName}>{profile.fullName}</p>\r\n          <ProfileStatus dispatch={dispatch} isOwner={isOwner}\r\n            userId={userId}/>\r\n\r\n          <div className={classes.buttons}>\r\n            {isOwner || <Link to={`/dialogs/${userId}`}>\r\n            <button> Send\r\n              message\r\n            </button>\r\n          </Link>}\r\n            {isOwner || (\r\n              followed ?\r\n                <button disabled={isFollowing}\r\n                  onClick={() => dispatch(profileActions.unFollowUser())}>Unfollow</button> :\r\n                <button disabled={isFollowing}\r\n                  onClick={() => {\r\n                    dispatch(profileActions.followUser())\r\n                  }}>Follow</button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <ProfileDescription profile={profile} isOwner={isOwner}/>\r\n      </section>\r\n\r\n\r\n    </div>\r\n  );\r\n};\r\n","import React, {useEffect} from \"react\";\r\nimport {shallowEqual, useDispatch, useSelector} from \"react-redux\";\r\nimport {useAuthRedirect} from \"../../utils/useAuthRedirect\";\r\nimport {Preloader} from \"../../ui\";\r\nimport {ProfileInfo} from \"./ui/organisms/ProfileInfo/ProfileInfo\";\r\nimport * as profileActions from \"./modules/profile/actions\";\r\nimport profileCommon from \"./ui/assets/profileCommon.jpg\";\r\nimport avatarUndefined\r\n  from \"../../ui/assets/images/avatar-undefined.jpg\"\r\nimport {useParams} from \"react-router\";\r\n\r\n\r\nexport const Profile = () => {\r\n\r\n  useAuthRedirect();\r\n  const selectedId = useParams().userId;\r\n  const dispatch = useDispatch();\r\n  const {profile, authUserId, isFetching} = useSelector((state) => {\r\n    return {\r\n      profile: state.profile.profile,\r\n      authUserId: state.auth.user.userId,\r\n      isFetching: state.init.isFetching\r\n    }\r\n  }, shallowEqual);\r\n\r\n\r\n  let userId = selectedId || authUserId;\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(profileActions.getUser(userId));\r\n    dispatch(profileActions.getStatus(userId));\r\n  }, [userId, dispatch]);\r\n\r\n\r\n  return (\r\n    <>\r\n      {isFetching || !profile ?\r\n        <Preloader/> :\r\n        (\r\n          <>\r\n            <ProfileInfo authUserId={authUserId} profile={profile}\r\n              userId={userId}\r\n              head_img={profileCommon}\r\n              myAva_img={profile.photos.small || avatarUndefined}\r\n            />\r\n          </>\r\n        )}\r\n    </>\r\n  );\r\n};\r\n","import {CommonTemplate} from \"../../ui/templates/Common\";\r\nimport React from \"react\";\r\nimport {Profile} from \"../../features/profile\";\r\n\r\n\r\nexport const ProfilePage = () => {\r\n  return (\r\n    <CommonTemplate>\r\n      <Profile/>\r\n    </CommonTemplate>\r\n  )\r\n};","import {CommonTemplate} from \"../../ui/templates/Common\";\r\nimport React from \"react\";\r\nimport {Dialogs} from \"../../features/dialogs\";\r\n\r\n\r\nexport const DialogsPage = () => {\r\n  return(\r\n    <CommonTemplate>\r\n      <Dialogs/>\r\n    </CommonTemplate>\r\n  )\r\n};","import  * as types from \"./types\"\r\n\r\nexport const initialState = {\r\narticles: null\r\n};\r\n\r\nexport const reducer = (state = initialState,\r\n  action) => {\r\n  switch (action.type) {\r\n    case types.SET_NEWS:\r\n      return {\r\n        ...state,\r\n       articles: action.articles\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://newsapi.org/v2\"\r\n});\r\nexport const newsAPI = {\r\n  getNews({type = \"top-headlines\", country = \"country=us\",\r\n    category = \"&category=general\", query=\"\"}) {\r\n    return instance.get(`/${type}?${country}${category}${query}&apiKey=9f6b4297388249849db6c199fd357b24`)\r\n      .then((response) => {\r\n        if (response.data.status === \"ok\") {\r\n          console.log(response.data.articles);\r\n          return response.data.articles\r\n        } else {\r\n          console.log(response);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n};","import * as types from \"./types\"\r\nimport {newsAPI} from \"../../../../api/newsAPI\";\r\n\r\n\r\nexport const setNews = (articles) => (\r\n  {\r\n    type: types.SET_NEWS,\r\n    articles\r\n  }\r\n);\r\nexport const getNews = (params) => (dispatch) => {\r\n  newsAPI.getNews(params).then((articles) => dispatch(setNews(articles)));\r\n};\r\n","export const SET_NEWS = \"music/SET_NEWS\";\r\n","import styles from \"./Categories.module.scss\";\r\nimport React from \"react\";\r\nimport {newsActions} from \"../../../modules/news\";\r\n\r\n\r\nexport const Categories = ({dispatch}) => {\r\n\r\n  const onCategoryChoose = (event) => {\r\n    if (event.target.classList.contains(styles.categories_category)) {\r\n      const category = `&category=${event.target.dataset.cat}`;\r\n      console.log(category);\r\n      dispatch(newsActions.getNews({\r\n        category\r\n      }))\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section onClick={onCategoryChoose} className={styles.categories}>\r\n      <div data-cat=\"general\"\r\n        className={styles.categories_category + \" \" +\r\n        styles.all}>All\r\n      </div>\r\n      <div data-cat=\"business\"\r\n        className={styles.categories_category + \" \" +\r\n        styles.business}>Business\r\n      </div>\r\n      <div data-cat=\"entertainment\"\r\n        className={styles.categories_category + \" \" +\r\n        styles.entertaiment}>Entertainment\r\n      </div>\r\n      <div data-cat=\"science\"\r\n        className={styles.categories_category + \" \" +\r\n        styles.science}>Science\r\n      </div>\r\n      <div data-cat=\"sports\"\r\n        className={styles.categories_category + \" \" +\r\n        styles.sport}>Sports\r\n      </div>\r\n      <div data-cat=\"technology\"\r\n        className={styles.categories_category + \" \" +\r\n        styles.technology}>Technology\r\n      </div>\r\n    </section>\r\n  );\r\n};","import React from \"react\";\r\nimport classes from \"./Article.module.scss\"\r\nimport mockImg from \"../../assets/categories/news.jpg\"\r\n\r\n\r\nexport const Article =\r\n  ({title, urlToImage, description, content, author, url, source, publishedAt}) => {\r\n\r\n  return <article className={classes.news_article} style={{backgroundImage: `url(${urlToImage || mockImg})`}}\r\n    key={url}>\r\n    <a href={url}>\r\n    <h3 className={classes.news_article_title}>{title}</h3>\r\n    <p\r\n      className={classes.news_article_description}>{description}</p>\r\n    <p className={classes.news_article_content}>{content}</p>\r\n    </a>\r\n    <p className={classes.news_article_author}>{author}</p>\r\n    <p\r\n      className={classes.news_article_src}>{source.name}</p>\r\n\r\n  </article>\r\n};\r\n","import classes from \"../../News.module.scss\";\r\nimport React from \"react\";\r\nimport {Preloader} from \"../../../../ui\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {Article} from \"../moleculs/Article/Article\";\r\n\r\n\r\nexport const Articles = () => {\r\n\r\n\r\n  const articles = useSelector((state) => (\r\n    state.news.articles\r\n  ));\r\n\r\n  let articleElements = articles?.map((item) => {\r\n    return <Article {...item}/>\r\n  });\r\n\r\n  if (articleElements?.length === 0) {\r\n    articleElements = \"Sorry nothing found\";\r\n  }\r\n\r\nreturn(\r\n  articles ?\r\n  <section\r\n    className={classes.news}>\r\n    {articleElements || <Preloader/>}\r\n  </section> :\r\n    <Preloader/>\r\n)\r\n};","import React from \"react\";\r\nimport {newsActions} from \"../../../modules/news\";\r\nimport classes from \"./Search.module.scss\"\r\n\r\n\r\nexport const Search = ({dispatch}) => {\r\n\r\n  const onSearch = (event) => {\r\n    event.preventDefault();\r\n    const query = event.target.search_query.value;\r\n    dispatch(newsActions.getNews({\r\n      query: `q=${query}`,\r\n      category: \"\",\r\n      country: \"\"\r\n    }))\r\n  };\r\n\r\n  return (\r\n    <section id={classes.cover}>\r\n      <form onSubmit={onSearch} autoComplete=\"off\">\r\n        <div className={classes.search_block}>\r\n          <div className={classes.search_query}>\r\n            <input className={classes.search_query} name=\"search_query\"\r\n              placeholder=\"Search...\" type=\"text\"/>\r\n          </div>\r\n          <div className={classes.search_btn} id={classes['s-cover']}>\r\n            <button type=\"submit\">\r\n              <div id={classes['s-circle']}></div>\r\n              <span></span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </section>\r\n  )\r\n};\r\n","import React, {useEffect} from \"react\";\r\nimport classes from \"./News.module.scss\";\r\nimport {newsActions} from \"./\"\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Preloader} from \"../../ui\";\r\nimport {Categories} from \"./ui/moleculs/Categories/Categories\";\r\nimport {Articles} from \"./ui/Organisms/Articles\";\r\nimport {Search} from \"./ui/moleculs/Search/Search\";\r\n\r\n\r\nexport const News = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(newsActions.getNews({}))\r\n  }, [dispatch]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return <div className={classes.news_wrapper}>\r\n   <Search dispatch={dispatch}/>\r\n    <Categories dispatch={dispatch}/>\r\n    <Articles/>\r\n  </div>;\r\n};\r\n","import {CommonTemplate} from \"../../ui/templates/Common\";\r\nimport React from \"react\";\r\nimport {News} from \"../../features/news\";\r\n\r\n\r\nexport const NewsPage = () => {\r\n  return(\r\n    <CommonTemplate>\r\n      <News/>\r\n    </CommonTemplate>\r\n  )\r\n};","import  * as types from \"./types\"\r\n\r\nexport const initialState = {\r\ncharts: null,\r\n  searchResults: null\r\n};\r\n\r\nexport const reducer = (state = initialState,\r\n  action) => {\r\n  switch (action.type) {\r\n    case types.SET_MUSIC_CHARTS:\r\n      return {\r\n        ...state,\r\n       charts: action.charts\r\n      };\r\n      case types.SET_SEARCH_RESULTS:\r\n      return {\r\n        ...state,\r\n        searchResults: action.searchResults\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://cors-anywhere.herokuapp.com/http://api.deezer.com/'\r\n});\r\n\r\nexport const musicApi = {\r\n  getMusicChart() {\r\n    return instance.get(`chart/`)\r\n      .then(response => {\r\n        return response.data;\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  },\r\n\r\n  search(query){\r\n    return instance.get(`/search?q=${query}`).then((response)=>{\r\n      return response.data\r\n    }).catch((err) => console.log(err))\r\n  }\r\n};\r\n\r\n","import * as types from \"./types\"\r\nimport {musicApi} from \"../../../../api/musicAPI\";\r\n\r\n\r\nexport const setMusicCharts = (charts) => (\r\n  {\r\n    type: types.SET_MUSIC_CHARTS,\r\n    charts\r\n  }\r\n);\r\nexport const setSearchResults = (searchResults) => (\r\n  {\r\n    type: types.SET_SEARCH_RESULTS,\r\n    searchResults\r\n  }\r\n);\r\n\r\nexport const getMusicChart = (category) => (dispatch) => {\r\n  musicApi.getMusicChart(category)\r\n    .then((charts) => {\r\n      dispatch(setMusicCharts(charts))\r\n    });\r\n};\r\n\r\nexport const search = (query) => (dispatch) =>{\r\n return  musicApi.search(query).then((searchResults) => {\r\n   dispatch(setSearchResults((searchResults)))\r\n  })\r\n};","export const SET_MUSIC_CHARTS = \"music/SET_MUSIC_CHARTS\";\r\nexport const SET_SEARCH_RESULTS = \"music/SET_SEARCH_RESULTS\";\r\n","export const converter = (duration) => {\r\n  const minutes = Math.floor(duration / 60);\r\n  let seconds = String(Math.floor(duration % 60));\r\n  if (seconds.length === 1) {\r\n    seconds = \"0\" + seconds;\r\n  }\r\n  const result = minutes + \" : \" + seconds;\r\n  return result;\r\n};\r\n\r\nexport const calculateProgress = (mouseX, progressElement) => {\r\n  const barWidth = progressElement.getBoundingClientRect().right -\r\n    progressElement.getBoundingClientRect().left;\r\n  const scrollPos = Math.abs(mouseX -\r\n    progressElement.getBoundingClientRect().left);\r\n  const percentToScroll = scrollPos / barWidth * 100;\r\n  return percentToScroll;\r\n};","\r\nimport * as types from \"./types\"\r\n\r\nexport const initialState = {\r\n  currentAlbum: \"\",\r\n  bgPhoto: \"\",\r\n  currentNumber: 0,\r\n  currentSrc: \"\",\r\n  progress: 0,\r\n  volume: 50,\r\n  duration: \"\",\r\n  currentSecond: \"\",\r\n  hintTime: \"\",\r\n  isPlaying: false,\r\n  artist: \"\",\r\n  title: \"\",\r\n};\r\n\r\n\r\nexport  function reducer(state, action) {\r\n  switch (action.type) {\r\n    case types.NEXT_SONG:\r\n      return {\r\n        ...state, ...action.payload,\r\n        currentNumber: state.currentNumber + 1\r\n      };\r\n    case types.PREV_SONG:\r\n      return {\r\n        ...state, ...action.payload,\r\n        currentNumber: state.currentNumber - 1,\r\n      };\r\n    case types.SET_SONG:\r\n      return {\r\n        ...state, ...action.payload\r\n      };\r\n    case types.SET_PROGRESS:\r\n      return {\r\n        ...state, ...action.payload\r\n      };\r\n    case types.SET_VOLUME:\r\n      return {\r\n        ...state,\r\n        volume: action.payload\r\n      };\r\n    case types.SET_DURATION:\r\n      return {\r\n        ...state,\r\n        duration: action.payload\r\n      };\r\n    case types.SET_HINT:\r\n      return {\r\n        ...state,\r\n        hintTime: action.payload\r\n      };\r\n    case types.TOGGLE_IS_PLAYING:\r\n      return {\r\n        ...state,\r\n        isPlaying: action.payload\r\n      };\r\n    default:\r\n      throw new Error();\r\n  }\r\n}","export const NEXT_SONG = \"player/NEXT_SONG\";\r\nexport const PREV_SONG = \"player/PREV_SONG\";\r\nexport const SET_SONG = \"player/SET_SONG\";\r\nexport const SET_PROGRESS = \"player/SET_PROGRESS\";\r\nexport const SET_VOLUME = \"player/SET_VOLUME\";\r\nexport const SET_DURATION = \"player/SET_DURATION\";\r\nexport const SET_HINT = \"player/SET_HINT\";\r\nexport const TOGGLE_IS_PLAYING = \"player/TOGGLE_IS_PLAYING\";","import * as types from \"./types\"\r\n\r\nexport const nextSong = (payload) => (\r\n  {\r\n    type: types.NEXT_SONG,\r\n    payload\r\n  }\r\n);\r\nexport const setHint = (payload) => (\r\n  {\r\n    type: types.SET_HINT,\r\n    payload\r\n  }\r\n);\r\n\r\nexport const toggleIsPlaying = (payload) => (\r\n  {\r\n    type: types.TOGGLE_IS_PLAYING,\r\n    payload\r\n  }\r\n);\r\n\r\nexport const setDuration = (payload) => (\r\n  {\r\n    type: types.SET_DURATION,\r\n    payload\r\n  }\r\n);\r\n\r\nexport const prevSong = (payload) => (\r\n  {\r\n    type: types.PREV_SONG,\r\n    payload\r\n  }\r\n);\r\n\r\nexport const setSong = (payload) => (\r\n  {\r\n    type: types.SET_SONG,\r\n    payload\r\n  }\r\n);\r\n\r\nexport const setProgress = (payload) => (\r\n  {\r\n    type: types.SET_PROGRESS,\r\n    payload\r\n  }\r\n);\r\nexport const setVolume = (payload) => (\r\n  {\r\n    type: types.SET_VOLUME,\r\n    payload\r\n  }\r\n);","import React, {useEffect, useRef} from \"react\";\r\nimport styles from \"./Player.module.scss\";\r\nimport {calculateProgress, converter} from \"../../../utils\";\r\nimport {playerActions} from \"../../../modules/player\";\r\n\r\n\r\nexport const Player = React.forwardRef(({dispatch,state,initPlayer,...props},ref) => {\r\n  const trackRef = ref;\r\n  const hintRef = useRef();\r\n\r\n  const onForward = () => {\r\n    if (state.currentNumber >= 9) {\r\n      return\r\n    }\r\n    const nextTrackNumber = state.currentNumber + 1;\r\n    const query = \"div[data-track_number='\" + `${nextTrackNumber}` +\r\n      \"']\";\r\n\r\n    const nextTrack = document.querySelector(`${query}`);\r\n    dispatch(playerActions.nextSong({\r\n      currentSrc: nextTrack.dataset.url_track,\r\n      currentAlbum: nextTrack.dataset.album_photo,\r\n      bgPhoto: nextTrack.dataset.bg_photo,\r\n      artist: nextTrack.dataset.artist_name,\r\n      title: nextTrack.dataset.track_title\r\n    }));\r\n  };\r\n  const onBackward = () => {\r\n    if (state.currentNumber <= 0) return;\r\n    const prevTrackNumber = state.currentNumber - 1;\r\n    const query = \"div[data-track_number='\" + `${prevTrackNumber}` +\r\n      \"']\";\r\n    const prevTrack = document.querySelector(`${query}`);\r\n    dispatch(playerActions.prevSong({\r\n      currentSrc: prevTrack.dataset.url_track,\r\n      currentAlbum: prevTrack.dataset.album_photo,\r\n      bgPhoto: prevTrack.dataset.bg_photo,\r\n      artist: prevTrack.dataset.artist_name,\r\n      title: prevTrack.dataset.track_title\r\n    }));\r\n  };\r\n\r\n  const seekProgress = (e) => {\r\n    if (!isNaN(trackRef.current.duration)) {\r\n      const duration = trackRef.current.duration;\r\n      const percent = calculateProgress(e.pageX, e.currentTarget);\r\n      dispatch(playerActions.setProgress(percent));\r\n      trackRef.current.currentTime = duration / 100 * percent;\r\n    }\r\n  };\r\n\r\n  const playingProgress = (e) => {\r\n    const duration = trackRef.current.duration;\r\n    const currentSecond = converter(trackRef.current.currentTime);\r\n    dispatch(playerActions.setProgress({\r\n      progress: trackRef.current.currentTime / duration * 100,\r\n      currentSecond: currentSecond\r\n    }));\r\n    if (trackRef.current.ended) onForward();\r\n  };\r\n\r\n  const onVolume = (e) => {\r\n    dispatch(playerActions.setVolume(e.target.value));\r\n\r\n  };\r\n\r\n  const showHint = (e) => {\r\n    if (!isNaN(state.progress)) {\r\n      const percent = calculateProgress(e.clientX, e.currentTarget);\r\n      const result = converter(Math.floor((\r\n        trackRef.current.duration / 100\r\n      ) * percent));\r\n      dispatch(playerActions.setHint(result));\r\n      hintRef.current.style.left =\r\n        e.clientX - e.currentTarget.getBoundingClientRect().left +\r\n        \"px\";\r\n      hintRef.current.hidden = false;\r\n    }\r\n  };\r\n\r\n  const closeHint = (e) => {\r\n    hintRef.current.hidden = true;\r\n  };\r\n\r\n  useEffect(() => {\r\n    trackRef.current.volume = state.volume / 100;\r\n  }, [state.volume]);\r\n\r\nreturn(\r\n  <div className={styles.player}>\r\n    <audio ref={trackRef} onTimeUpdate={playingProgress}\r\n      onLoadedData={() => {\r\n        dispatch(playerActions.setDuration(converter(trackRef.current.duration)))\r\n      }}\r\n      src={state.currentSrc}\r\n      preload=\"none\" data-track_number={state.currentNumber}/>\r\n    <div onClick={initPlayer} className={styles.play_block}>\r\n      <img\r\n        src={state.currentAlbum} alt=\"player_album\"/>\r\n      {state.isPlaying ?\r\n        <i className={\"fa fa-pause\" + \" \" + styles.pause}/> :\r\n        <i className={\"fa fa-play\" + \" \" + styles.play}/>}\r\n\r\n    </div>\r\n    <div className={styles.arrows}>\r\n      <i className=\"fa fa-step-backward\" onClick={onBackward}\r\n        aria-hidden=\"true\"/>\r\n      <i className=\"fa fa-step-forward\" onClick={onForward}\r\n        aria-hidden=\"true\"/>\r\n    </div>\r\n    <div className={styles.progress_bar}>\r\n      <div className={styles.title_info}>\r\n            <span\r\n              className={styles.title}>{state.artist} - {state.title}</span>\r\n        <small>{state.currentSecond}{state.duration ?\r\n          \"/\" + state.duration :\r\n          \"/0 : 00\"} </small>\r\n      </div>\r\n      <div className={styles.progress_wrapper}>\r\n        <progress onClick={seekProgress} max=\"100\"\r\n          onMouseMove={showHint} onMouseLeave={closeHint}\r\n          value={state.progress}>\r\n        </progress>\r\n\r\n        <small ref={hintRef}\r\n          className={styles.hint}>{state.hintTime}\r\n        </small>\r\n      </div>\r\n    </div>\r\n\r\n    <div className={styles.volume}>\r\n      {state.volume > 0 ?\r\n        <i className=\"fa fa-volume-up\" aria-hidden=\"true\"/> :\r\n        <i className=\"fa fa-volume-off\" aria-hidden=\"true\"/>}\r\n      <input type=\"range\" onChange={onVolume}\r\n        value={state.volume}/>\r\n    </div>\r\n  </div>\r\n)\r\n});","import styles from \"./Tracks.module.scss\"\r\nimport {Preloader} from \"../../../../../ui\";\r\nimport React, {useEffect, useReducer, useRef} from \"react\";\r\nimport {converter} from \"../../../utils\"\r\nimport {Player} from \"../Player/Player\";\r\nimport {\r\n  playerActions, playerInitialState, playerReducer\r\n} from \"../../../modules/player\";\r\n\r\n\r\nexport const Tracks = ({tracks, children}) => {\r\n\r\n  const trackRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (tracks) {\r\n      dispatch(playerActions.setSong({\r\n        currentAlbum: tracks[0].album.cover_small,\r\n        currentSrc: tracks[0].preview,\r\n        bgPhoto: tracks[0].artist.picture_xl,\r\n        artist: tracks[0].artist.name,\r\n        title: tracks[0].title\r\n      }))\r\n    }\r\n  }, [tracks]);\r\n\r\n  const [state, dispatch] = useReducer(playerReducer,\r\n    playerInitialState);\r\n\r\n  const initPlayer = (e) => {\r\n    if (e.currentTarget.dataset.url_track && state.currentSrc !==\r\n      e.currentTarget.dataset.url_track) {\r\n      dispatch((\r\n        playerActions.setSong({\r\n          currentNumber: +e.currentTarget.dataset.track_number,\r\n          currentSrc: e.currentTarget.dataset.url_track,\r\n          currentAlbum: e.currentTarget.dataset.album_photo,\r\n          bgPhoto: e.currentTarget.dataset.bg_photo,\r\n          artist: e.currentTarget.dataset.artist_name,\r\n          title: e.currentTarget.dataset.track_title\r\n        })\r\n      ));\r\n    } else {\r\n      onPlay();\r\n    }\r\n  };\r\n\r\n  const onPlay = () => {\r\n    if (trackRef.current.paused) {\r\n      trackRef.current.play();\r\n      dispatch(playerActions.toggleIsPlaying(true));\r\n      console.log(\"play\")\r\n    } else {\r\n      trackRef.current.pause();\r\n      dispatch(playerActions.toggleIsPlaying(false));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (state.currentSrc.length > 0) onPlay();\r\n  }, [state.currentNumber]);\r\n\r\n  const tracksElements = tracks?.map((track, index) => {\r\n    let playing;\r\n    if (state.currentNumber === index) {\r\n      playing = styles.track_album_playing;\r\n    } else {\r\n      playing = \"\";\r\n    }\r\n\r\n    return <div key={track.id} className={styles.track_container}>\r\n      <div\r\n        data-url_track={track.preview}\r\n        data-track_number={index}\r\n        data-album_photo={track.album.cover_small}\r\n        data-bg_photo={track.artist.picture_xl}\r\n        data-track_title={track.title}\r\n        data-artist_name={track.artist.name}\r\n        onClick={initPlayer}\r\n        className={styles.track_album + \" \" + playing}>\r\n        <img\r\n          alt=\"artist_image\" src={track.album.cover_small}/>\r\n        <i className=\"fa fa-play\"/>\r\n      </div>\r\n      <div className={styles.track_title}>\r\n        <a href={track.artist.link}>\r\n          <span>{track.artist.name} - {track.title}</span>\r\n        </a>\r\n        <small\r\n          className={styles.track_title_duration}>{converter(track.duration)}\r\n        </small>\r\n      </div>\r\n    </div>\r\n  });\r\n\r\n  return (\r\n    <>\r\n\r\n      { tracksElements ?\r\n        <Player ref={trackRef} dispatch={dispatch} state={state}\r\n          initPlayer={initPlayer}/> :\r\n        <Preloader/> }\r\n      <div className={styles.music_tracks}>\r\n        <h3 className={styles.category_header}>{children}</h3>\r\n        {tracksElements || <Preloader/>}\r\n      </div>\r\n    </>\r\n  )\r\n};","import React from \"react\";\r\nimport styles from \"./Arrow.module.scss\"\r\n\r\nexport const Arrow = ({back}) => {\r\n return <i className={`fa fa-angle-left ${styles.back}`} onClick={back}aria-hidden=\"true\"/>\r\n};","import React from \"react\";\r\nimport {musicActions} from \"../../modules/music\";\r\nimport {Tracks} from \"./Tracks/Tracks\";\r\nimport {Arrow} from \"../../../../ui/atoms/Arrow/Arrow\";\r\n\r\n\r\nexport const SearchResults = ({searchResults, dispatch}) => {\r\n\r\n\r\n  const onBackToChart = () => {\r\n    dispatch(musicActions.setSearchResults(null));\r\n  };\r\n\r\n\r\n  return (\r\n\r\n    <Tracks tracks={searchResults}>\r\n      <>\r\n        <Arrow back={onBackToChart}/> Search Results\r\n      </>\r\n    </Tracks>\r\n  )\r\n};","import React from \"react\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {musicActions} from \"../../../modules/music\";\r\nimport styles from \"./Search.module.scss\"\r\n\r\nexport const Search = ({dispatch}) => {\r\n\r\n  const {register, handleSubmit} = useForm();\r\n  const onSearch = ({query}) => {\r\n    dispatch(musicActions.search(query));\r\n  };\r\n\r\nreturn(\r\n  <div className={styles.search}>\r\n    <form onSubmit={handleSubmit(onSearch)}>\r\n      <input autoComplete=\"off\" ref={register({required: true})} name=\"query\"\r\n        type=\"text\"/>\r\n      <i className=\"fa fa-search\"></i>\r\n    </form>\r\n  </div>\r\n)\r\n};","import React from \"react\";\r\nimport styles from \"./Card.module.scss\"\r\n\r\n\r\nexport const Card = ({id, link, artistName, title, picture, font_size}) => {\r\n  return (\r\n    <section className={styles.card} key={id}>\r\n      {title || artistName ?\r\n        <p style={{\r\n          \"fontSize\": font_size\r\n        }} className={styles.card_name}><a\r\n          href={link}>{title || artistName}\r\n        </a>\r\n        </p> :\r\n        \"\"}\r\n      <a href={link}>\r\n        <img src={picture} alt={artistName}/>\r\n      </a>\r\n    </section>\r\n  )\r\n};","import styles from \"./Cards.module.scss\";\r\nimport {Preloader} from \"../../../../../ui\";\r\nimport React from \"react\";\r\n\r\n\r\nexport const Cards= ({children, header}) => {\r\n\r\n\r\n  return (\r\n    <>\r\n      <h3 className={styles.cards_header}>{header}</h3>\r\n      <div className={styles.cards}>\r\n        {children || <Preloader/>}\r\n      </div>\r\n    </>\r\n  )\r\n};","import React from \"react\";\r\nimport {Card} from \"../templates/card/Card\";\r\nimport {Cards} from \"../templates/cards/Cards\";\r\n\r\n\r\nexport const Artists = ({artists}) => {\r\n  \r\n  const artistsElements = artists?.map((artist) =>\r\n    <Card\r\n    id={artist.id} link={artist.link} picture={artist.picture_big}\r\n    artistName={artist.name}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Cards header=\"Top Artists\">\r\n      {artistsElements}\r\n      </Cards>\r\n    </>\r\n  )\r\n};","import classes from \"../../Music.module.scss\";\r\nimport {Preloader} from \"../../../../ui\";\r\nimport React from \"react\";\r\nimport {Card} from \"../templates/card/Card\";\r\nimport {Cards} from \"../templates/cards/Cards\";\r\n\r\n\r\nexport const Albums = ({albums}) => {\r\n\r\n  const albumsElements = albums?.map((album) =>\r\n    <Card\r\n    id={album.id} picture={album.cover_big}\r\n    artistName={album.artist.name}\r\n    title={album.title}\r\n    link={album.link}\r\n      font_size=\"1rem\"\r\n  />);\r\n\r\n  return (\r\n    <>\r\n      <Cards header=\"Top Albums\">\r\n        {albumsElements}\r\n      </Cards>\r\n    </>\r\n  )\r\n};","import classes from \"../../Music.module.scss\";\r\nimport React from \"react\";\r\nimport {Card} from \"../templates/card/Card\";\r\nimport {Cards} from \"../templates/cards/Cards\";\r\n\r\n\r\nexport const Podcasts = ({podcasts}) => {\r\n\r\n  const podcastsElements = podcasts?.map((podcast) => {\r\n\r\n    return <Card\r\n      id={podcast.id} pictureLink={podcast.link}\r\n      picture={podcast.picture_big}\r\n      // title={podcast.title}\r\n    >\r\n      <p\r\n        className={classes.podcast_description}>{podcast.description}</p>\r\n    </Card>\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Cards header=\"Top Podcasts\">\r\n        {podcastsElements}\r\n      </Cards>\r\n    </>\r\n  )\r\n};","import classes from \"../../Music.module.scss\";\r\nimport {Preloader} from \"../../../../ui\";\r\nimport React from \"react\";\r\nimport {Card} from \"../templates/card/Card\";\r\nimport {Cards} from \"../templates/cards/Cards\";\r\n\r\n\r\nexport const Playlists = ({playlists}) => {\r\n\r\n  const playlistsElements = playlists?.map((playlist) =>\r\n    <Card\r\n    id={playlist.id} pictureLink={playlist.link}\r\n    picture={playlist.picture_big}\r\n    // title={playlist.title}\r\n  />);\r\n\r\n  return (\r\n    <>\r\n      <Cards header=\"Top Playlists\">\r\n        {playlistsElements}\r\n      </Cards>\r\n    </>\r\n  )\r\n};","import classes from \"../../Music.module.scss\";\r\nimport {Tracks} from \"./Tracks/Tracks\";\r\nimport {Artists} from \"./Artists\";\r\nimport {Albums} from \"./Albums\";\r\nimport {Podcasts} from \"./Podcasts\";\r\nimport {Playlists} from \"./Playlists\";\r\nimport React from \"react\";\r\nimport {shallowEqual, useSelector} from \"react-redux\";\r\n\r\n\r\nexport const Chart = () => {\r\n\r\n  const {tracks, artists, albums, podcasts, playlists } = useSelector(\r\n    (state) => (\r\n      {\r\n        tracks: state.music.charts?.tracks?.data,\r\n        artists: state.music.charts?.artists?.data,\r\n        albums: state.music.charts?.albums?.data,\r\n        podcasts: state.music.charts?.podcasts?.data,\r\n        playlists: state.music.charts?.playlists?.data,\r\n      }\r\n    ),\r\n    shallowEqual);\r\nreturn(\r\n  <div className={classes.music}>\r\n    <Tracks tracks={tracks} children={\"Top Tracks\"}/>\r\n    <Artists artists={artists}/>\r\n    <Albums albums={albums}/>\r\n    <Podcasts podcasts={podcasts}/>\r\n    <Playlists playlists={playlists}/>\r\n  </div>\r\n)\r\n};\r\n","import React, {useEffect, useMemo} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {musicActions} from \"./\";\r\nimport {SearchResults} from \"./ui/organisms/SearchResults\";\r\nimport {Search} from \"./ui/organisms/Search/Search\";\r\nimport {Chart} from \"./ui/organisms/Chart\";\r\nimport styles from\"./Music.module.scss\"\r\n\r\nexport const Music = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const searchResults = useSelector((state) => state.music?.searchResults?.data);\r\n\r\n  useEffect(() => {\r\n    dispatch(musicActions.setSearchResults(null));\r\n    dispatch(musicActions.getMusicChart());\r\n\r\n  }, [dispatch]);\r\n\r\n\r\n  return (\r\n    <section className={styles.music_wrapper}>\r\n      <Search dispatch={dispatch}/>\r\n      {searchResults ?\r\n        <SearchResults searchResults={searchResults}\r\n          dispatch={dispatch}/> :\r\n        <Chart/>}\r\n    </section>\r\n  )\r\n};\r\n","import {CommonTemplate} from \"../../ui/templates/Common\";\r\nimport React from \"react\";\r\nimport {Music, musicActions} from \"../../features/music\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\n\r\nexport const MusicPage = () => {\r\n  const dispatch = useDispatch();\r\n  const clearSearch = () => {\r\n    dispatch(musicActions.setSearchResults(null));\r\n  };\r\n\r\n\r\n  return (\r\n    <CommonTemplate clearMusicSearch={clearSearch}>\r\n      <Music/>\r\n    </CommonTemplate>\r\n  )\r\n};","import {CommonTemplate} from \"../../ui/templates/Common\";\r\nimport {Users, usersActions} from \"../../features/users\";\r\nimport React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\n\r\nexport const UsersPage =  () => {\r\n\r\nreturn(\r\n <CommonTemplate >\r\n   <Users />\r\n </CommonTemplate>\r\n)\r\n};","import {CommonTemplate} from \"../../ui/templates/Common\";\r\nimport React from \"react\";\r\nimport {Login} from \"../../features/autnentification\";\r\n\r\n\r\nexport const LoginPage = () => {\r\n  return(\r\n    <CommonTemplate>\r\n      <Login/>\r\n    </CommonTemplate>\r\n  )\r\n};","import {CommonTemplate} from \"../../ui/templates/Common\";\r\nimport {Users} from \"../../features/users\";\r\nimport React from \"react\";\r\n\r\n\r\nexport const FriendsPage =  () => {\r\n\r\n  return(\r\n    <CommonTemplate >\r\n      <Users />\r\n    </CommonTemplate>\r\n  )\r\n};","import {CommonTemplate} from \"../../ui/templates/Common\";\r\nimport {Users} from \"../../features/users\";\r\nimport React from \"react\";\r\n\r\n\r\nexport const SearchPage =  () => {\r\n\r\n  return(\r\n    <CommonTemplate >\r\n      <Users />\r\n    </CommonTemplate>\r\n  )\r\n};","import {Redirect, Route, Switch} from \"react-router\";\r\nimport {ProfilePage} from \"./pages/profile\";\r\nimport {DialogsPage} from \"./pages/dialogs\";\r\nimport {NewsPage} from \"./pages/news\";\r\nimport {MusicPage} from \"./pages/music\";\r\nimport {UsersPage} from \"./pages/users\";\r\nimport {LoginPage} from \"./pages/login\";\r\nimport React from \"react\";\r\nimport {FriendsPage} from \"./pages/friends\";\r\nimport {SearchPage} from \"./pages/search\";\r\n\r\n\r\nexport const Routes = () => {\r\n  return <Switch>\r\n    <Route path={'/profile/:userId?'}>\r\n      <ProfilePage/>\r\n    </Route>\r\n    <Route path=\"/dialogs\">\r\n      <DialogsPage/>\r\n    </Route>\r\n    <Route path=\"/news\">\r\n      <NewsPage/>\r\n    </Route>\r\n    <Route path=\"/music\">\r\n      <MusicPage/>\r\n    </Route>\r\n    <Route path=\"/users/\">\r\n      <UsersPage/>\r\n    </Route>\r\n    <Route path=\"/friends\">\r\n      <FriendsPage/>\r\n    </Route>\r\n    <Route path=\"/search/:term?\">\r\n      <SearchPage/>\r\n    </Route>\r\n    <Route path=\"/login\">\r\n      <LoginPage/>\r\n    </Route>\r\n    <Redirect exact from=\"/\" to=\"/profile/\"/>\r\n    <Route render={() => (\r\n      <div>404 NOT FOUND</div>\r\n    )}/>\r\n  </Switch>\r\n};","import React, {Component} from \"react\";\r\nimport \"./App.module.scss\";\r\nimport {HashRouter} from \"react-router-dom\";\r\n// My ui\r\nimport {connect} from \"react-redux\";\r\nimport {Preloader} from \"./ui\";\r\nimport {initActions} from \"./features/autnentification/modules/initialization/\";\r\nimport {Routes} from \"./Routes\";\r\n\r\n// ===================================\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) return <Preloader/>;\r\n\r\n    return (\r\n      <HashRouter>\r\n           <Routes/>\r\n      </HashRouter>\r\n    );\r\n  }\r\n}\r\n\r\nconst MapStateToProps = (state) => (\r\n  {\r\n    initialized: state.init.initialized\r\n  });\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    initializeApp: () => dispatch(initActions.initializeApp()),\r\n  }\r\n};\r\nexport default connect(MapStateToProps, mapDispatchToProps)(App);","import {combineReducers} from \"redux\";\r\nimport {authReducer} from \"../../features/autnentification\";\r\nimport {usersReducer} from \"../../features/users\";\r\nimport {profileReducer} from \"../../features/profile\";\r\nimport {initReducer} from \"../../features/autnentification\";\r\nimport {dialogsReducer} from \"../../features/dialogs\";\r\nimport {newsReducer} from \"../../features/news\";\r\nimport {musicReducer} from \"../../features/music\";\r\n\r\n\r\nexport const rootReducer = combineReducers({\r\n  profile: profileReducer,\r\n  users: usersReducer,\r\n  auth: authReducer,\r\n  init: initReducer,\r\n  dialogs: dialogsReducer,\r\n  news: newsReducer,\r\n  music: musicReducer\r\n});\r\n","import {applyMiddleware, createStore} from \"redux\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\nimport {rootReducer} from \"./root-reducer\";\r\n\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunkMiddleWare));\r\nwindow.store = store;\r\n\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport {store} from \"./lib/store\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App store={store}/>\r\n   </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n"],"sourceRoot":""}