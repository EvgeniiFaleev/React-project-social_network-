(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return l}));var n=a(51),r=n.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"65ef668c-9986-4b60-8a04-69abb862c8d8"}}),c={getUser:function(e){return console.log("Obsolete method!Use profileAPI"),s.getUser(e)},getUsers:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return r.get("users?count=".concat(e,"&page=").concat(t,"&friend=").concat(a,"&term=").concat(n),{withCredentials:!0}).then((function(e){return e.data}))},followUser:function(e){return r.post("follow/".concat(e)).then((function(e){if(0===e.data.resultCode)return e.data;throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 followUser")})).catch((function(e){return console.log(e)}))},unFollowUser:function(e){return r.delete("follow/".concat(e)).then((function(e){if(0===e.data.resultCode)return e.data;throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 unFollowUser")})).catch((function(e){return console.log(e)}))},isFollowed:function(e){return r.get("follow/".concat(e)).then((function(e){return e.data}))}},o={me:function(){return r.get("/auth/me").then((function(e){if(0===e.data.resultCode)return e.data.data}))},login:function(e){return r.post("/auth/login",e).then((function(e){return e.data}))},logout:function(){return r.delete("/auth/login").then((function(e){if(0===e.resultCode)return e}))},getCaptcha:function(){return r.get("/security/get-captcha-url").then((function(e){return e.data.url}))}},s={getUser:function(e){return r.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return r.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return r.put("profile/status",{status:e}).then((function(e){if(console.log(e),0===e.data.resultCode)return e})).catch((function(e){return console.log("\u041e\u0428\u0418\u0411\u041a\u0410 "+e)}))},setPhoto:function(e){var t=new FormData;return t.append("newPhoto",e),r.put("/profile/photo",t).then((function(e){if(0===e.data.resultCode)return e}))},setProfile:function(e){return r.put("/profile/",e).then((function(e){return e}))}},l={getNewMessagesCount:function(){return r.get("/dialogs/messages/new/count").then((function(e){return e.data})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 "+e)}))},getDialogs:function(){return r.get("/dialogs").then((function(e){return console.log(e),e.data}))},startDialog:function(e){return r.put("/dialogs/".concat(e)).then((function(e){return e}))},sendMessage:function(e,t){return r.post("/dialogs/".concat(e,"/messages"),{body:t}).then((function(e){return e}))},getDialog:function(e){return r.get("dialogs/".concat(e,"/messages/new?newerThen=2020-02-04T16:01:53.417")).then((function(e){return console.log(e.data.items),e.data}))}}},,,function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"getUsers",(function(){return f})),a.d(n,"getUsersWithPhotoSelector",(function(){return d})),a.d(n,"getPageSize",(function(){return _})),a.d(n,"getTotalUsersCount",(function(){return p})),a.d(n,"getCurrentPage",(function(){return g})),a.d(n,"getIsFetching",(function(){return h})),a.d(n,"getIsFollowing",(function(){return E}));var r={};a.r(r),a.d(r,"follow",(function(){return y})),a.d(r,"unFollow",(function(){return j})),a.d(r,"setUsers",(function(){return S})),a.d(r,"setFriends",(function(){return P})),a.d(r,"setCurrentPage",(function(){return F})),a.d(r,"setTotalCount",(function(){return C})),a.d(r,"toggleFollowingUser",(function(){return k})),a.d(r,"getUsers",(function(){return I})),a.d(r,"search",(function(){return U})),a.d(r,"getFriendsDemo",(function(){return A})),a.d(r,"folowUnfollowFlow",(function(){return T})),a.d(r,"followUser",(function(){return x})),a.d(r,"unFollowUser",(function(){return D}));var c=a(7),o=a(1),s=function(e,t,a){return e.map((function(e){return e.id===t?Object(o.a)(Object(o.a)({},e),a):e}))},l="users/FOLLOW",u={friends:[],users:[],pageSize:20,totalUsersCount:0,currentPage:1,isFetching:!1,isFollowing:[]},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(o.a)(Object(o.a)({},e),{},{users:s(e.users,t.userId,{followed:!0})});case"users/UN_FOLLOW":return Object(o.a)(Object(o.a)({},e),{},{users:s(e.users,t.userId,{followed:!1})});case"users/SET_USERS":return Object(o.a)(Object(o.a)({},e),{},{users:Object(c.a)(t.users)});case"users/SET_FRIENDS":return Object(o.a)(Object(o.a)({},e),{},{friends:Object(c.a)(t.friends)});case"users/SET_CURRENT_PAGE":return Object(o.a)(Object(o.a)({},e),{},{currentPage:+t.pageNumber});case"users/SET_TOTAL_COUNT;":return Object(o.a)(Object(o.a)({},e),{},{totalUsersCount:t.totalCount});case"users/SET_FRIENDS_COUNT;":return Object(o.a)(Object(o.a)({},e),{},{friendsCount:t.friendsCount});case"users/TOGGLE_IS_FOLLOWING":return Object(o.a)(Object(o.a)({},e),{},{isFollowing:t.isFetchingButton?[].concat(Object(c.a)(e.isFollowing),[t.id]):e.isFollowing.filter((function(e){return t.id!==e}))});default:return e}},m=a(103),f=function(e){return e.users.users},d=Object(m.a)(f,(function(e){return e.filter((function(e){return!!e.photos.small}))})),_=function(e){return e.users.pageSize},p=function(e){return e.users.totalUsersCount},g=function(e){return e.users.currentPage},h=function(e){return e.users.isFetching},E=function(e){return e.users.isFollowing},b=a(4),v=a.n(b),w=a(13),N=a(5),O=a(15),y=function(e){return{type:l,userId:e}},j=function(e){return{type:"users/UN_FOLLOW",userId:e}},S=function(e){return{type:"users/SET_USERS",users:e}},P=function(e){return{type:"users/SET_FRIENDS",friends:e}},F=function(e){return{type:"users/SET_CURRENT_PAGE",pageNumber:e}},C=function(e){return{type:"users/SET_TOTAL_COUNT;",totalCount:e}},k=function(e,t){return{type:"users/TOGGLE_IS_FOLLOWING",id:e,isFetchingButton:t}},I=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return function(r){return r(O.a.toggleIsFetching(!0)),N.d.getUsers(e,t,a,n).then((function(e){1!==t&&r(F(t)),r(O.a.toggleIsFetching(!1)),r(S(e.items)),r(C(e.totalCount))}))}},U=function(e){return function(){var t=Object(w.a)(v.a.mark((function t(a,n){var r,o,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(O.a.toggleIsFetching(!0)),t.next=3,N.d.getUsers(n().users.pageSize,n().users.currentPage/2,!0,e);case 3:return r=t.sent,t.next=6,N.d.getUsers(n().users.pageSize,n().users.currentPage/2,!1,e);case 6:o=t.sent,s=[].concat(Object(c.a)(r.items),Object(c.a)(o.items)),a(S(s)),a(C(s.length)),a(O.a.toggleIsFetching(!1));case 11:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},A=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(n){return N.d.getUsers(e,t,a).then((function(e){n(P(e.items))}))}},T=function(e,t,a,n){return e(k(t,!0)),a(t).then((function(a){0===a.resultCode&&(e(r.getFriendsDemo(6,1)),e(k(t,!1)),e(n(t)))}))},x=function(e){return function(t){return T(t,e,N.d.followUser.bind(N.d),y)}},D=function(e){return function(t){return T(t,e,N.d.unFollowUser.bind(N.d),j)}};a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r}))},,,function(e,t,a){"use strict";var n=a(61),r=(a(62),a(64),a(10)),c=a(0),o=a.n(c),s=a(27),l=a.n(s),u=function(e){for(var t=e.portionSize,a=void 0===t?10:t,n=e.totalUsersCount,s=e.pageSize,u=e.currentPage,i=e.onPageChanged,m=Math.ceil(n/s),f=[],d=1;d<=m;d++)f.push(d);var _=Math.ceil(m/a),p=Object(c.useState)(Math.ceil(u/a)),g=Object(r.a)(p,2),h=g[0],E=g[1],b=(h-1)*a+1,v=h*a,w=f.filter((function(e){return e>=b&&e<=v})).map((function(e){return o.a.createElement("span",{className:e===u?"".concat(l.a.pageNumber," ").concat(l.a.selectedPage):l.a.pageNumber,key:e,onClick:function(){i(e)}},e)})),N=function(e,t){e.target;E(h+t)};return o.a.createElement("div",{className:l.a.paginator_wrapper},o.a.createElement("div",{className:l.a.paginator},h>1&&o.a.createElement("div",{onClick:function(e){return N(e,-1)},className:"".concat(l.a.icon," ").concat(l.a.left)},o.a.createElement("div",{className:l.a.arrow})),w,_>h&&o.a.createElement("div",{onClick:function(e){return N(e,1)},className:l.a.icon},o.a.createElement("div",{className:l.a.arrow}))))};a(14);a.d(t,"b",(function(){return n.a})),a.d(t,"a",(function(){return u}))},,,function(e,t,a){"use strict";var n=a(62),r=a(64),c=a(0),o=a.n(c),s=a(71),l=a.n(s),u=a(77),i=a.n(u),m=function(){return o.a.createElement("footer",{className:i.a.footer},o.a.createElement("p",{className:i.a.footer_content},"Evgeniy Faleev \xa9 2020. All rights are not reserved"))},f=a(37),d=a(66),_=a(2),p=a(8),g=a(29),h=a(52);a.d(t,"a",(function(){return E}));var E=function(e){var t=e.children,a=e.clearMusicSearch,c=Object(_.d)(),s=function(){c(p.a.setCurrentPage(1))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(n.a,null,o.a.createElement(g.a,null),o.a.createElement(f.b,null)),o.a.createElement("div",{className:l.a.app_wrapper},o.a.createElement("div",{className:l.a.content_wrapper},o.a.createElement(r.a,{clearPage:s,messagesCount:o.a.createElement(h.b,null),clearMusicSearch:a},o.a.createElement(d.a,{clearPage:s})),o.a.createElement("main",{className:l.a.app_content},t)),o.a.createElement(m,null)))}},function(e,t,a){"use strict";var n=a(1),r=a(36),c={initialized:!1,isFetching:!1},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.a:return Object(n.a)(Object(n.a)({},e),{},{initialized:!0});case r.b:return Object(n.a)(Object(n.a)({},e),{},{isFetching:t.isFetching});default:return e}},s=a(65);a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s}))},function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return s})),a.d(t,"b",(function(){return l}));var n="profile/ADD-POST",r="profile/SET_USER_PROFILE",c="profile/SET_STATUS",o="profile/UPDATE_PHOTO",s="profile/TOGGLE_IS_FOLLOWING",l="profile/IS_FOLLOWED"},function(e,t,a){"use strict";var n=a(7),r=a(1),c=a(16),o={isFollowing:!1,followed:!1,profile:null,status:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0420\u0435\u0434\u0430\u043a\u0441\u0430"},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:return Object(r.a)(Object(r.a)({},e),{},{enterPosts:[].concat(Object(n.a)(e.enterPosts),[{message:t.newMessageBody,likeCount:"0"}])});case c.d:return Object(r.a)(Object(r.a)({},e),{},{profile:t.profile});case c.c:return Object(r.a)(Object(r.a)({},e),{},{status:t.status});case c.f:return Object(r.a)(Object(r.a)({},e),{},{profile:Object(r.a)(Object(r.a)({},e.profile),{},{photos:t.photo})});case c.e:return Object(r.a)(Object(r.a)({},e),{},{isFollowing:t.isFollowing});case c.b:return Object(r.a)(Object(r.a)({},e),{},{followed:t.isFollowed});default:return e}},l=a(56);a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l}))},function(e,t,a){e.exports={categories:"Categories_categories__1LwP_",categories_category:"Categories_categories_category__WwjBn",business:"Categories_business__1whOn",entertaiment:"Categories_entertaiment__dGRq3",science:"Categories_science__UioDr",sport:"Categories_sport__1o0Dl",technology:"Categories_technology__RISMx",all:"Categories_all__1dHgP"}},,,,,,,function(e,t,a){e.exports={common_input:"LoginForm_common_input__3vj8o",send_btn:"LoginForm_send_btn__11k9r",switch:"LoginForm_switch__1L3mJ",input_error:"LoginForm_input_error__3UEBV",error:"LoginForm_error__3ZGYa",span_error:"LoginForm_span_error__2Vg5W"}},function(e,t,a){e.exports={player:"Player_player__19UOM",arrows:"Player_arrows__3k2bA",play_block:"Player_play_block__1YqwB",play:"Player_play__1K2ZX",pause:"Player_pause__3SDx4",progress_bar:"Player_progress_bar__2qkrl",title_info:"Player_title_info__3k10G",hint:"Player_hint__570Cv",volume:"Player_volume__2DgPR"}},function(e,t,a){e.exports={paginator_wrapper:"Paginator_paginator_wrapper__1AuQi",paginator:"Paginator_paginator__1ZlBJ",pageNumber:"Paginator_pageNumber__3dB0m",selectedPage:"Paginator_selectedPage__o7qpk",icon:"Paginator_icon__3GIWh",arrow:"Paginator_arrow__1Orzj",left:"Paginator_left__2bMSC"}},function(e,t,a){e.exports=a.p+"static/media/avatar-undefined.54c6edcf.jpg"},function(e,t,a){"use strict";var n=a(9),r=a(0),c=a.n(r),o=a(2),s=a(8),l=a(12),u=a(78),i=a.n(u),m=function(e){var t=e.followed,a=e.isFollowing,n=e.id,r=Object(o.d)();return t?c.a.createElement("button",{className:i.a.followBtn,disabled:a.some((function(e){return e===n})),onClick:function(){!function(e){r(s.a.unFollowUser(e))}(n)}},"Unfollow"):c.a.createElement("button",{className:i.a.followBtn,disabled:a.some((function(e){return e===n})),onClick:function(){!function(e){r(s.a.followUser(e))}(n)}},"Follow")},f=a(46),d=a.n(f),_=a(28),p=a.n(_),g=function(e){var t=e.status,a=e.isAuth,n=e.id,r=e.photo,o=e.fullName,s=e.followed,u=e.isFollowing;return t&&t.length>30&&(t=t.trim().substr(0,30)+". . ."),c.a.createElement("div",{className:d.a.user,key:n},c.a.createElement("div",{className:d.a.user_info},c.a.createElement("div",{className:d.a.user_photo},c.a.createElement(l.c,{to:"/profile/".concat(n)},c.a.createElement("img",{src:r||p.a,alt:"avatar"}))),c.a.createElement("div",null,c.a.createElement("p",null,o),c.a.createElement("p",{className:d.a.user_info_status},t))),c.a.createElement("div",{className:d.a.btn_container},a?c.a.createElement(c.a.Fragment,null,c.a.createElement(m,{followed:s,isFollowing:u,id:n}),c.a.createElement(l.b,{to:"/dialogs/".concat(n)},c.a.createElement("button",{className:d.a.sendMsg_btn},"Send Message"))," "):""))},h=a(61),E=a(79),b=a.n(E),v=a(11),w=a(3);var N=function(){var e=Object(w.h)().pathname,t="/friends"===e,a=Object(w.i)().term,l=Object(o.e)((function(e){return{users:s.c.getUsers(e),pageSize:s.c.getPageSize(e),totalUsersCount:s.c.getTotalUsersCount(e),currentPage:s.c.getCurrentPage(e),isFetching:e.init.isFetching,isFollowing:s.c.getIsFollowing(e),isAuth:e.auth.isAuth}}),o.c),u=l.users,i=l.pageSize,m=l.totalUsersCount,f=l.currentPage,d=l.isFetching,_=l.isFollowing,p=l.isAuth,E=Object(o.d)();Object(r.useEffect)((function(){e.startsWith("/search/")?E(s.a.search(a)):E(s.a.getUsers(i,f,t))}),[f,i,E,e,t,a]);var N=u.map((function(e){var t;return c.a.createElement(g,(t={key:e.id,isAuth:p,photo:e.photos.small,status:e.status},Object(n.a)(t,"status",e.status),Object(n.a)(t,"id",e.id),Object(n.a)(t,"followed",e.followed),Object(n.a)(t,"fullName",e.name),Object(n.a)(t,"isFollowing",_),t))}));return c.a.createElement(c.a.Fragment,null,d?c.a.createElement(h.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:b.a.users},function(e){for(var t in e)return!1;return!0}(N)?c.a.createElement("p",{className:b.a.users_notFound},"Sorry, nothing found"):N),c.a.createElement(v.a,{totalUsersCount:m,pageSize:i,currentPage:f,onPageChanged:function(e){E(s.a.setCurrentPage(e))}})))},O=(a(66),a(10)),y=a(104),j=a.n(y),S=function(e){var t=e.searchTerm,a=e.onSearch,n=e.onChange;return c.a.createElement("div",{className:j.a.usersSearch},c.a.createElement("p",null,c.a.createElement("input",{autoComplete:"off",onKeyDown:a,placeholder:"Find User",type:"text",value:t,onChange:n}),c.a.createElement("i",{className:"fa fa-search"})))},P=function(){var e=Object(w.g)(),t=Object(r.useState)(""),a=Object(O.a)(t,2),n=a[0],o=a[1];return c.a.createElement(S,{searchTerm:n,value:n,onChange:function(e){o(e.target.value)},onSearch:function(t){"Enter"===t.key&&e.push("/search/".concat(n))}})};a.d(t,"b",(function(){return N})),a.d(t,"a",(function(){return P})),a.d(t,"c",(function(){return s.b}))},function(e,t,a){e.exports={profileForm:"ProfileForm_profileForm__3XRqK",profileForm_close:"ProfileForm_profileForm_close__2k5eK",name_wrapper:"ProfileForm_name_wrapper__2CI-w",info_box:"ProfileForm_info_box__1gR-A",contacts_item:"ProfileForm_contacts_item__3yf-F",editProfile_btn:"ProfileForm_editProfile_btn__2N2te",error:"ProfileForm_error__3K3Jo"}},function(e,t,a){"use strict";var n=a(1),r=a(35),c={user:{me:null,email:null,id:null},isAuth:!1,captchaUrl:null},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.a:return Object(n.a)(Object(n.a)({},e),{},{user:Object(n.a)({},t.user),isAuth:t.isAuth});case r.b:return Object(n.a)(Object(n.a)({},e),{},{captchaUrl:t.captchaUrl});default:return e}},s=a(63);a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s}))},function(e,t,a){e.exports={container:"Navbar_container__N2Auy","mcd-menu":"Navbar_mcd-menu__2nZRc",active:"Navbar_active__1ly6r"}},function(e,t,a){e.exports={profileInfo_wrapper:"ProfileInfo_profileInfo_wrapper__2sizc",userPhoto_block:"ProfileInfo_userPhoto_block__2PYK1",userPhoto:"ProfileInfo_userPhoto__l21gn",ownerPhoto:"ProfileInfo_ownerPhoto__2bjuf",profileInfo:"ProfileInfo_profileInfo__3ENrZ",userName_container:"ProfileInfo_userName_container__1kX63",userName:"ProfileInfo_userName__2totV",buttons:"ProfileInfo_buttons__1ETMu",error:"ProfileInfo_error__1b5_1"}},function(e,t,a){e.exports={music_wrapper:"Music_music_wrapper__3iXYv",music:"Music_music__2_Q1k",category_header:"Music_category_header__32w2T",podcast_description:"Music_podcast_description__2nvgu"}},function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n="AUTH_USER",r="GET_CAPTCHA_URL_SUCCESS"},function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n="INITIALIZED_SUCCESS",r="users/TOGGLE_IS_FETCHING;"},function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(2),o=a(3),s=a(25),l=a.n(s),u=a(20),i=a(31),m=function(e){var t=e.captchaUrl,a=Object(u.b)(),n=a.register,o=a.errors,s=a.setError,m=a.handleSubmit,f=Object(c.d)();return r.a.createElement("form",{onSubmit:m((function(e){f(i.a.login(e)).then((function(e){return s("logError","notMatch",e)}))}))},r.a.createElement("div",null,r.a.createElement("input",{name:"email",className:l.a.common_input,onChange:function(){return console.log(o)},ref:n({required:"Please enter your email"}),placeholder:"e-mail"}),r.a.createElement(u.a,{errors:o,className:l.a.span_error,name:"email",as:"span"})),r.a.createElement("div",null,r.a.createElement("input",{name:"password",className:l.a.common_input,ref:n({required:"Please enter your password"}),type:"password",placeholder:"password"}),r.a.createElement(u.a,{errors:o,className:l.a.span_error,name:"password",as:"span"})),r.a.createElement("div",null,r.a.createElement("input",{name:"rememberMe",className:l.a.rememberMe,type:"checkbox"}),r.a.createElement("label",{htmlFor:"rememberMe",className:l.a.rememberMe_label},"Remember Me")),t?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{alt:"captcha",src:t}),r.a.createElement("input",{name:"captcha",className:l.a.common_input,placeholder:"Enter symbols",ref:n({required:"Please enter symbols"}),type:"text"}),r.a.createElement(u.a,{errors:o,className:l.a.span_error,name:"captcha",as:"span"})):"",r.a.createElement("div",null,r.a.createElement(u.a,{errors:o,className:l.a.span_error,name:"logError",as:"p"}),r.a.createElement("input",{className:l.a.common_input+" "+l.a.send_btn,value:"Login",type:"submit"})))},f=a(102),d=a.n(f),_=function(){var e=Object(c.e)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}})),t=e.isAuth,a=e.captchaUrl;return t?r.a.createElement(o.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",{className:d.a.login_title},"Please, log in..."),r.a.createElement(m,{captchaUrl:a}))},p=a(73),g=a(15);a.d(t,"a",(function(){return _})),a.d(t,"b",(function(){return p.a})),a.d(t,"d",(function(){return g.b})),a.d(t,"c",(function(){return i.b}))},function(e,t,a){e.exports={message:"Message_message__2kUFF",message_text:"Message_message_text__qIsD7",message_meta:"Message_message_meta__2RkUh",owner:"Message_owner__wyPJJ",other:"Message_other__2kyuo"}},function(e,t,a){e.exports={preloader:"Preloader_preloader__2oAmG",cssload_loader:"Preloader_cssload_loader__1fgHJ",cssload_inner:"Preloader_cssload_inner__2IHSr",cssload_one:"Preloader_cssload_one__fcsFC","cssload-rotate-one":"Preloader_cssload-rotate-one__3LFQV",cssload_two:"Preloader_cssload_two__CQlvY","cssload-rotate-two":"Preloader_cssload-rotate-two__1qPF0",cssload_three:"Preloader_cssload_three__2b5Sc","cssload-rotate-three":"Preloader_cssload-rotate-three___qAr3"}},function(e,t,a){e.exports={search_block:"Search_search_block__2i_Rp",search_query:"Search_search_query__1UPWO",search_btn:"Search_search_btn__3DdqO",cover:"Search_cover__3KGJN","s-circle":"Search_s-circle__31k5t"}},function(e,t,a){e.exports={music_tracks:"Tracks_music_tracks__F2ydd",category_header:"Tracks_category_header__2IxKT",track_container:"Tracks_track_container__3L5Rf",track_album:"Tracks_track_album__3lZ44",track_album_playing:"Tracks_track_album_playing__1VO2Q",track_title:"Tracks_track_title__Ln1Ii"}},function(e,t,a){e.exports={profileDescription:"ProfileDescription_profileDescription__3f-Qn",about_wrapper:"ProfileDescription_about_wrapper__2wXci",about:"ProfileDescription_about__GYwfO",about_item:"ProfileDescription_about_item__18Jaq",about_header:"ProfileDescription_about_header__JyqWL",editProfile_btn:"ProfileDescription_editProfile_btn__29S5T"}},,,function(e,t,a){e.exports={friendsBar:"FriendsBar_friendsBar__1rXNK",friendInfo:"FriendsBar_friendInfo__1-EwR",friend:"FriendsBar_friend__3p00W",active:"FriendsBar_active__NHRCN"}},function(e,t,a){e.exports={user:"User_user__S-n98",user_info:"User_user_info__1UmAl",user_photo:"User_user_photo__hM0WX",user_info_status:"User_user_info_status__3rBBx",btn_container:"User_btn_container__uvMfs",sendMsg_btn:"User_sendMsg_btn__hfi5k"}},function(e,t,a){e.exports={news_article:"Article_news_article__wdZGr",news_article_title:"Article_news_article_title__1nweA"}},,,,,function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"setDialog",(function(){return v})),a.d(n,"setDialogs",(function(){return w})),a.d(n,"setNewMessages",(function(){return N})),a.d(n,"getNewMessagesCount",(function(){return O})),a.d(n,"getDialogs",(function(){return y})),a.d(n,"getDialog",(function(){return j})),a.d(n,"sendMessage",(function(){return S}));var r=a(0),c=a.n(r),o=a(68),s=a(3),l=a(10),u=a(4),i=a.n(u),m=a(13),f=a(2),d=a(20),_=a(1),p={dialogs:null,dialog:null,newMessages:0},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogs/SET_DIALOGS":return Object(_.a)(Object(_.a)({},e),{},{dialogs:t.dialogs});case"dialogs/SET_DIALOG":return Object(_.a)(Object(_.a)({},e),{},{dialog:t.dialog});case"dialogs/SET_NEW_MESSAGES":return Object(_.a)(Object(_.a)({},e),{},{newMessages:t.payload});default:return e}},h=a(5),E=a(15),b=a(65),v=function(e){return{type:"dialogs/SET_DIALOG",dialog:e}},w=function(e){return{type:"dialogs/SET_DIALOGS",dialogs:e}},N=function(e){return{type:"dialogs/SET_NEW_MESSAGES",payload:e}},O=function(){return function(e){h.b.getNewMessagesCount().then((function(t){return e(N(t))}))}},y=function(){return function(e){e(E.a.toggleIsFetching(!0)),h.b.getDialogs().then((function(t){var a=t.sort((function(e,t){return t.newMessagesCount-e.newMessagesCount}));e(w(a)),e(Object(b.toggleIsFetching)(!1))}))}},j=function(e){return function(t){return h.b.getDialog(e).then((function(e){return t(v(e)),e}))}},S=function(e,t){return Object(m.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.b.startDialog(e);case 2:return a.next=4,h.b.sendMessage(e,t);case 4:case"end":return a.stop()}}),a)})))},P=a(80),F=a.n(P),C=function(){var e=Object(d.b)(),t=e.register,a=e.handleSubmit,o=Object(f.d)(),l=Object(s.i)().id,u=Object(r.useRef)(),_=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.message,e.next=3,o(n.sendMessage(l,a));case 3:return e.next=5,o(n.getDialog(l));case 5:u.current.value=null;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("form",{className:F.a.wrapper,name:"dialog",onSubmit:a(_)},c.a.createElement("div",null,c.a.createElement("textarea",{onKeyDown:function(e){var t=e.currentTarget;setTimeout((function(){console.log(t.scrollTop),t.style.height="auto",t.style.height=t.scrollHeight+"px"}),0),13===e.keyCode&&t.value.length>0&&(e.preventDefault(),a(_)(),t.value="")},ref:function(e){t(e,{required:!0}),u.current=e},name:"message",placeholder:"Enter new message"})),c.a.createElement("div",{className:F.a.button_wrapper},c.a.createElement("button",null,"Send")))},k=a(17),I=a(11),U=a(38),A=a.n(U),T=c.a.forwardRef((function(e,t){var a=e.message,n=e.isOwner;return c.a.createElement("div",{ref:t,key:a.id,className:"".concat(A.a.message," ").concat(n?A.a.owner:A.a.other)},c.a.createElement("p",{className:A.a.message_text},a.body),c.a.createElement("p",{className:A.a.message_meta},a.addedAt))})),x=a(54),D=a.n(x),M=a(28),R=a.n(M),L=function(){var e=Object(s.i)().id,t=Object(f.d)(),a=Object(r.useState)(0),o=Object(l.a)(a,2),u=o[0],i=o[1],m=Object(f.e)((function(e){var t,a;return{userPhoto:null===(t=e.profile.profile)||void 0===t?void 0:t.photos.small,userName:null===(a=e.profile.profile)||void 0===a?void 0:a.fullName,dialog:e.dialogs.dialog,authUserId:e.auth.user.userId}}),f.c),d=m.userName,_=m.userPhoto,p=m.dialog,g=m.authUserId,h=Object(r.useRef)(),E=null===p||void 0===p?void 0:p.map((function(e,t,a){return c.a.createElement(T,{message:e,ref:a.length-1===t?h:null,isOwner:e.senderId===g})})),b=_||R.a;return Object(r.useEffect)((function(){t(k.a.getUser(e));var a=setInterval((function(){t(n.getDialog(e))}),1e4);return function(){clearInterval(a),t(n.setDialog(null))}}),[e,t]),Object(r.useEffect)((function(){h.current&&h.current.scrollIntoView(),u>1&&(h.current.classList.contains(A.a.owner)?h.current.classList.add(D.a.new_owner):h.current.classList.add(D.a.new_other)),i((function(e){return e+1}))}),[null===p||void 0===p?void 0:p.length]),c.a.createElement(c.a.Fragment,null,p?c.a.createElement("div",{className:D.a.dialog_container},c.a.createElement("div",{className:D.a.userInfo},c.a.createElement("img",{src:b,alt:"avatar"}),c.a.createElement("span",null,d)),c.a.createElement("div",{className:D.a.dialog},E),c.a.createElement(C,null)):c.a.createElement(I.b,null))},B=a(105),H=a.n(B),V=a(55),G=a.n(V),q=a(12),W=function(e){var t=e.hasNewMessages,a=e.id,n=(e.lastDialogActivityDate,e.lastUserActivityDate),r=e.newMessagesCount,o=e.photos.small,s=e.userName;return c.a.createElement(q.b,{to:"dialogs/".concat(a)},c.a.createElement("section",{className:G.a.dialog},c.a.createElement("div",{className:G.a.userImage},c.a.createElement("img",{alt:"avatar",src:o||R.a})),c.a.createElement("div",{className:G.a.messageInfo},c.a.createElement("p",{className:G.a.userName},s),t?c.a.createElement("small",null,"You have a ",r," new  message(s)"):c.a.createElement("small",null,"You have no new messages"),c.a.createElement("br",null),c.a.createElement("small",{className:G.a.metaInfo},"Last seen:  ",n))))},z=function(){var e,t=Object(f.d)();Object(r.useEffect)((function(){t(n.getDialogs())}),[t]);var a=Object(f.e)((function(e){return{dialogs:e.dialogs.dialogs,isFetching:e.init.isFetching}}),f.c),o=a.dialogs,s=a.isFetching;return o=null===(e=o)||void 0===e?void 0:e.map((function(e){return c.a.createElement(W,Object.assign({key:e.id},e))})),c.a.createElement(c.a.Fragment,null,s?c.a.createElement(I.b,null):c.a.createElement("div",{className:H.a.dialogs_wrapper},o||c.a.createElement("p",null,"No Dialogs Here")))},J=function(){return Object(o.a)(),c.a.createElement(c.a.Fragment,null,c.a.createElement(s.d,null,c.a.createElement(s.b,{exact:!0,path:"/dialogs",component:z}),c.a.createElement(s.b,{path:"/dialogs/:id",component:L})))},Y=a(106),X=a.n(Y),K=function(){var e=Object(f.d)();Object(r.useEffect)((function(){e(n.getNewMessagesCount())}),[e]);var t=Object(f.e)((function(e){return e.dialogs.newMessages}));return t>0?c.a.createElement("div",{className:X.a.messages_count},t):""};a.d(t,"a",(function(){return J})),a.d(t,"b",(function(){return K})),a.d(t,"c",(function(){return g}))},function(e,t,a){e.exports={userInfo:"UserAuthInfoBar_userInfo__2-lw3",userInfo_photo:"UserAuthInfoBar_userInfo_photo__2KVdF",userInfo_name:"UserAuthInfoBar_userInfo_name__37tov",login_link:"UserAuthInfoBar_login_link__Yt64c"}},function(e,t,a){e.exports={new_owner:"Dialog_new_owner__2yVe8",twitch_owner:"Dialog_twitch_owner___l4z2",new_other:"Dialog_new_other__1XfT2",twitch_other:"Dialog_twitch_other__18hrg",dialog_container:"Dialog_dialog_container__1NgBo",userInfo:"Dialog_userInfo__2wPKD",dialog:"Dialog_dialog__3I5Q6"}},function(e,t,a){e.exports={dialog:"DialogDescription_dialog__2EBcp",messageInfo:"DialogDescription_messageInfo__1tjK0",userName:"DialogDescription_userName__2JSJF",metaInfo:"DialogDescription_metaInfo__2x2WL"}},function(e,t,a){"use strict";a.r(t),a.d(t,"addPostActionCreator",(function(){return i})),a.d(t,"setUserProfile",(function(){return m})),a.d(t,"setStatus",(function(){return f})),a.d(t,"updatePhoto",(function(){return d})),a.d(t,"toggleIsFollowing",(function(){return _})),a.d(t,"isFollowed",(function(){return p})),a.d(t,"followUser",(function(){return g})),a.d(t,"unFollowUser",(function(){return h})),a.d(t,"isUserFollowed",(function(){return E})),a.d(t,"getUser",(function(){return b})),a.d(t,"getStatus",(function(){return v})),a.d(t,"updateStatus",(function(){return w})),a.d(t,"savePhoto",(function(){return N})),a.d(t,"saveProfile",(function(){return O}));var n=a(4),r=a.n(n),c=a(13),o=a(5),s=a(15),l=a(16),u=a(8),i=function(e){return{type:l.a,newMessageBody:e}},m=function(e){return{type:l.d,profile:e}},f=function(e){return{type:l.c,status:e}},d=function(e){return{type:l.f,photo:e}},_=function(e){return{type:l.e,isFollowing:e}},p=function(e){return{type:l.b,isFollowed:e}},g=function(){return function(e,t){e(_(!0)),o.d.followUser(t().profile.profile.userId).then((function(){e(p(!0)),e(_(!1)),e(u.a.getFriendsDemo(6,1))}))}},h=function(){return function(e,t){e(_(!0)),o.d.unFollowUser(t().profile.profile.userId).then((function(){e(p(!1)),e(_(!1)),e(u.a.getFriendsDemo(6,1))}))}},E=function(e){return function(t){o.d.isFollowed(e).then((function(e){return t(p(e))}))}},b=function(e){return function(t){return t(s.a.toggleIsFetching(!0)),o.c.getUser(e).then((function(e){t(m(e)),t(s.a.toggleIsFetching(!1))}))}},v=function(e){return function(t){return o.c.getStatus(e).then((function(e){t(f(e))}))}},w=function(e){return function(t){return o.c.updateStatus(e).then((function(){t(f(e))}))}},N=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.c.setPhoto(e);case 2:n=t.sent,a(d(n.data.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a,n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.c.setProfile(e);case 2:if(0!==(c=t.sent).data.resultCode){t.next=8;break}return t.next=6,a(b(n().auth.user.id));case 6:t.next=9;break;case 8:return t.abrupt("return",c.data.messages);case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}},,function(e,t,a){e.exports={header:"Header_header__MaF2u",header_content:"Header_header_content__13udt",logo_wrapper:"Header_logo_wrapper__7evS-",header_logo:"Header_header_logo__13d7a"}},function(e,t,a){e.exports={contacts:"Contacts_contacts__1zCb2",contacts_item:"Contacts_contacts_item__29YaY",contacts_link:"Contacts_contacts_link__tO7zU",contacts_header:"Contacts_contacts_header__3hwwA"}},,function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a.n(n),c=(a(126),a(39)),o=a.n(c),s=function(){return r.a.createElement("div",{className:o.a.cssload_loader},r.a.createElement("div",{className:"".concat(o.a.cssload_inner," ").concat(o.a.cssload_one," ")}),r.a.createElement("div",{className:"".concat(o.a.cssload_inner," ").concat(o.a.cssload_two," ")}),r.a.createElement("div",{className:"".concat(o.a.cssload_inner," ").concat(o.a.cssload_three," ")}))}},function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),r=a.n(n),c=a(58),o=a.n(c),s=a(98),l=a.n(s),u=(a(73),function(e){var t=e.children;return console.log(t),r.a.createElement("header",{className:o.a.header},r.a.createElement("div",{className:o.a.header_content},r.a.createElement("div",{className:o.a.logo_wrapper},r.a.createElement("img",{className:o.a.header_logo,alt:"logo",src:l.a}),t[0]),t[1]))})},function(e,t,a){"use strict";a.r(t),a.d(t,"authUser",(function(){return u})),a.d(t,"getCaptchaUrlSuccess",(function(){return i})),a.d(t,"me",(function(){return m})),a.d(t,"login",(function(){return f})),a.d(t,"logout",(function(){return d})),a.d(t,"getCaptcha",(function(){return _}));var n=a(4),r=a.n(n),c=a(13),o=a(1),s=a(5),l=a(35),u=function(e,t){return{type:l.a,user:Object(o.a)({},e),isAuth:t}},i=function(e){return{type:l.b,captchaUrl:e}},m=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.me();case 2:if(!(n=t.sent)){t.next=8;break}return t.next=6,s.c.getUser(n.id);case 6:c=t.sent,a(u(c,e));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(t){return s.a.login(e).then((function(e){if(0!==e.resultCode)return 10===e.resultCode&&t(_()),e.messages.length>0?e.messages[0]:"Unknown Error";t(m(!0)),t(i(null))}))}},d=function(){return function(e){return s.a.logout().then((function(){e(u(void 0,!1))}))}},_=function(){return function(e){s.a.getCaptcha().then((function(t){e(i(t))}))}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),r=a.n(n),c=a(32),o=a.n(c),s=a(12),l=a(101),u=a.n(l),i=function(e){var t=e.children,a=e.clearPage,n=e.clearMusicSearch,c=e.messagesCount,l=document.documentElement.clientWidth<=860;return r.a.createElement("div",{className:o.a.container},r.a.createElement("nav",null,r.a.createElement("ul",{className:o.a["mcd-menu"]},r.a.createElement("li",null,r.a.createElement(s.c,{to:"/profile",activeClassName:o.a.active},r.a.createElement("i",{src:u.a,className:"fa fa-home"}),r.a.createElement("strong",null,"Profile"),r.a.createElement("small",null,"your story"))),r.a.createElement("li",{onClick:a},r.a.createElement(s.c,{to:l?"/friends":"/users",activeClassName:o.a.active},r.a.createElement("i",{className:"fa fa-users"}),r.a.createElement("strong",null,"Users"),r.a.createElement("small",null,"our developers"))),r.a.createElement("li",{className:o.a.dialogs_link},r.a.createElement(s.c,{to:"/dialogs",activeClassName:o.a.active},r.a.createElement("i",{className:"fa fa-comments-o"}),r.a.createElement("strong",null,"Dialogs"),r.a.createElement("small",null,"your dialogs"),c)),r.a.createElement("li",null,r.a.createElement(s.c,{to:"/news",activeClassName:o.a.active},r.a.createElement("i",{className:"fa fa-globe"}),r.a.createElement("strong",null,"News"),r.a.createElement("small",null,"breaking news"))),r.a.createElement("li",null,r.a.createElement(s.c,{to:"/music",activeClassName:o.a.active,onClick:n},r.a.createElement("i",{className:"fa fa-music"}),r.a.createElement("strong",null,"Music"),r.a.createElement("small",null,"deezer chart"))))),t)}},function(e,t,a){"use strict";a.r(t),a.d(t,"initializedSuccess",(function(){return c})),a.d(t,"initializeApp",(function(){return o})),a.d(t,"toggleIsFetching",(function(){return s}));var n=a(36),r=a(63),c=function(){return{type:n.a}},o=function(){return function(e){return e(r.me(!0)).then((function(){e(c())}))}},s=function(e){return{type:n.b,isFetching:e}}},function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(2),o=a(45),s=a.n(o),l=a(11),u=a(28),i=a.n(u),m=a(12),f=a(8),d=function(e){var t=e.clearPage,a=Object(c.d)();Object(n.useEffect)((function(){a(f.a.getFriendsDemo(6,1))}),[a]);var o=Object(c.e)((function(e){return e.users.friends})),u=o.map((function(e){var t;return r.a.createElement("div",{className:s.a.friend},r.a.createElement(m.b,{to:"/profile/".concat(e.id)},r.a.createElement("img",{className:s.a.friendPhoto,src:(null===(t=e.photos)||void 0===t?void 0:t.small)||i.a,alt:""}),r.a.createElement("p",{className:s.a.friendName},e.name)))}));return r.a.createElement(r.a.Fragment,null,0===o.length?r.a.createElement(l.b,null):r.a.createElement("aside",{className:s.a.friendsBar},r.a.createElement("h3",{onClick:t},r.a.createElement(m.c,{activeClassName:s.a.active,to:"/friends"},"Friends")),r.a.createElement("div",{className:s.a.friendInfo},u)))};a.d(t,"a",(function(){return _}));var _=function(e){var t=e.clearPage,a=document.documentElement.clientWidth<=860;return Object(c.e)((function(e){return e.auth.isAuth}))&&!a&&r.a.createElement(d,{clearPage:t})}},function(e,t,a){e.exports={dropdown:"Dropdown_dropdown__3sMbb"}},function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(3),r=a(2),c=function(){var e=Object(n.g)();Object(r.e)((function(e){return e.auth.isAuth}))||e.push("/login")}},function(e,t,a){e.exports={news_wrapper:"News_news_wrapper__1XzFF"}},,function(e,t,a){e.exports={app_wrapper:"Common_app_wrapper__CMuWV",content_wrapper:"Common_content_wrapper__31AZ-",app_content:"Common_app_content__3PHtO"}},,function(e,t,a){"use strict";var n=a(10),r=a(0),c=a.n(r),o=a(67),s=a.n(o),l=a(31),u=a(2),i=a(3),m=a(12),f=a(99),d=a.n(f),_=function(e){var t=e.isMobile,a=Object(u.d)();return c.a.createElement("li",{className:!t||d.a.logout,onClick:function(){return a(l.a.logout())}},c.a.createElement("i",{className:"fa fa-sign-out","aria-hidden":"true"}),"Logout")},p=c.a.forwardRef((function(e,t){e.isVisible;var a=Object(i.j)("/profile");return c.a.createElement("ul",{ref:t,className:s.a.dropdown},!a&&c.a.createElement("li",null,c.a.createElement(m.b,{to:"/profile"},"My profile")),c.a.createElement(_,null))})),g=a(53),h=a.n(g),E=c.a.forwardRef((function(e,t){var a=e.onDropdown,n=e.children,r=Object(u.e)((function(e){var t;return{userName:e.auth.user.fullName,userPhoto:null===(t=e.auth.user.photos)||void 0===t?void 0:t.small}}),u.c),o=r.userName,s=r.userPhoto,l=document.documentElement.clientWidth<=480;return c.a.createElement(c.a.Fragment,null,l?c.a.createElement(_,{isMobile:l}):c.a.createElement("div",{ref:t,className:h.a.userInfo,onClick:a},c.a.createElement("span",{className:h.a.userInfo_name},o),c.a.createElement("div",{className:h.a.userInfo_photo},c.a.createElement("img",{alt:"user_photo",src:s})),n))})),b=a(100),v=a.n(b),w=function(){return c.a.createElement("div",{className:v.a.sign_in},c.a.createElement(m.c,{className:h.a.login_link,to:"/login"},"Login"),c.a.createElement("i",{className:"fa fa-sign-in","aria-hidden":"true"}))};a.d(t,"a",(function(){return N}));var N=function(){var e=Object(r.useState)(!1),t=Object(n.a)(e,2),a=t[0],o=t[1],l=Object(u.e)((function(e){return e.auth.isAuth})),i=Object(r.useRef)(),m=Object(r.useRef)(),f=Object(r.useCallback)((function(e){e.target.closest("."+s.a.dropdown)||(o(!1),i.current.style.background="",m.current.style.opacity=0,m.current.style.visibility="hidden"),document.removeEventListener("click",f)}),[]);return c.a.createElement(c.a.Fragment,null,l?c.a.createElement(E,{ref:i,onDropdown:function(e){i.current.style.background="#1e1e1e",m.current.style.visibility="visible",m.current.style.opacity=.9,document.addEventListener("click",f)}},c.a.createElement(p,{isVisible:a,ref:m})):c.a.createElement(w,null))}},,,,function(e,t,a){e.exports={footer:"Footer_footer__1U3bH",footer_content:"Footer_footer_content__2jhzK"}},function(e,t,a){e.exports={followBtn:"Followbtn_followBtn__zqOYl"}},function(e,t,a){e.exports={users:"Users_users__Iktpc",users_notFound:"Users_users_notFound__2hC14"}},function(e,t,a){e.exports={wrapper:"DialogsForm_wrapper__2l-lT",button_wrapper:"DialogsForm_button_wrapper__2zccC"}},function(e,t,a){e.exports={card:"Card_card__16oIK",card_name:"Card_card_name__3ofof",artist_card_name:"Card_artist_card_name__38GNF"}},function(e,t,a){e.exports={cards_header:"Cards_cards_header__oTcAL",cards:"Cards_cards__1iE9q"}},function(e,t,a){e.exports={profileStatus:"ProfileStatus_profileStatus__2kOiT",profileStatus_textarea:"ProfileStatus_profileStatus_textarea__2HfdH",userPhoto_block:"ProfileStatus_userPhoto_block__18OZg"}},,,,,,,,,,,function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(2),o=a(68),s=a(11),l=a(70),u=a(33),i=a.n(u),m=a(10),f=a(20),d=a(17),_=a(30),p=a.n(_),g=function(e){var t=e.profile,a=t.contacts,n=t.lookingForAJob,o=t.lookingForAJobDescription,s=t.fullName,l=e.closeEditMode,u=Object(c.d)(),i=Object(f.b)(),m=i.register,_=i.handleSubmit,g=i.errors,h=i.triggerValidation,E=i.setError,b=Object.entries(a).map((function(e){return r.a.createElement("p",{className:p.a.contacts_item},e[0].charAt(0).toUpperCase()+e[0].slice(1),":",r.a.createElement("input",{className:p.a.contacts_input,onChange:function(){return h("contacts."+e[0])},ref:m({maxLength:{value:20,message:r.a.createElement("p",null,'"ERROR"')}}),name:"contacts."+e[0],defaultValue:e[1]}),r.a.createElement(f.a,{errors:g,name:"contacts."+e[0],as:"p",className:p.a.error}))}));return r.a.createElement("form",{className:p.a.profileForm,onSubmit:_((function(e){u(d.a.saveProfile(e)).then((function(e){e&&e.length?e.forEach((function(){return E("contactsErr","servererror","Invalid Url Format")})):l()}))}))},r.a.createElement("div",{className:p.a.profileForm_close,onClick:l},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}),r.a.createElement("small",null,"close")),r.a.createElement("section",{className:p.a.name_wrapper},r.a.createElement("p",null,"Full Name:",r.a.createElement("input",{ref:m,placeholder:"Full Name",name:"FullName",defaultValue:s})),r.a.createElement("p",null,"Looking for a Job:",r.a.createElement("select",{ref:m,name:"lookingForAJob",defaultValue:n?"yes":"no"},r.a.createElement("option",{value:!0},"Yes"),r.a.createElement("option",{value:!1},"No")))),r.a.createElement("p",null,"My professional skills:",r.a.createElement("input",{ref:m,name:"LookingForAJobDescription",defaultValue:o})),r.a.createElement("p",null,"About Me:",r.a.createElement("input",{ref:m,name:"AboutMe",defaultValue:"About me"})),r.a.createElement(f.a,{errors:g,name:"contactsErr",className:p.a.error,as:"p"}),r.a.createElement("div",{className:p.a.info_box},b),r.a.createElement("button",{className:p.a.editProfile_btn},"Save"))},h=a(59),E=a.n(h),b=function(e){var t=e.contacts,a=Object.entries(t).map((function(e){return r.a.createElement("p",{className:E.a.contacts_item,key:e[0]},(t=e[0]).charAt(0).toUpperCase()+t.slice(1),":  ",e[1]?r.a.createElement("a",{className:E.a.contacts_link,href:e[1]},e[1]):"...");var t}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:E.a.contacts_header},"Contacts"),r.a.createElement("section",{className:E.a.contacts},a))},v=a(42),w=a.n(v),N=function(e){var t=e.profile,a=e.isOwner,c=Object(n.useState)(!1),o=Object(m.a)(c,2),s=o[0],l=o[1];return r.a.createElement("div",{className:w.a.profileDescription},a&&s?r.a.createElement(g,{profile:t,closeEditMode:function(){return l(!1)}}):r.a.createElement("div",{className:w.a.about_wrapper},r.a.createElement("section",{className:w.a.about},r.a.createElement("h3",{className:w.a.about_header},"About"),r.a.createElement("p",{className:w.a.about_item},"Looking for a Job: ",t.lookingForAJob?"Yes":"No"),r.a.createElement("p",{className:w.a.about_item},"Looking for a job description: ",t.lookingForAJobDescription||"..."," ")),r.a.createElement(b,{contacts:t.contacts}),a?r.a.createElement("button",{className:w.a.editProfile_btn,onClick:function(e){e.preventDefault(),l(!0)}},"Edit Profile"):""))},O=a(83),y=a.n(O),j=function(e){var t=e.dispatch,a=e.isOwner,o=Object(c.e)((function(e){return e.profile.status})),s=Object(n.useState)(null),l=Object(m.a)(s,2),u=l[0],i=l[1],f=Object(n.useState)(!1),_=Object(m.a)(f,2),p=_[0],g=_[1];Object(n.useEffect)((function(){i(o)}),[o]);return r.a.createElement("div",{className:y.a.profileStatus},a&&p?r.a.createElement("textarea",{className:y.a.profileStatus_textarea,autoFocus:!0,onChange:function(e){return i(e.target.value)},onBlur:function(e){t(d.a.updateStatus(e.target.value)),g(!1)},value:u}):r.a.createElement("p",{style:a?{cursor:"pointer"}:{cursor:""},onClick:function(){return g(!0)}},o||"no- status"))},S=a(12),P=function(e){var t=e.userId,a=e.profile,o=e.authUserId,s=Object(l.a)(e,["userId","profile","authUserId"]),u=Object(c.d)(),m=t===o,f=Object(c.e)((function(e){return{followed:e.profile.followed,isFollowing:e.profile.isFollowing}}),c.c),_=f.followed,p=f.isFollowing;return Object(n.useEffect)((function(){u(d.a.isUserFollowed(t))}),[u,t]),r.a.createElement("div",{className:i.a.profileInfo_wrapper},r.a.createElement("div",{className:i.a.userPhoto_block},r.a.createElement("label",null,r.a.createElement("img",{alt:"avatar",className:"".concat(i.a.userPhoto," ").concat(m&&i.a.ownerPhoto),src:s.myAva_img}),m&&r.a.createElement("input",{hidden:!0,onChange:function(e){e.target.files.length&&u(d.a.savePhoto(e.target.files[0]))},type:"file"}))),r.a.createElement("section",{className:i.a.profileInfo},r.a.createElement("div",{className:i.a.userName_container},r.a.createElement("p",{className:i.a.userName},a.fullName),r.a.createElement(j,{dispatch:u,isOwner:m,userId:t}),r.a.createElement("div",{className:i.a.buttons},m||r.a.createElement(S.b,{to:"/dialogs/".concat(t)},r.a.createElement("button",null," Send message")),m||(_?r.a.createElement("button",{disabled:p,onClick:function(){return u(d.a.unFollowUser())}},"Unfollow"):r.a.createElement("button",{disabled:p,onClick:function(){u(d.a.followUser())}},"Follow")))),r.a.createElement(N,{profile:a,isOwner:m})))},F=a(56),C=a(111),k=a.n(C),I=a(28),U=a.n(I),A=a(3),T=function(){Object(o.a)();var e=Object(A.i)().userId,t=Object(c.d)(),a=Object(c.e)((function(e){return{profile:e.profile.profile,authUserId:e.auth.user.userId,isFetching:e.init.isFetching}}),c.c),l=a.profile,u=a.authUserId,i=a.isFetching,m=e||u;return Object(n.useEffect)((function(){t(F.getUser(m)),t(F.getStatus(m))}),[m,t]),r.a.createElement(r.a.Fragment,null,i||!l?r.a.createElement(s.b,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{authUserId:u,profile:l,userId:m,head_img:k.a,myAva_img:l.photos.small||U.a})))};a.d(t,"a",(function(){return T})),a.d(t,"b",(function(){return d.b}))},,,,function(e,t,a){e.exports=a.p+"static/media/Free Watercolor Logos_6.9671fa20.png"},function(e,t,a){e.exports={logout:"Logout_logout__wrI6e"}},function(e,t,a){e.exports={sign_in:"SignIn_sign_in__3V4S0"}},function(e,t){e.exports="data:image/png;base64,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"},function(e,t,a){e.exports={login_title:"Login_login_title__18Cvm"}},,function(e,t,a){e.exports={usersSearch:"UsersSearch_usersSearch__1LV54"}},function(e,t,a){e.exports={dialogs_wrapper:"Dialogs_dialogs_wrapper__329w8"}},function(e,t,a){e.exports={messages_count:"NewMessagesCount_messages_count__2yBsV"}},function(e,t,a){e.exports=a.p+"static/media/news.5cf725f4.jpg"},function(e,t,a){e.exports={back:"Arrow_back__1wu_m"}},function(e,t,a){e.exports={search:"Search_search__2f5jr"}},,function(e,t,a){e.exports=a.p+"static/media/profileCommon.a41a2eec.jpg"},,,,function(e,t,a){e.exports=a(146)},,,,,function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){e.exports=a.p+"static/media/preloader-opacity.cf78036a.svg"},,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setNews",(function(){return I})),a.d(n,"getNews",(function(){return U}));var r={};a.r(r),a.d(r,"setMusicCharts",(function(){return X})),a.d(r,"setSearchResults",(function(){return K})),a.d(r,"getMusicChart",(function(){return Q})),a.d(r,"search",(function(){return Z}));var c={};a.r(c),a.d(c,"nextSong",(function(){return ue})),a.d(c,"setHint",(function(){return ie})),a.d(c,"toggleIsPlaying",(function(){return me})),a.d(c,"setDuration",(function(){return fe})),a.d(c,"prevSong",(function(){return de})),a.d(c,"setSong",(function(){return _e})),a.d(c,"setProgress",(function(){return pe})),a.d(c,"setVolume",(function(){return ge}));var o=a(0),s=a.n(o),l=a(60),u=a.n(l),i=(a(120),a(95)),m=a(96),f=a(114),d=a(112),_=(a(121),a(12)),p=a(2),g=a(11),h=a(15),E=a(3),b=a(14),v=a(52),w=function(){return s.a.createElement(b.a,null,s.a.createElement(v.a,null))},N=a(69),O=a.n(N),y=a(18),j=a.n(y),S=a(1),P={articles:null},F=a(51),C=F.create({baseURL:"https://newsapi.org/v2"}),k=function(e){var t=e.type,a=void 0===t?"top-headlines":t,n=e.country,r=void 0===n?"country=us":n,c=e.category,o=void 0===c?"&category=general":c,s=e.query,l=void 0===s?"":s;return C.get("/".concat(a,"?").concat(r).concat(o).concat(l,"&apiKey=9f6b4297388249849db6c199fd357b24")).then((function(e){if("ok"===e.data.status)return console.log(e.data.articles),e.data.articles;console.log(e)})).catch((function(e){return console.log(e)}))},I=function(e){return{type:"music/SET_NEWS",articles:e}},U=function(e){return function(t){k(e).then((function(e){return t(I(e))}))}},A=function(e){var t=e.dispatch;return s.a.createElement("section",{onClick:function(e){if(e.target.classList.contains(j.a.categories_category)){var a="&category=".concat(e.target.dataset.cat);console.log(a),t(n.getNews({category:a}))}},className:j.a.categories},s.a.createElement("div",{"data-cat":"general",className:j.a.categories_category+" "+j.a.all},"All"),s.a.createElement("div",{"data-cat":"business",className:j.a.categories_category+" "+j.a.business},"Business"),s.a.createElement("div",{"data-cat":"entertainment",className:j.a.categories_category+" "+j.a.entertaiment},"Entertainment"),s.a.createElement("div",{"data-cat":"science",className:j.a.categories_category+" "+j.a.science},"Science"),s.a.createElement("div",{"data-cat":"sports",className:j.a.categories_category+" "+j.a.sport},"Sports"),s.a.createElement("div",{"data-cat":"technology",className:j.a.categories_category+" "+j.a.technology},"Technology"))},T=a(47),x=a.n(T),D=a(107),M=a.n(D),R=function(e){var t=e.title,a=e.urlToImage,n=e.description,r=e.content,c=e.author,o=e.url,l=e.source;e.publishedAt;return s.a.createElement("article",{className:x.a.news_article,style:{backgroundImage:"url(".concat(a||M.a,")")},key:o},s.a.createElement("a",{href:o},s.a.createElement("h3",{className:x.a.news_article_title},t),s.a.createElement("p",{className:x.a.news_article_description},n),s.a.createElement("p",{className:x.a.news_article_content},r)),s.a.createElement("p",{className:x.a.news_article_author},c),s.a.createElement("p",{className:x.a.news_article_src},l.name))},L=function(){var e,t=Object(p.e)((function(e){return e.news.articles})),a=null===t||void 0===t?void 0:t.map((function(e){return s.a.createElement(R,e)}));return 0===(null===(e=a)||void 0===e?void 0:e.length)&&(a="Sorry nothing found"),t?s.a.createElement("section",{className:O.a.news},a||s.a.createElement(g.b,null)):s.a.createElement(g.b,null)},B=a(40),H=a.n(B),V=function(e){var t=e.dispatch;return s.a.createElement("section",{id:H.a.cover},s.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=e.target.search_query.value;t(n.getNews({query:"q=".concat(a),category:"",country:""}))},autoComplete:"off"},s.a.createElement("div",{className:H.a.search_block},s.a.createElement("div",{className:H.a.search_query},s.a.createElement("input",{className:H.a.search_query,name:"search_query",placeholder:"Search...",type:"text"})),s.a.createElement("div",{className:H.a.search_btn,id:H.a["s-cover"]},s.a.createElement("button",{type:"submit"},s.a.createElement("div",{id:H.a["s-circle"]}),s.a.createElement("span",null))))))},G=function(){var e=Object(p.d)();return Object(o.useEffect)((function(){e(n.getNews({}))}),[e]),s.a.createElement("div",{className:O.a.news_wrapper},s.a.createElement(V,{dispatch:e}),s.a.createElement(A,{dispatch:e}),s.a.createElement(L,null))},q=function(){return s.a.createElement(b.a,null,s.a.createElement(G,null))},W={charts:null,searchResults:null},z=F.create({baseURL:"https://cors-anywhere.herokuapp.com/http://api.deezer.com/"}),J=function(){return z.get("chart/").then((function(e){return e.data})).catch((function(e){console.log(e)}))},Y=function(e){return z.get("/search?q=".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},X=function(e){return{type:"music/SET_MUSIC_CHARTS",charts:e}},K=function(e){return{type:"music/SET_SEARCH_RESULTS",searchResults:e}},Q=function(e){return function(t){J(e).then((function(e){t(X(e))}))}},Z=function(e){return function(t){return Y(e).then((function(e){t(K(e))}))}},$=a(10),ee=a(41),te=a.n(ee),ae=function(e){var t=Math.floor(e/60),a=String(Math.floor(e%60));return 1===a.length&&(a="0"+a),t+" : "+a},ne=function(e,t){var a=t.getBoundingClientRect().right-t.getBoundingClientRect().left;return Math.abs(e-t.getBoundingClientRect().left)/a*100},re=a(70),ce=a(26),oe=a.n(ce),se={currentAlbum:"",bgPhoto:"",currentNumber:0,currentSrc:"",progress:0,volume:50,duration:"",currentSecond:"",hintTime:"",isPlaying:!1,artist:"",title:""};function le(e,t){switch(t.type){case"player/NEXT_SONG":return Object(S.a)(Object(S.a)(Object(S.a)({},e),t.payload),{},{currentNumber:e.currentNumber+1});case"player/PREV_SONG":return Object(S.a)(Object(S.a)(Object(S.a)({},e),t.payload),{},{currentNumber:e.currentNumber-1});case"player/SET_SONG":case"player/SET_PROGRESS":return Object(S.a)(Object(S.a)({},e),t.payload);case"player/SET_VOLUME":return Object(S.a)(Object(S.a)({},e),{},{volume:t.payload});case"player/SET_DURATION":return Object(S.a)(Object(S.a)({},e),{},{duration:t.payload});case"player/SET_HINT":return Object(S.a)(Object(S.a)({},e),{},{hintTime:t.payload});case"player/TOGGLE_IS_PLAYING":return Object(S.a)(Object(S.a)({},e),{},{isPlaying:t.payload});default:throw new Error}}var ue=function(e){return{type:"player/NEXT_SONG",payload:e}},ie=function(e){return{type:"player/SET_HINT",payload:e}},me=function(e){return{type:"player/TOGGLE_IS_PLAYING",payload:e}},fe=function(e){return{type:"player/SET_DURATION",payload:e}},de=function(e){return{type:"player/PREV_SONG",payload:e}},_e=function(e){return{type:"player/SET_SONG",payload:e}},pe=function(e){return{type:"player/SET_PROGRESS",payload:e}},ge=function(e){return{type:"player/SET_VOLUME",payload:e}},he=s.a.forwardRef((function(e,t){var a=e.dispatch,n=e.state,r=e.initPlayer,l=(Object(re.a)(e,["dispatch","state","initPlayer"]),t),u=Object(o.useRef)(),i=function(){if(!(n.currentNumber>=9)){var e=n.currentNumber+1,t="div[data-track_number='"+"".concat(e)+"']",r=document.querySelector("".concat(t));a(c.nextSong({currentSrc:r.dataset.url_track,currentAlbum:r.dataset.album_photo,bgPhoto:r.dataset.bg_photo,artist:r.dataset.artist_name,title:r.dataset.track_title}))}};return Object(o.useEffect)((function(){l.current.volume=n.volume/100}),[n.volume]),s.a.createElement("div",{className:oe.a.player},s.a.createElement("audio",{ref:l,onTimeUpdate:function(e){var t=l.current.duration,n=ae(l.current.currentTime);a(c.setProgress({progress:l.current.currentTime/t*100,currentSecond:n})),l.current.ended&&i()},onLoadedData:function(){a(c.setDuration(ae(l.current.duration)))},src:n.currentSrc,preload:"none","data-track_number":n.currentNumber}),s.a.createElement("div",{onClick:r,className:oe.a.play_block},s.a.createElement("img",{src:n.currentAlbum,alt:"player_album"}),n.isPlaying?s.a.createElement("i",{className:"fa fa-pause "+oe.a.pause}):s.a.createElement("i",{className:"fa fa-play "+oe.a.play})),s.a.createElement("div",{className:oe.a.arrows},s.a.createElement("i",{className:"fa fa-step-backward",onClick:function(){if(!(n.currentNumber<=0)){var e=n.currentNumber-1,t="div[data-track_number='"+"".concat(e)+"']",r=document.querySelector("".concat(t));a(c.prevSong({currentSrc:r.dataset.url_track,currentAlbum:r.dataset.album_photo,bgPhoto:r.dataset.bg_photo,artist:r.dataset.artist_name,title:r.dataset.track_title}))}},"aria-hidden":"true"}),s.a.createElement("i",{className:"fa fa-step-forward",onClick:i,"aria-hidden":"true"})),s.a.createElement("div",{className:oe.a.progress_bar},s.a.createElement("div",{className:oe.a.title_info},s.a.createElement("span",{className:oe.a.title},n.artist," - ",n.title),s.a.createElement("small",null,n.currentSecond)),s.a.createElement("div",{className:oe.a.progress_wrapper},s.a.createElement("progress",{onClick:function(e){if(!isNaN(l.current.duration)){var t=l.current.duration,n=ne(e.pageX,e.currentTarget);a(c.setProgress(n)),l.current.currentTime=t/100*n}},max:"100",onMouseMove:function(e){if(!isNaN(n.progress)){var t=ne(e.clientX,e.currentTarget),r=ae(Math.floor(l.current.duration/100*t));a(c.setHint(r)),u.current.style.left=e.clientX-e.currentTarget.getBoundingClientRect().left+"px",u.current.hidden=!1}},onMouseLeave:function(e){u.current.hidden=!0},value:n.progress}),s.a.createElement("small",{ref:u,className:oe.a.hint},n.hintTime))),s.a.createElement("div",{className:oe.a.volume},n.volume>0?s.a.createElement("i",{className:"fa fa-volume-up","aria-hidden":"true"}):s.a.createElement("i",{className:"fa fa-volume-off","aria-hidden":"true"}),s.a.createElement("input",{type:"range",onChange:function(e){a(c.setVolume(e.target.value))},value:n.volume})))})),Ee=function(e){var t=e.tracks,a=e.children,n=Object(o.useRef)();Object(o.useEffect)((function(){t&&i(c.setSong({currentAlbum:t[0].album.cover_small,currentSrc:t[0].preview,bgPhoto:t[0].artist.picture_xl,artist:t[0].artist.name,title:t[0].title}))}),[t]);var r=Object(o.useReducer)(le,se),l=Object($.a)(r,2),u=l[0],i=l[1],m=function(e){e.currentTarget.dataset.url_track&&u.currentSrc!==e.currentTarget.dataset.url_track?i(c.setSong({currentNumber:+e.currentTarget.dataset.track_number,currentSrc:e.currentTarget.dataset.url_track,currentAlbum:e.currentTarget.dataset.album_photo,bgPhoto:e.currentTarget.dataset.bg_photo,artist:e.currentTarget.dataset.artist_name,title:e.currentTarget.dataset.track_title})):f()},f=function(){n.current.paused?(n.current.play(),i(c.toggleIsPlaying(!0)),console.log("play")):(n.current.pause(),i(c.toggleIsPlaying(!1)))};Object(o.useEffect)((function(){u.currentSrc.length>0&&f()}),[u.currentNumber]);var d=null===t||void 0===t?void 0:t.map((function(e,t){var a;return a=u.currentNumber===t?te.a.track_album_playing:"",s.a.createElement("div",{key:e.id,className:te.a.track_container},s.a.createElement("div",{"data-url_track":e.preview,"data-track_number":t,"data-album_photo":e.album.cover_small,"data-bg_photo":e.artist.picture_xl,"data-track_title":e.title,"data-artist_name":e.artist.name,onClick:m,className:te.a.track_album+" "+a},s.a.createElement("img",{alt:"artist_image",src:e.album.cover_small}),s.a.createElement("i",{className:"fa fa-play"})),s.a.createElement("div",{className:te.a.track_title},s.a.createElement("a",{href:e.artist.link},s.a.createElement("span",null,e.artist.name," - ",e.title)),s.a.createElement("small",{className:te.a.track_title_duration},ae(e.duration))))}));return s.a.createElement(s.a.Fragment,null,d?s.a.createElement(he,{ref:n,dispatch:i,state:u,initPlayer:m}):s.a.createElement(g.b,null),s.a.createElement("div",{className:te.a.music_tracks},s.a.createElement("h3",{className:te.a.category_header},a),d||s.a.createElement(g.b,null)))},be=a(108),ve=a.n(be),we=function(e){var t=e.back;return s.a.createElement("i",{className:"fa fa-angle-left ".concat(ve.a.back),onClick:t,"aria-hidden":"true"})},Ne=function(e){var t=e.searchResults,a=e.dispatch;return s.a.createElement(Ee,{tracks:t},s.a.createElement(s.a.Fragment,null,s.a.createElement(we,{back:function(){a(r.setSearchResults(null))}})," Search Results"))},Oe=a(20),ye=a(109),je=a.n(ye),Se=function(e){var t=e.dispatch,a=Object(Oe.b)(),n=a.register,c=a.handleSubmit;return s.a.createElement("div",{className:je.a.search},s.a.createElement("form",{onSubmit:c((function(e){var a=e.query;t(r.search(a))}))},s.a.createElement("input",{autoComplete:"off",ref:n({required:!0}),name:"query",type:"text"}),s.a.createElement("i",{className:"fa fa-search"})))},Pe=a(34),Fe=a.n(Pe),Ce=a(81),ke=a.n(Ce),Ie=function(e){var t=e.id,a=e.link,n=e.artistName,r=e.title,c=e.picture,o=e.font_size;return s.a.createElement("section",{className:ke.a.card,key:t},r||n?s.a.createElement("p",{style:{fontSize:o},className:ke.a.card_name},s.a.createElement("a",{href:a},r||n)):"",s.a.createElement("a",{href:a},s.a.createElement("img",{src:c,alt:n})))},Ue=a(82),Ae=a.n(Ue),Te=function(e){var t=e.children,a=e.header;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:Ae.a.cards_header},a),s.a.createElement("div",{className:Ae.a.cards},t||s.a.createElement(g.b,null)))},xe=function(e){var t=e.artists,a=null===t||void 0===t?void 0:t.map((function(e){return s.a.createElement(Ie,{id:e.id,link:e.link,picture:e.picture_big,artistName:e.name})}));return s.a.createElement(s.a.Fragment,null,s.a.createElement(Te,{header:"Top Artists"},a))},De=function(e){var t=e.albums,a=null===t||void 0===t?void 0:t.map((function(e){return s.a.createElement(Ie,{id:e.id,picture:e.cover_big,artistName:e.artist.name,title:e.title,link:e.link,font_size:"1rem"})}));return s.a.createElement(s.a.Fragment,null,s.a.createElement(Te,{header:"Top Albums"},a))},Me=function(e){var t=e.podcasts,a=null===t||void 0===t?void 0:t.map((function(e){return s.a.createElement(Ie,{id:e.id,pictureLink:e.link,picture:e.picture_big},s.a.createElement("p",{className:Fe.a.podcast_description},e.description))}));return s.a.createElement(s.a.Fragment,null,s.a.createElement(Te,{header:"Top Podcasts"},a))},Re=function(e){var t=e.playlists,a=null===t||void 0===t?void 0:t.map((function(e){return s.a.createElement(Ie,{id:e.id,pictureLink:e.link,picture:e.picture_big})}));return s.a.createElement(s.a.Fragment,null,s.a.createElement(Te,{header:"Top Playlists"},a))},Le=function(){var e=Object(p.e)((function(e){var t,a,n,r,c,o,s,l,u,i;return{tracks:null===(t=e.music.charts)||void 0===t||null===(a=t.tracks)||void 0===a?void 0:a.data,artists:null===(n=e.music.charts)||void 0===n||null===(r=n.artists)||void 0===r?void 0:r.data,albums:null===(c=e.music.charts)||void 0===c||null===(o=c.albums)||void 0===o?void 0:o.data,podcasts:null===(s=e.music.charts)||void 0===s||null===(l=s.podcasts)||void 0===l?void 0:l.data,playlists:null===(u=e.music.charts)||void 0===u||null===(i=u.playlists)||void 0===i?void 0:i.data}}),p.c),t=e.tracks,a=e.artists,n=e.albums,r=e.podcasts,c=e.playlists;return s.a.createElement("div",{className:Fe.a.music},s.a.createElement(Ee,{tracks:t,children:"Top Tracks"}),s.a.createElement(xe,{artists:a}),s.a.createElement(De,{albums:n}),s.a.createElement(Me,{podcasts:r}),s.a.createElement(Re,{playlists:c}))},Be=function(){var e=Object(p.d)(),t=Object(p.e)((function(e){var t,a;return null===(t=e.music)||void 0===t||null===(a=t.searchResults)||void 0===a?void 0:a.data}));return Object(o.useEffect)((function(){e(r.setSearchResults(null)),e(r.getMusicChart())}),[e]),s.a.createElement("section",{className:Fe.a.music_wrapper},s.a.createElement(Se,{dispatch:e}),t?s.a.createElement(Ne,{searchResults:t,dispatch:e}):s.a.createElement(Le,null))},He=function(){var e=Object(p.d)();return s.a.createElement(b.a,{clearMusicSearch:function(){e(r.setSearchResults(null))}},s.a.createElement(Be,null))},Ve=a(29),Ge=function(){return s.a.createElement(b.a,null,s.a.createElement(Ve.b,null))},qe=a(37),We=function(){return s.a.createElement(b.a,null,s.a.createElement(qe.a,null))},ze=function(){return s.a.createElement(b.a,null,s.a.createElement(Ve.b,null))},Je=function(){return s.a.createElement(b.a,null,s.a.createElement(Ve.b,null))},Ye=a(113),Xe=Object(Ye.a)((function(){return a.e(1).then(a.bind(null,147))}),{resolveComponent:function(e){return e.ProfilePage}}),Ke=function(){return s.a.createElement(E.d,null,s.a.createElement(E.b,{path:"/profile/:userId?"},s.a.createElement(Xe,null)),s.a.createElement(E.b,{path:"/dialogs"},s.a.createElement(w,null)),s.a.createElement(E.b,{path:"/news"},s.a.createElement(q,null)),s.a.createElement(E.b,{path:"/music"},s.a.createElement(He,null)),s.a.createElement(E.b,{path:"/users/"},s.a.createElement(Ge,null)),s.a.createElement(E.b,{path:"/friends"},s.a.createElement(ze,null)),s.a.createElement(E.b,{path:"/search/:term?"},s.a.createElement(Je,null)),s.a.createElement(E.b,{path:"/login"},s.a.createElement(We,null)),s.a.createElement(E.a,{exact:!0,from:"/",to:"/profile/"}),s.a.createElement(E.b,{render:function(){return s.a.createElement("div",null,"404 NOT FOUND")}}))},Qe=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?s.a.createElement(_.a,null,s.a.createElement(Ke,null)):s.a.createElement(g.b,null)}}]),a}(o.Component),Ze=Object(p.b)((function(e){return{initialized:e.init.initialized}}),(function(e){return{initializeApp:function(){return e(h.a.initializeApp())}}}))(Qe),$e=a(44),et=a(110),tt=a(94),at=Object($e.c)({profile:tt.b,users:Ve.c,auth:qe.c,init:qe.d,dialogs:v.c,news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"music/SET_NEWS":return Object(S.a)(Object(S.a)({},e),{},{articles:t.articles});default:return e}},music:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"music/SET_MUSIC_CHARTS":return Object(S.a)(Object(S.a)({},e),{},{charts:t.charts});case"music/SET_SEARCH_RESULTS":return Object(S.a)(Object(S.a)({},e),{},{searchResults:t.searchResults});default:return e}}}),nt=Object($e.d)(at,Object($e.a)(et.a));window.store=nt,u.a.render(s.a.createElement(p.a,{store:nt},s.a.createElement(Ze,{store:nt})),document.getElementById("root"))}],[[115,2,3]]]);
//# sourceMappingURL=main.9ab04cc7.chunk.js.map