{"version":3,"sources":["api/api.js","utils/obj-helpers.js","features/users/modules/users/types.js","features/users/modules/users/reducer.js","features/users/modules/users/selectors.js","features/users/modules/users/actions.js","features/users/modules/users/index.js","ui/organisms/Paginator/Paginator.js","ui/index.js","ui/organisms/Footer/Footer.js","ui/templates/Common.js","features/autnentification/modules/initialization/reducer.js","features/autnentification/modules/initialization/index.js","features/profile/modules/profile/types.js","features/profile/modules/profile/reducer.js","features/profile/modules/profile/index.js","features/news/ui/moleculs/Categories/Categories.module.scss","features/autnentification/ui/organisms/LoginForm/LoginForm.module.scss","features/music/ui/organisms/Player/Player.module.scss","ui/organisms/Paginator/Paginator.module.scss","ui/assets/images/avatar-undefined.jpg","features/users/ui/atoms/FollowBtn/FollowBtn.js","features/users/ui/organisms/User/User.js","features/users/Users.js","features/users/ui/moleculs/UsersSearch/UsersSearch.js","features/users/Search.js","features/users/index.js","features/profile/ui/molecules/ProfileForm/ProfileForm.module.scss","features/autnentification/modules/authorization/reducer.js","features/autnentification/modules/authorization/index.js","ui/organisms/Navbar/Navbar.module.scss","features/profile/ui/organisms/ProfileInfo/ProfileInfo.module.scss","features/music/Music.module.scss","features/autnentification/modules/authorization/types.js","features/autnentification/modules/initialization/types.js","features/autnentification/ui/organisms/LoginForm/LoginForm.js","features/autnentification/Login.js","features/autnentification/index.js","features/dialogs/ui/atoms/Message/Message.module.scss","ui/atoms/preloader/Preloader.module.scss","features/news/ui/moleculs/Search/Search.module.scss","features/music/ui/organisms/Tracks/Tracks.module.scss","features/profile/ui/molecules/ProfileDescription/ProfileDescription.module.scss","features/users/ui/moleculs/FriendsBar/FriendsBar.module.scss","features/users/ui/organisms/User/User.module.scss","features/news/ui/moleculs/Article/Article.module.scss","features/dialogs/modules/dialogs/reducer.js","features/dialogs/modules/dialogs/types.js","features/dialogs/modules/dialogs/actions.js","features/dialogs/ui/molecules/DialogsForm/DialogsForm.js","features/dialogs/ui/atoms/Message/Message.js","features/dialogs/ui/molecules/Dialog/Dialog.js","features/dialogs/ui/molecules/DialogDescriprion/DialogDescription.js","features/dialogs/ui/organisms/DialogsList.js","features/dialogs/Dialogs.js","features/dialogs/ui/atoms/NewMessagesCount/NewMessagesCount.js","features/dialogs/index.js","features/autnentification/ui/organisms/UserAutnInfoBar/UserAuthInfoBar.module.scss","features/dialogs/ui/molecules/Dialog/Dialog.module.scss","features/dialogs/ui/molecules/DialogDescriprion/DialogDescription.module.scss","features/profile/modules/profile/actions.js","ui/organisms/Header/Header.module.scss","features/profile/ui/molecules/Contacts/Contacts.module.scss","ui/atoms/preloader/Preloader.js","ui/organisms/Header/Header.js","features/autnentification/modules/authorization/actions.js","ui/organisms/Navbar/Navbar.js","features/autnentification/modules/initialization/actions.js","features/users/ui/moleculs/FriendsBar/FriendsBar.js","features/users/Friends.js","features/autnentification/ui/molecules/Dropdown/Dropdown.module.scss","utils/useAuthRedirect.js","features/news/News.module.scss","ui/templates/Common.module.scss","features/autnentification/ui/atoms/Logout/Logout.js","features/autnentification/ui/molecules/Dropdown/Dropdown.js","features/autnentification/ui/organisms/UserAutnInfoBar/UserAuthInfoBar.js","features/autnentification/ui/atoms/SIgnIn.js","features/autnentification/UserAuthInfo.js","ui/organisms/Footer/Footer.module.scss","features/users/ui/atoms/FollowBtn/Followbtn.module.scss","features/users/Users.module.scss","features/dialogs/ui/molecules/DialogsForm/DialogsForm.module.scss","features/music/ui/templates/card/Card.module.scss","features/music/ui/templates/cards/Cards.module.scss","features/profile/ui/atoms/ProfileStatus/ProfileStatus.module.scss","features/profile/ui/molecules/ProfileForm/ProfileForm.js","features/profile/ui/molecules/Contacts/Contacts.js","features/profile/ui/molecules/ProfileDescription/ProfileDescription.js","features/profile/ui/atoms/ProfileStatus/ProfileStatus.js","features/profile/ui/organisms/ProfileInfo/ProfileInfo.js","features/profile/Profile.js","features/profile/index.js","ui/assets/images/logo/Free Watercolor Logos_6.png","features/autnentification/ui/atoms/Logout/Logout.module.scss","features/autnentification/ui/atoms/SignIn.module.scss","ui/assets/icons/message-group.png","features/autnentification/Login.module.scss","features/users/ui/moleculs/UsersSearch/UsersSearch.module.scss","features/dialogs/Dialogs.module.scss","features/dialogs/ui/atoms/NewMessagesCount/NewMessagesCount.module.scss","features/news/ui/assets/categories/news.jpg","ui/atoms/Arrow/Arrow.module.scss","features/music/ui/organisms/Search/Search.module.scss","features/profile/ui/assets/profileCommon.jpg","ui/assets/images/preloader/preloader-opacity.svg","pages/dialogs/index.js","features/news/modules/news/reducer.js","api/newsAPI.js","features/news/modules/news/actions.js","features/news/modules/news/types.js","features/news/ui/moleculs/Categories/Categories.js","features/news/ui/moleculs/Article/Article.js","features/news/ui/Organisms/Articles.js","features/news/ui/moleculs/Search/Search.js","features/news/News.js","pages/news/index.js","features/music/modules/music/reducer.js","api/musicAPI.js","features/music/modules/music/actions.js","features/music/modules/music/types.js","features/music/utils/index.js","features/music/modules/player/reducer.js","features/music/modules/player/types.js","features/music/modules/player/actions.js","features/music/ui/organisms/Player/Player.js","features/music/ui/organisms/Tracks/Tracks.js","ui/atoms/Arrow/Arrow.js","features/music/ui/organisms/SearchResults.js","features/music/ui/organisms/Search/Search.js","features/music/ui/templates/card/Card.js","features/music/ui/templates/cards/Cards.js","features/music/ui/organisms/Artists.js","features/music/ui/organisms/Albums.js","features/music/ui/organisms/Podcasts.js","features/music/ui/organisms/Playlists.js","features/music/ui/organisms/Chart.js","features/music/Music.js","pages/music/index.js","pages/users/index.js","pages/login/index.js","pages/friends/index.js","pages/search/index.js","Routes.js","App.js","lib/store/root-reducer.js","lib/store/store.js","index.js"],"names":["instance","axios","baseURL","withCredentials","headers","usersAPI","getUser","id","console","log","profileAPI","getUsers","pageSize","currentPage","isFriend","term","get","then","response","data","followUser","userId","post","resultCode","Error","catch","e","unFollowUser","delete","isFollowed","authAPI","me","login","formData","logout","getCaptcha","url","getStatus","updateStatus","status","put","setPhoto","photoFile","FormData","append","setProfile","profile","dialogsAPI","getNewMessagesCount","getDialogs","startDialog","sendMessage","message","body","getDialog","items","updateArrayOfItemsWithId","itemId","newItemObjProps","map","item","FOLLOW","initialState","friends","users","totalUsersCount","isFetching","isFollowing","reducer","state","action","type","types","followed","pageNumber","totalCount","friendsCount","isFetchingButton","filter","getUsersWithPhotoSelector","createSelector","u","photos","small","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getIsFollowing","follow","unFollow","setUsers","setFriends","setCurrentPage","setTotalCount","toggleFollowingUser","dispatch","initActions","toggleIsFetching","search","getState","a","friendsPortion","usersPortion","allUsers","length","getFriendsDemo","folowUnfollowFlow","apiMethod","actionCreator","usersActions","bind","Paginator","portionSize","onPageChanged","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","currentPages","p","className","classes","selectedPage","key","onClick","onPortionNumber","k","target","paginator_wrapper","paginator","icon","left","arrow","Footer","footer","footer_content","CommonTemplate","children","clearMusicSearch","useDispatch","clearPage","Header","app_wrapper","content_wrapper","Navbar","messagesCount","Friends","app_content","initialized","ADD_POST","SET_USER_PROFILE","SET_STATUS","UPDATE_PHOTO","TOGGLE_IS_FOLLOWING","IS_FOLLOWED","enterPosts","newMessageBody","likeCount","photo","module","exports","FollowBtn","followBtn","disabled","some","onUnFollow","onFollow","User","isAuth","fullName","trim","substr","user","user_info","user_photo","to","src","ava_undefined","alt","user_info_status","btn_container","sendMsg_btn","Users","path","useLocation","pathname","isFriends","searchTerm","useParams","useSelector","usersSelectors","init","auth","shallowEqual","usersList","useEffect","startsWith","name","Preloader","obj","isEmpty","users_notFound","UsersSearch","onSearch","onChange","styles","usersSearch","autoComplete","onKeyDown","placeholder","value","Search","history","useHistory","setSearchTerm","email","captchaUrl","AUTH_USER","GET_CAPTCHA_URL_SUCCESS","INITIALIZED_SUCCESS","TOGGLE_IS_FETCHING","LoginForm","useForm","register","errors","setError","handleSubmit","onSubmit","authActions","error","common_input","ref","required","span_error","as","rememberMe","htmlFor","rememberMe_label","send_btn","Login","login_title","dialogs","dialog","newMessages","payload","setDialog","setDialogs","setNewMessages","count","sortedDialogs","sort","b","newMessagesCount","DialogsForm","inputMessage","useRef","onSendMessage","dialogsActions","current","wrapper","el","currentTarget","setTimeout","scrollTop","style","height","scrollHeight","keyCode","preventDefault","elem","button_wrapper","Message","React","forwardRef","isOwner","owner","other","message_text","message_meta","addedAt","Dialog","renderCount","setCount","userPhoto","userName","authUserId","messages","index","arr","senderId","avatar","no_avatar","profileActions","timerId","setInterval","clearInterval","scrollIntoView","classList","contains","msgClasses","add","new_owner","new_other","prevState","dialog_container","userInfo","DialogDescription","hasNewMessages","lastUserActivityDate","lastDialogActivityDate","userImage","no_img","messageInfo","metaInfo","DialogsList","dialogs_wrapper","Dialogs","useAuthRedirect","exact","component","NewMessagesCount","messages_count","addPostActionCreator","setUserProfile","setStatus","updatePhoto","toggleIsFollowing","isUserFollowed","savePhoto","saveProfile","cssload_loader","cssload_inner","cssload_one","cssload_two","cssload_three","header","header_content","logo_wrapper","header_logo","logo","authUser","getCaptchaUrlSuccess","authUserProfile","undefined","isMobile","document","documentElement","clientWidth","container","activeClassName","active","dialogs_link","initializedSuccess","initializeApp","FriendsBar","friendsElements","friend","friendPhoto","avatar_undefined","friendName","friendsBar","friendInfo","Logout","aria-hidden","Dropdown","isVisible","match","useRouteMatch","dropdown","UserAuthInfoBar","onDropdown","userInfo_name","userInfo_photo","SignIn","sign_in","login_link","UserAuthInfo","isDropped","setDropdown","userInfoRef","dropRef","onCloseDropDown","useCallback","closest","dropClass","background","opacity","visibility","removeEventListener","addEventListener","ProfileForm","contacts","lookingForAJob","lookingForAJobDescription","closeEditMode","triggerValidation","contactItems","Object","entries","contacts_item","charAt","toUpperCase","slice","contacts_input","maxLength","defaultValue","profileForm","profileData","forEach","profileForm_close","name_wrapper","info_box","editProfile_btn","Contacts","newElements","string","contacts_link","href","contacts_header","ProfileDescription","editMode","setEditMode","profileDescription","about_wrapper","about","about_header","about_item","ProfileStatus","userStatus","profileStatus","profileStatus_textarea","autoFocus","onBlur","cursor","ProfileInfo","props","profileInfo_wrapper","userPhoto_block","ownerPhoto","myAva_img","hidden","files","profileInfo","userName_container","buttons","Profile","selectedId","head_img","profileCommon","avatarUndefined","DialogsPage","Common","articles","newsAPI","country","category","query","err","setNews","getNews","params","Categories","event","categories_category","dataset","cat","newsActions","categories","data-cat","all","business","entertaiment","science","sport","technology","Article","title","urlToImage","description","content","author","source","publishedAt","news_article","backgroundImage","mockImg","news_article_title","news_article_description","news_article_content","news_article_author","news_article_src","Articles","news","articleElements","cover","search_query","search_block","search_btn","News","news_wrapper","NewsPage","charts","searchResults","musicApi","setMusicCharts","setSearchResults","getMusicChart","converter","duration","minutes","floor","seconds","String","calculateProgress","mouseX","progressElement","barWidth","getBoundingClientRect","right","abs","currentAlbum","bgPhoto","currentNumber","currentSrc","progress","volume","currentSecond","hintTime","isPlaying","artist","nextSong","setHint","toggleIsPlaying","setDuration","prevSong","setSong","setProgress","setVolume","Player","initPlayer","trackRef","hintRef","onForward","nextTrackNumber","nextTrack","querySelector","playerActions","url_track","album_photo","bg_photo","artist_name","track_title","player","onTimeUpdate","currentTime","ended","onLoadedData","preload","data-track_number","play_block","pause","play","arrows","prevTrackNumber","prevTrack","progress_bar","title_info","progress_wrapper","isNaN","percent","pageX","max","onMouseMove","clientX","result","onMouseLeave","hint","Tracks","tracks","album","cover_small","preview","picture_xl","useReducer","playerReducer","playerInitialState","track_number","onPlay","paused","tracksElements","track","playing","track_album_playing","track_container","data-url_track","data-album_photo","data-bg_photo","data-track_title","data-artist_name","track_album","link","track_title_duration","music_tracks","category_header","Arrow","back","SearchResults","musicActions","Card","artistName","picture","font_size","card","card_name","Cards","cards_header","cards","Artists","artists","artistsElements","picture_big","Albums","albums","albumsElements","cover_big","Podcasts","podcasts","podcastsElements","podcast","pictureLink","podcast_description","Playlists","playlists","playlistsElements","playlist","Chart","music","Music","music_wrapper","MusicPage","UsersPage","LoginPage","FriendsPage","SearchPage","ProfilePage","loadable","resolveComponent","components","Routes","from","render","App","this","Component","connect","rootReducer","combineReducers","profileReducer","usersReducer","authReducer","initReducer","dialogsReducer","store","createStore","applyMiddleware","thunkMiddleWare","window","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.9ab04cc7.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"65ef668c-9986-4b60-8a04-69abb862c8d8\"\r\n  },\r\n});\r\nconst usersAPI = {\r\n\r\n  getUser(id) {\r\n    console.log(\"Obsolete method!Use profileAPI\");\r\n    return profileAPI.getUser(id);\r\n  },\r\n\r\n  getUsers(pageSize, currentPage, isFriend, term = \"\") {\r\n    return instance\r\n      .get(`users?count=${pageSize}&page=${currentPage}&friend=${isFriend}&term=${term}`,\r\n        {withCredentials: true})\r\n      .then((response) => response.data);\r\n  },\r\n\r\n  followUser(userId) {\r\n    return instance.post(`follow/${userId}`)\r\n      .then((response) => {\r\n        if (response.data.resultCode === 0) {\r\n          return response.data\r\n        } else {\r\n          throw new Error(\"Ошибка в followUser\")\r\n        }\r\n      }).catch((e) => console.log(e));\r\n  },\r\n\r\n  unFollowUser(userId) {\r\n    return instance.delete(`follow/${userId}`)\r\n      .then((response) => {\r\n        if (response.data.resultCode === 0) {\r\n          return response.data\r\n        } else {\r\n          throw new Error(\"Ошибка в unFollowUser\")\r\n        }\r\n      }).catch((e) => console.log(e));\r\n  },\r\n\r\n  isFollowed(userId) {\r\n    return instance.get(`follow/${userId}`)\r\n      .then((response) => response.data);\r\n  }\r\n};\r\n\r\n\r\nconst authAPI = {\r\n  me() {\r\n    return instance\r\n      .get(`/auth/me`)\r\n      .then((response) => {\r\n        if (response.data.resultCode === 0) return response.data.data;\r\n      });\r\n  },\r\n\r\n  login(formData) {\r\n\r\n    return instance.post(\"/auth/login\", formData)\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n\r\n  logout() {\r\n\r\n    return instance.delete(\"/auth/login\").then((response) => {\r\n      if (response.resultCode === 0) return response;\r\n    });\r\n  },\r\n\r\n  getCaptcha() {\r\n    return instance.get(\"/security/get-captcha-url\")\r\n      .then((response) => {\r\n        return response.data.url;\r\n      })\r\n  }\r\n};\r\n\r\nconst profileAPI = {\r\n  getUser(id) {\r\n    return instance\r\n      .get(`profile/${id}`)\r\n      .then((response) => {\r\n        return response.data\r\n      });\r\n  },\r\n\r\n  getStatus(id) {\r\n\r\n    return instance.get(`profile/status/${id}`)\r\n      .then((response) => response.data)\r\n  },\r\n\r\n  updateStatus(status) {\r\n    return instance.put(\"profile/status\", {status})\r\n      .then((response) => {\r\n        console.log(response);\r\n        if (response.data.resultCode === 0) {\r\n\r\n          return response;\r\n        }\r\n      }).catch((e) => console.log(\"ОШИБКА \" + e));\r\n  },\r\n\r\n  setPhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append(\"newPhoto\", photoFile);\r\n    return instance.put('/profile/photo', formData)\r\n      .then((response) => {\r\n        if (response.data.resultCode === 0) {\r\n          return response;\r\n        }\r\n      });\r\n  },\r\n\r\n  setProfile(profile) {\r\n    return instance.put('/profile/', profile).then((response) => {\r\n      return response;\r\n    })\r\n  }\r\n};\r\n\r\nconst dialogsAPI = {\r\n\r\n  getNewMessagesCount() {\r\n    return instance.get(\"/dialogs/messages/new/count\").then((response)=>{\r\n     return  response.data\r\n    }).catch((e)=>console.log(\"Ошибка \" + e));\r\n  },\r\n\r\n\r\n  getDialogs() {\r\n    return instance.get(\"/dialogs\")\r\n      .then((response) => {\r\n        console.log(response);\r\n        return response.data\r\n      });\r\n  },\r\n\r\n  startDialog(userId) {\r\n    return instance.put(`/dialogs/${userId}`)\r\n      .then((response) => response);\r\n  },\r\n\r\n  sendMessage(userId, message) {\r\n    return instance.post(`/dialogs/${userId}/messages`,\r\n      {body: message})\r\n      .then((response) => response);\r\n  },\r\n\r\n  getDialog(id) {\r\n    return instance.get(`dialogs/${id}/messages/new?newerThen=2020-02-04T16:01:53.417`)\r\n      .then((response) => {\r\n        console.log(response.data.items);\r\n        return response.data\r\n      });\r\n  }\r\n};\r\nexport {usersAPI, authAPI, profileAPI, dialogsAPI};","export const updateArrayOfItemsWithId = (items,\r\n  itemId,\r\n  newItemObjProps) => {\r\n  return items.map((item) => {\r\n    if (item.id === itemId) {\r\n      return {\r\n        ...item, ...newItemObjProps\r\n      };\r\n    } else {\r\n      return item;\r\n    }\r\n  })\r\n};","export const FOLLOW = \"users/FOLLOW\";\r\nexport const UN_FOLLOW = \"users/UN_FOLLOW\";\r\nexport const SET_USERS = \"users/SET_USERS\";\r\nexport const SET_FRIENDS = \"users/SET_FRIENDS\";\r\nexport const SET_CURRENT_PAGE = \"users/SET_CURRENT_PAGE\";\r\nexport const SET_TOTAL_COUNT = \"users/SET_TOTAL_COUNT;\";\r\nexport const SET_FRIENDS_COUNT = \"users/SET_FRIENDS_COUNT;\";\r\nexport const TOGGLE_IS_FOLLOWING = 'users/TOGGLE_IS_FOLLOWING';\r\n","import {updateArrayOfItemsWithId} from \"../../../../utils/obj-helpers\";\r\nimport * as types from \"./types\"\r\n\r\n\r\nconst initialState = {\r\n  friends: [],\r\n  users: [],\r\n  pageSize: 20,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  isFollowing: []\r\n};\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case types.FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateArrayOfItemsWithId(state.users,\r\n          action.userId,\r\n          {followed: true})\r\n      };\r\n    case types.UN_FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateArrayOfItemsWithId(state.users,\r\n          action.userId,\r\n          {followed: false})\r\n      };\r\n    case types.SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: [...action.users]\r\n      };\r\n    case types.SET_FRIENDS:\r\n      return {\r\n        ...state,\r\n        friends: [...action.friends]\r\n      };\r\n    case types.SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: +action.pageNumber\r\n      };\r\n    case types.SET_TOTAL_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.totalCount\r\n      };\r\n    case types.SET_FRIENDS_COUNT:\r\n      return {\r\n        ...state,\r\n        friendsCount: action.friendsCount\r\n      };\r\n    case types.TOGGLE_IS_FOLLOWING:\r\n      return {\r\n        ...state,\r\n        isFollowing: action.isFetchingButton ?\r\n          [...state.isFollowing, action.id] :\r\n          state.isFollowing.filter((id) => action.id !== id),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import {createSelector} from \"reselect\";\r\n\r\n\r\nexport const getUsers = (state) => state.users.users;\r\n\r\nexport const getUsersWithPhotoSelector = createSelector(\r\n  getUsers,\r\n  (users) => {\r\n    return users.filter(u => {\r\n      return !!u.photos.small;\r\n    });\r\n  });\r\n\r\nexport const getPageSize = (state) => state.users.pageSize;\r\n\r\nexport const getTotalUsersCount = (state) => state.users.totalUsersCount;\r\n\r\nexport const getCurrentPage = (state) => state.users.currentPage;\r\n\r\nexport const getIsFetching = (state) => state.users.isFetching;\r\n\r\nexport const getIsFollowing = (state) => state.users.isFollowing;\r\n\r\n","import * as types from \"./types\"\r\nimport {usersAPI} from \"../../../../api/api\";\r\nimport {initActions} from \"../../../autnentification/modules/initialization\";\r\nimport {usersActions} from \"./index\";\r\n\r\n// Action Creators===============================================\r\n\r\nexport const follow = (userId) => (\r\n  {\r\n    type: types.FOLLOW,\r\n    userId\r\n  }\r\n);\r\n\r\nexport const unFollow = (userId) => (\r\n  {\r\n    type: types.UN_FOLLOW,\r\n    userId\r\n  }\r\n);\r\n\r\nexport const setUsers = (users) => (\r\n  {\r\n    type: types.SET_USERS,\r\n    users\r\n  }\r\n);\r\nexport const setFriends = (friends) => (\r\n  {\r\n    type: types.SET_FRIENDS,\r\n    friends\r\n  }\r\n);\r\n\r\nexport const setCurrentPage = (pageNumber) => (\r\n  {\r\n    type: types.SET_CURRENT_PAGE,\r\n    pageNumber\r\n  }\r\n);\r\n\r\nexport const setTotalCount = (totalCount) => (\r\n  {\r\n    type: types.SET_TOTAL_COUNT,\r\n    totalCount\r\n  }\r\n);\r\n\r\n\r\nexport const toggleFollowingUser = (id, isFetchingButton) => (\r\n  {\r\n    type: types.TOGGLE_IS_FOLLOWING,\r\n    id,\r\n    isFetchingButton\r\n  }\r\n);\r\n// ============================Thunk Creators====================\r\n\r\nexport const getUsers = (pageSize,\r\n  currentPage,\r\n  isFriend = false,\r\n  term) => {\r\n  return (dispatch) => {\r\n    dispatch(initActions.toggleIsFetching(true));\r\n    return usersAPI.getUsers(pageSize, currentPage, isFriend, term)\r\n      .then((data) => {\r\n        if (currentPage !== 1) dispatch(setCurrentPage(currentPage));\r\n        dispatch(initActions.toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalCount(data.totalCount));\r\n      });\r\n  };\r\n};\r\nexport const search = (term) => async (dispatch, getState) => {\r\n  dispatch(initActions.toggleIsFetching(true));\r\n  const friendsPortion = await usersAPI.getUsers(getState().users.pageSize,\r\n    getState().users.currentPage / 2,\r\n    true,\r\n    term);\r\n  const usersPortion = await usersAPI.getUsers(getState().users.pageSize,\r\n    getState().users.currentPage / 2,\r\n    false,\r\n    term);\r\n  const allUsers = [...friendsPortion.items, ...usersPortion.items];\r\n  dispatch(setUsers(allUsers));\r\n  dispatch(setTotalCount(allUsers.length));\r\n  dispatch(initActions.toggleIsFetching(false));\r\n};\r\n\r\nexport const getFriendsDemo = (pageSize,\r\n  currentPage,\r\n  isFriend = true) => {\r\n  return (dispatch) => {\r\n    return usersAPI.getUsers(pageSize, currentPage, isFriend)\r\n      .then((data) => {\r\n        dispatch(setFriends(data.items));\r\n      });\r\n  };\r\n};\r\n\r\nexport const folowUnfollowFlow = (dispatch,\r\n  id,\r\n  apiMethod,\r\n  actionCreator) => {\r\n  dispatch(toggleFollowingUser(id, true));\r\n  return apiMethod(id)\r\n    .then((data) => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(usersActions.getFriendsDemo(6, 1));\r\n        dispatch(toggleFollowingUser(id, false));\r\n        dispatch(actionCreator(id));\r\n      }\r\n    });\r\n};\r\n\r\nexport const followUser = (id) => {\r\n  return (dispatch) => {\r\n    return folowUnfollowFlow(dispatch,\r\n      id,\r\n      usersAPI.followUser.bind(usersAPI),\r\n      follow);\r\n  }\r\n\r\n};\r\n\r\nexport const unFollowUser = (id) => {\r\n  return (dispatch) => {\r\n    return folowUnfollowFlow(dispatch,\r\n      id,\r\n      usersAPI.unFollowUser.bind(usersAPI),\r\n      unFollow);\r\n  }\r\n};\r\n","import {reducer} from \"./reducer\";\r\nimport * as selectors from './selectors'\r\nimport * as actions from './actions'\r\nimport * as  types from \"./types\"\r\n\r\n\r\nexport {\r\n  reducer as usersReducer,\r\n  selectors as usersSelectors,\r\n  actions as usersActions,\r\n  types as usersTypes\r\n}\r\n\r\n\r\n","import React, {useState} from \"react\";\r\nimport classes from \"./Paginator.module.scss\"\r\n\r\n\r\nexport const Paginator = ({\r\n  portionSize = 10, totalUsersCount, pageSize, currentPage, onPageChanged\r\n}) => {\r\n\r\n  const pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  const portionCount = Math.ceil(pagesCount / portionSize);\r\n\r\n  const [portionNumber, setPortionNumber] = useState(Math.ceil(\r\n    currentPage / portionSize));\r\n\r\n  const leftPortionPageNumber = (\r\n    portionNumber - 1\r\n  ) * portionSize + 1;\r\n\r\n  const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  const currentPages = pages\r\n    .filter(\r\n      p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n    .map((p) => {\r\n      return <span\r\n        className={p === currentPage ?\r\n          `${classes.pageNumber} ${classes.selectedPage}` :\r\n          classes.pageNumber}\r\n        key={p}\r\n        onClick={() => {\r\n          onPageChanged(p);\r\n        }}>{p}</span>\r\n    });\r\n\r\n  const onPortionNumber = (e,k) => {\r\n    const arrow = e.target;\r\n    setPortionNumber(portionNumber + k);\r\n  };\r\n\r\n\r\n  return (\r\n    <div className={classes.paginator_wrapper}>\r\n\r\n      <div className={classes.paginator}>\r\n        {portionNumber > 1 &&\r\n        <div onClick={(e)  => onPortionNumber(e,-1)}\r\n          className={`${classes.icon} ${classes.left}`}>\r\n          <div  className={classes.arrow}></div>\r\n        </div>\r\n        }\r\n\r\n        {currentPages}\r\n        {portionCount > portionNumber &&\r\n        <div onClick={(e)  => onPortionNumber(e,+1)}\r\n             className={classes.icon}>\r\n          <div  className={classes.arrow}></div>\r\n        </div>\r\n        // <button onClick={() => {\r\n        //   setPortionNumber(portionNumber + 1)\r\n        // }}>NEXT</button>\r\n        }\r\n        </div>\r\n\r\n    </div>\r\n  )\r\n};","export {Preloader} from \"./atoms/preloader/Preloader\"\r\nexport {Header} from \"./organisms/Header/Header\"\r\nexport {Navbar} from \"./organisms/Navbar/Navbar\"\r\nexport {Paginator} from \"./organisms/Paginator/Paginator\"\r\nexport {CommonTemplate} from \"./templates/Common\"","import classes from \"./Footer.module.scss\"\r\nimport React from \"react\";\r\n\r\n\r\nexport const Footer = () => {\r\n  return (\r\n    <footer className={classes.footer}>\r\n      <p className={classes.footer_content}>Evgeniy Faleev © 2020. All\r\n        rights are not reserved\r\n      </p>\r\n    </footer>\r\n  )\r\n};","import {Header} from \"../organisms/Header/Header\";\r\nimport {Navbar} from \"../organisms/Navbar/Navbar\";\r\nimport React from \"react\";\r\nimport classes from \"./Common.module.scss\"\r\nimport {Footer} from \"../organisms/Footer/Footer\";\r\nimport {UserAuthInfo} from \"../../features/autnentification/\";\r\nimport {Friends} from \"../../features/users/Friends\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {usersActions} from \"../../features/users/modules/users\";\r\nimport {Search} from \"../../features/users\";\r\nimport {NewMessagesCount} from \"../../features/dialogs\";\r\n\r\n\r\nexport const CommonTemplate = ({children, clearMusicSearch}) => {\r\n  const dispatch = useDispatch();\r\n  const clearPage = () => {\r\n    dispatch(usersActions.setCurrentPage(1));\r\n  };\r\n  return (\r\n    <>\r\n      <Header>\r\n        <Search/>\r\n        <UserAuthInfo/>\r\n      </Header>\r\n      <div className={classes.app_wrapper}>\r\n        <div className={classes.content_wrapper}>\r\n          <Navbar clearPage={clearPage}\r\n            messagesCount={<NewMessagesCount/>}\r\n            clearMusicSearch={clearMusicSearch}>\r\n            <Friends clearPage={clearPage}/>\r\n          </Navbar>\r\n          <main className={classes.app_content}>\r\n            {children}\r\n          </main>\r\n        </div>\r\n        <Footer/>\r\n      </div>\r\n    </>\r\n  )\r\n};","import * as types from \"./types\"\r\n\r\nexport const initialState = {\r\n  initialized: false,\r\n  isFetching: false\r\n};\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n      case types.INITIALIZED_SUCCESS:\r\n        return {\r\n          ...state,\r\n          initialized: true\r\n        };\r\n    case types.TOGGLE_IS_FETCHING:\r\n          return {\r\n            ...state,\r\n            isFetching: action.isFetching\r\n          };\r\n    default:\r\n      return state;\r\n\r\n  }\r\n};","import {reducer} from \"./reducer\";\r\nimport * as actions from './actions'\r\nimport * as  types from \"./types\"\r\n\r\nexport {\r\n  reducer as initReducer,\r\n  actions as initActions,\r\n  types as initTypes\r\n}","export const ADD_POST = \"profile/ADD-POST\";\r\nexport const SET_USER_PROFILE = \"profile/SET_USER_PROFILE\";\r\nexport const SET_STATUS = \"profile/SET_STATUS\";\r\nexport const UPDATE_PHOTO = \"profile/UPDATE_PHOTO\";\r\nexport const TOGGLE_IS_FOLLOWING = 'profile/TOGGLE_IS_FOLLOWING';\r\nexport const IS_FOLLOWED = \"profile/IS_FOLLOWED\";","import  * as types from \"./types\"\r\n\r\nexport const initialState = {\r\n  isFollowing: false,\r\n  followed:false,\r\n  profile: null,\r\n  status: \"Статус Редакса\"\r\n};\r\n\r\nexport const reducer = (state = initialState,\r\n  action) => {\r\n  switch (action.type) {\r\n    case types.ADD_POST:\r\n      return {\r\n        ...state,\r\n        enterPosts: [...state.enterPosts, {\r\n          message: action.newMessageBody,\r\n          likeCount: \"0\"\r\n        }],\r\n      };\r\n    case types.SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      };\r\n    case types.SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      };\r\n    case types.UPDATE_PHOTO:\r\n      return {\r\n        ...state,\r\n        profile: {...state.profile, photos: action.photo}\r\n      };\r\n    case types.TOGGLE_IS_FOLLOWING:\r\n      return{\r\n        ...state,\r\n        isFollowing: action.isFollowing\r\n      };\r\n      case types.IS_FOLLOWED:\r\n      return{\r\n        ...state,\r\n        followed: action.isFollowed\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {reducer} from \"./reducer\";\r\nimport * as actions from './actions'\r\nimport * as  types from \"./types\"\r\n\r\n\r\nexport {\r\n  reducer as profileReducer,\r\n  actions as profileActions,\r\n  types as profileTypes\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"categories\":\"Categories_categories__1LwP_\",\"categories_category\":\"Categories_categories_category__WwjBn\",\"business\":\"Categories_business__1whOn\",\"entertaiment\":\"Categories_entertaiment__dGRq3\",\"science\":\"Categories_science__UioDr\",\"sport\":\"Categories_sport__1o0Dl\",\"technology\":\"Categories_technology__RISMx\",\"all\":\"Categories_all__1dHgP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"common_input\":\"LoginForm_common_input__3vj8o\",\"send_btn\":\"LoginForm_send_btn__11k9r\",\"switch\":\"LoginForm_switch__1L3mJ\",\"input_error\":\"LoginForm_input_error__3UEBV\",\"error\":\"LoginForm_error__3ZGYa\",\"span_error\":\"LoginForm_span_error__2Vg5W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"Player_player__19UOM\",\"arrows\":\"Player_arrows__3k2bA\",\"play_block\":\"Player_play_block__1YqwB\",\"play\":\"Player_play__1K2ZX\",\"pause\":\"Player_pause__3SDx4\",\"progress_bar\":\"Player_progress_bar__2qkrl\",\"title_info\":\"Player_title_info__3k10G\",\"hint\":\"Player_hint__570Cv\",\"volume\":\"Player_volume__2DgPR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator_wrapper\":\"Paginator_paginator_wrapper__1AuQi\",\"paginator\":\"Paginator_paginator__1ZlBJ\",\"pageNumber\":\"Paginator_pageNumber__3dB0m\",\"selectedPage\":\"Paginator_selectedPage__o7qpk\",\"icon\":\"Paginator_icon__3GIWh\",\"arrow\":\"Paginator_arrow__1Orzj\",\"left\":\"Paginator_left__2bMSC\"};","module.exports = __webpack_public_path__ + \"static/media/avatar-undefined.54c6edcf.jpg\";","import React from \"react\";\r\nimport classes from \"./Followbtn.module.scss\"\r\nimport {usersActions} from \"../../../modules/users\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nexport const FollowBtn = ({followed, isFollowing, id}) =>{\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const onFollow = (id) => {\r\n    dispatch(usersActions.followUser(id));\r\n  };\r\n\r\n  const onUnFollow = (id) => {\r\n    dispatch(usersActions.unFollowUser(id));\r\n  };\r\n  return  (\r\n     followed ? (\r\n      <button className={classes.followBtn}\r\n        disabled={isFollowing.some((item) => item === id)}\r\n        onClick={() => {\r\n          onUnFollow(id);\r\n        }}>\r\n        Unfollow\r\n      </button>\r\n    ) : (\r\n      <button  className={classes.followBtn}\r\n        disabled={isFollowing.some((item) => item === id)}\r\n        onClick={() => {\r\n          onFollow(id);\r\n        }}>\r\n        Follow\r\n      </button>\r\n    )\r\n    )\r\n};","import React from \"react\";\r\nimport {Link, NavLink} from \"react-router-dom\";\r\nimport {FollowBtn} from \"../../atoms/FollowBtn/FollowBtn\";\r\nimport classes from \"./User.module.scss\"\r\nimport ava_undefined\r\n  from \"../../../../../ui/assets/images/avatar-undefined.jpg\"\r\n\r\n\r\nexport const User = ({\r\n  status, isAuth, id, photo, fullName, followed, isFollowing\r\n}) => {\r\n  if(status && status.length > 30  ) {\r\n    status = status.trim().substr(0, 30) + \". . .\";\r\n  }\r\n  return (\r\n    <div className={classes.user} key={id}>\r\n\r\n      <div className={classes.user_info}>\r\n        <div className={classes.user_photo}>\r\n          <NavLink to={`/profile/${id}`}>\r\n            <img src={photo || ava_undefined}\r\n              alt=\"avatar\"/>\r\n          </NavLink>\r\n        </div>\r\n\r\n        <div><p>{fullName}</p>\r\n          <p className={classes.user_info_status}>{status}</p></div>\r\n      </div>\r\n      <div className={classes.btn_container}>\r\n        {isAuth ?\r\n          <>\r\n            <FollowBtn followed={followed} isFollowing={isFollowing}\r\n              id={id}\r\n            /><Link to={`/dialogs/${id}`}>\r\n            <button className={classes.sendMsg_btn}>Send Message\r\n            </button>\r\n          </Link> </> :\r\n          \"\"}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n};\r\n\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport {shallowEqual, useDispatch, useSelector} from \"react-redux\";\r\nimport {usersActions, usersSelectors} from \"./modules/users/\";\r\nimport {User} from \"./ui/organisms/User/User\";\r\nimport {Preloader} from \"../../ui/atoms/preloader/Preloader\";\r\nimport classes from \"./Users.module.scss\"\r\nimport {Paginator} from \"../../ui\";\r\nimport {useLocation, useParams} from \"react-router\";\r\n\r\n\r\nfunction isEmpty(obj) {\r\n  for (let key in obj) {\r\n\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nexport const Users = () => {\r\n  const path = useLocation().pathname;\r\n  const isFriends = path === \"/friends\";\r\n  const searchTerm = useParams().term;\r\n  const {\r\n    users: usersList, pageSize, totalUsersCount, currentPage, isFetching, isFollowing, isAuth\r\n  } = useSelector((state) => (\r\n    {\r\n      users: usersSelectors.getUsers(state),\r\n      pageSize: usersSelectors.getPageSize(state),\r\n      totalUsersCount: usersSelectors.getTotalUsersCount(state),\r\n      currentPage: usersSelectors.getCurrentPage(state),\r\n      isFetching: state.init.isFetching,\r\n      isFollowing: usersSelectors.getIsFollowing(state),\r\n      isAuth: state.auth.isAuth\r\n    }\r\n  ), shallowEqual);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (path.startsWith(\"/search/\")) {\r\n      dispatch(usersActions.search(searchTerm));\r\n    } else {\r\n      dispatch(usersActions.getUsers(pageSize,\r\n        currentPage,\r\n        isFriends));\r\n    }\r\n  }, [currentPage, pageSize, dispatch, path, isFriends, searchTerm]);\r\n\r\n  const onPageChanged = (pageNumber) => {\r\n    dispatch(usersActions.setCurrentPage(pageNumber))\r\n  };\r\n\r\n\r\n  const users = usersList.map((user) => {\r\n\r\n    return (\r\n      <User key={user.id} isAuth={isAuth}\r\n        photo={user.photos.small}\r\n        status={user.status}\r\n        status={user.status}\r\n        id={user.id}\r\n        followed={user.followed}\r\n        fullName={user.name}\r\n        isFollowing={isFollowing}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {isFetching ?\r\n        <Preloader/> :\r\n        (\r\n          <>\r\n            <div className={classes.users}>\r\n              {isEmpty(users) ? <p className={classes.users_notFound}>Sorry, nothing found</p> : users }\r\n\r\n            </div>\r\n            <Paginator totalUsersCount={totalUsersCount}\r\n              pageSize={pageSize} currentPage={currentPage}\r\n              onPageChanged={onPageChanged}/>\r\n          </>\r\n        )}\r\n    </>\r\n  );\r\n};\r\n\r\n","import React from \"react\";\r\nimport styles from \"./UsersSearch.module.scss\"\r\n\r\nexport const UsersSearch = ({searchTerm, onSearch, onChange}) => {\r\n  return (\r\n\r\n    <div className={styles.usersSearch}>\r\n      <p><input autoComplete=\"off\" onKeyDown={onSearch}\r\n        placeholder=\"Find User\" type=\"text\"\r\n        value={searchTerm} onChange={onChange}/>\r\n        <i className=\"fa fa-search\"></i>\r\n      </p>\r\n    </div>\r\n\r\n  )\r\n};","import React, {useState} from \"react\";\r\nimport {useHistory} from \"react-router\";\r\nimport {UsersSearch} from \"./ui/moleculs/UsersSearch/UsersSearch\";\r\n\r\n\r\nexport const Search = () => {\r\n  const history = useHistory();\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const onChange = (e) => {\r\n      setSearchTerm(e.target.value);\r\n  };\r\nconst onSearch = (e) => {\r\n    if (e.key === \"Enter\") history.push(`/search/${searchTerm}`)\r\n};\r\n  return (\r\n   <UsersSearch searchTerm={searchTerm} value={searchTerm} onChange={onChange} onSearch={onSearch}/>\r\n  )\r\n};","export {Users} from './Users'\r\nexport {Friends} from './Friends'\r\nexport {Search} from './Search'\r\nexport {\r\n  usersReducer, usersActions, usersSelectors, usersTypes\r\n}from './modules/users/'\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileForm\":\"ProfileForm_profileForm__3XRqK\",\"profileForm_close\":\"ProfileForm_profileForm_close__2k5eK\",\"name_wrapper\":\"ProfileForm_name_wrapper__2CI-w\",\"info_box\":\"ProfileForm_info_box__1gR-A\",\"contacts_item\":\"ProfileForm_contacts_item__3yf-F\",\"editProfile_btn\":\"ProfileForm_editProfile_btn__2N2te\",\"error\":\"ProfileForm_error__3K3Jo\"};","import * as types from \"./types\"\r\n\r\nconst initialState = {\r\n  user: {\r\n    me: null,\r\n    email: null,\r\n    id: null,\r\n  },\r\n  isAuth: false,\r\n  captchaUrl: null\r\n};\r\nexport const reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.AUTH_USER:\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...action.user,\r\n        },\r\n        isAuth: action.isAuth\r\n      };\r\n    case types.GET_CAPTCHA_URL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        captchaUrl: action.captchaUrl\r\n      };\r\n    default:\r\n      return state;\r\n\r\n  }\r\n};","import {reducer} from \"./reducer\";\r\nimport * as actions from './actions'\r\nimport * as  types from \"./types\"\r\n\r\n\r\nexport {\r\n  reducer as authReducer,\r\n  actions as authActions,\r\n  types as authTypes\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Navbar_container__N2Auy\",\"mcd-menu\":\"Navbar_mcd-menu__2nZRc\",\"active\":\"Navbar_active__1ly6r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo_wrapper\":\"ProfileInfo_profileInfo_wrapper__2sizc\",\"userPhoto_block\":\"ProfileInfo_userPhoto_block__2PYK1\",\"userPhoto\":\"ProfileInfo_userPhoto__l21gn\",\"ownerPhoto\":\"ProfileInfo_ownerPhoto__2bjuf\",\"profileInfo\":\"ProfileInfo_profileInfo__3ENrZ\",\"userName_container\":\"ProfileInfo_userName_container__1kX63\",\"userName\":\"ProfileInfo_userName__2totV\",\"buttons\":\"ProfileInfo_buttons__1ETMu\",\"error\":\"ProfileInfo_error__1b5_1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music_wrapper\":\"Music_music_wrapper__3iXYv\",\"music\":\"Music_music__2_Q1k\",\"category_header\":\"Music_category_header__32w2T\",\"podcast_description\":\"Music_podcast_description__2nvgu\"};","export const AUTH_USER = \"AUTH_USER\";\r\nexport const GET_CAPTCHA_URL_SUCCESS = \"GET_CAPTCHA_URL_SUCCESS\";\r\n","export const INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\nexport const TOGGLE_IS_FETCHING = \"users/TOGGLE_IS_FETCHING;\";","import React from \"react\";\r\nimport classes from \"./LoginForm.module.scss\"\r\nimport {ErrorMessage, useForm} from \"react-hook-form\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {authActions} from \"../../../modules/authorization\";\r\n\r\n\r\nexport const LoginForm = ({captchaUrl}) => {\r\n\r\n  const {register, errors, setError, handleSubmit} = useForm();\r\n  const dispatch = useDispatch();\r\n\r\n  const onSubmit = (formData) => {\r\n    dispatch(authActions.login(formData))\r\n      .then((error) => setError(\"logError\", \"notMatch\", error));\r\n  };\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n      <div><input name='email' className={classes.common_input}\r\n        onChange={() => console.log(errors)}\r\n        ref={register({\r\n          required: \"Please\" + \" enter your email\"\r\n        })}\r\n        placeholder='e-mail'\r\n      />\r\n        <ErrorMessage errors={errors} className={classes.span_error}\r\n          name=\"email\" as=\"span\"/>\r\n      </div>\r\n      <div><input name='password' className={classes.common_input}\r\n        ref={register({\r\n          required: \"Please\" + \" enter your password\"\r\n        })}\r\n        type=\"password\"\r\n        placeholder='password'\r\n      />\r\n        <ErrorMessage errors={errors} className={classes.span_error}\r\n          name=\"password\" as=\"span\"/>\r\n      </div>\r\n      <div>\r\n        <input name='rememberMe' className={classes.rememberMe}\r\n          type=\"checkbox\"/>\r\n        <label htmlFor=\"rememberMe\"\r\n          className={classes.rememberMe_label}>Remember Me</label>\r\n      </div>\r\n      {captchaUrl ?\r\n        <><img alt=\"captcha\" src={captchaUrl}/>\r\n          <input name='captcha' className={classes.common_input}\r\n            placeholder='Enter symbols'\r\n            ref={register({\r\n              required: \"Please\" + \" enter symbols\"\r\n            })} type=\"text\"/>\r\n          <ErrorMessage errors={errors} className={classes.span_error}\r\n            name=\"captcha\" as=\"span\"/></> :\r\n        \"\"}\r\n      <div>\r\n        <ErrorMessage errors={errors} className={classes.span_error}\r\n          name=\"logError\" as=\"p\"/>\r\n        <input\r\n          className={classes.common_input + \" \" + classes.send_btn}\r\n          value={\"Login\"} type=\"submit\"/>\r\n      </div>\r\n    </form>\r\n  )\r\n};\r\n","import React from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport {Redirect} from \"react-router\";\r\nimport {LoginForm} from \"./ui/organisms/LoginForm/LoginForm\";\r\nimport styles from \"./Login.module.scss\"\r\n\r\n\r\nexport const Login = () => {\r\n  const {isAuth, captchaUrl} = useSelector((state) => (\r\n    {\r\n      isAuth: state.auth.isAuth,\r\n      captchaUrl: state.auth.captchaUrl\r\n    }\r\n  ));\r\n\r\n  return isAuth ? <Redirect to={\"/profile\"}/> :\r\n   (\r\n    <div>\r\n      <h1 className={styles.login_title}>Please, log in...</h1>\r\n      <LoginForm captchaUrl={captchaUrl} />\r\n    </div>\r\n  )\r\n};\r\n\r\n","export {Login} from './Login'\r\nexport {UserAuthInfo} from \"./UserAuthInfo\"\r\nexport {\r\n  initReducer, initActions, initTypes\r\n}from './modules/initialization'\r\nexport {authReducer, authActions, authTypes} from \"./modules/authorization\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__2kUFF\",\"message_text\":\"Message_message_text__qIsD7\",\"message_meta\":\"Message_message_meta__2RkUh\",\"owner\":\"Message_owner__wyPJJ\",\"other\":\"Message_other__2kyuo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2oAmG\",\"cssload_loader\":\"Preloader_cssload_loader__1fgHJ\",\"cssload_inner\":\"Preloader_cssload_inner__2IHSr\",\"cssload_one\":\"Preloader_cssload_one__fcsFC\",\"cssload-rotate-one\":\"Preloader_cssload-rotate-one__3LFQV\",\"cssload_two\":\"Preloader_cssload_two__CQlvY\",\"cssload-rotate-two\":\"Preloader_cssload-rotate-two__1qPF0\",\"cssload_three\":\"Preloader_cssload_three__2b5Sc\",\"cssload-rotate-three\":\"Preloader_cssload-rotate-three___qAr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_block\":\"Search_search_block__2i_Rp\",\"search_query\":\"Search_search_query__1UPWO\",\"search_btn\":\"Search_search_btn__3DdqO\",\"cover\":\"Search_cover__3KGJN\",\"s-circle\":\"Search_s-circle__31k5t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music_tracks\":\"Tracks_music_tracks__F2ydd\",\"category_header\":\"Tracks_category_header__2IxKT\",\"track_container\":\"Tracks_track_container__3L5Rf\",\"track_album\":\"Tracks_track_album__3lZ44\",\"track_album_playing\":\"Tracks_track_album_playing__1VO2Q\",\"track_title\":\"Tracks_track_title__Ln1Ii\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileDescription\":\"ProfileDescription_profileDescription__3f-Qn\",\"about_wrapper\":\"ProfileDescription_about_wrapper__2wXci\",\"about\":\"ProfileDescription_about__GYwfO\",\"about_item\":\"ProfileDescription_about_item__18Jaq\",\"about_header\":\"ProfileDescription_about_header__JyqWL\",\"editProfile_btn\":\"ProfileDescription_editProfile_btn__29S5T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBar\":\"FriendsBar_friendsBar__1rXNK\",\"friendInfo\":\"FriendsBar_friendInfo__1-EwR\",\"friend\":\"FriendsBar_friend__3p00W\",\"active\":\"FriendsBar_active__NHRCN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__S-n98\",\"user_info\":\"User_user_info__1UmAl\",\"user_photo\":\"User_user_photo__hM0WX\",\"user_info_status\":\"User_user_info_status__3rBBx\",\"btn_container\":\"User_btn_container__uvMfs\",\"sendMsg_btn\":\"User_sendMsg_btn__hfi5k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news_article\":\"Article_news_article__wdZGr\",\"news_article_title\":\"Article_news_article_title__1nweA\"};","import * as types from \"./types\"\r\n\r\n\r\nconst initialState = {\r\n  dialogs: null,\r\n  dialog: null,\r\n  newMessages: 0\r\n};\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case types.SET_DIALOGS :\r\n      return {\r\n        ...state,\r\n        dialogs: action.dialogs\r\n      };\r\n    case types.SET_DIALOG :\r\n      return {\r\n        ...state,\r\n        dialog: action.dialog\r\n      };\r\n      case types.SET_NEW_MESSAGES :\r\n      return {\r\n        ...state,\r\n        newMessages: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};","export const SET_NEW_MESSAGES = \"dialogs/SET_NEW_MESSAGES\";\r\nexport const SET_DIALOGS = \"dialogs/SET_DIALOGS\";\r\nexport const SET_DIALOG = \"dialogs/SET_DIALOG\";","import * as types from \"./types\"\r\nimport {dialogsAPI} from \"../../../../api/api\";\r\nimport {initActions} from \"../../../autnentification/modules/initialization\";\r\nimport {toggleIsFetching} from \"../../../autnentification/modules/initialization/actions\";\r\n\r\n\r\nexport const setDialog = (dialog) => (\r\n  {\r\n    type: types.SET_DIALOG,\r\n    dialog\r\n  }\r\n);\r\n\r\nexport const setDialogs = (dialogs) => (\r\n  {\r\n    type: types.SET_DIALOGS,\r\n    dialogs\r\n  }\r\n);\r\nexport const setNewMessages = (payload) => (\r\n  {\r\n    type: types.SET_NEW_MESSAGES,\r\n    payload\r\n  }\r\n);\r\n\r\nexport const getNewMessagesCount = () => (dispatch) => {\r\n  dialogsAPI.getNewMessagesCount()\r\n    .then((count) => dispatch(setNewMessages(count)));\r\n};\r\n\r\nexport const getDialogs = () => (dispatch) => {\r\n  dispatch(initActions.toggleIsFetching(true));\r\n  dialogsAPI.getDialogs()\r\n    .then((dialogs) => {\r\n      const sortedDialogs = dialogs.sort((a, b) => b.newMessagesCount - a.newMessagesCount);\r\n      dispatch(setDialogs(sortedDialogs));\r\n      dispatch(toggleIsFetching(false));\r\n    });\r\n};\r\n\r\nexport const getDialog = (id) => (dispatch) => {\r\n  return dialogsAPI.getDialog(id)\r\n    .then((dialog) => {\r\n      dispatch(setDialog(dialog));\r\n        return dialog;\r\n      }\r\n    );\r\n};\r\n\r\n\r\nexport const sendMessage = (userId, message) => async () => {\r\n  await dialogsAPI.startDialog(userId);\r\n  await dialogsAPI.sendMessage(userId, message);\r\n};","import React, {useRef} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {dialogsActions} from \"../../../modules/dialogs\";\r\nimport {useParams} from \"react-router\";\r\nimport classes from \"./DialogsForm.module.scss\";\r\n\r\nexport const DialogsForm = () => {\r\n\r\n  const {register, handleSubmit} = useForm();\r\n  const dispatch = useDispatch();\r\n  const {id} = useParams();\r\n  const inputMessage = useRef();\r\n\r\n  const onSendMessage = async ({message}) => {\r\n    await dispatch(dialogsActions.sendMessage(id, message));\r\n    await dispatch(dialogsActions.getDialog(id));\r\n    inputMessage.current.value = null;\r\n  };\r\n\r\nconst onResize = (e)=> {\r\n  const el = e.currentTarget;\r\n    setTimeout(function(){\r\n      console.log(el.scrollTop);\r\n      el.style.height = \"auto\";\r\n      el.style.height = el.scrollHeight +  \"px\";\r\n    },0);\r\n  if (e.keyCode === 13 && el.value.length > 0) {\r\n    e.preventDefault();\r\n    handleSubmit(onSendMessage)();\r\n    el.value=\"\";\r\n  }\r\n  };\r\n\r\n\r\n  return (\r\n    <form className={classes.wrapper} name=\"dialog\"  onSubmit={handleSubmit(onSendMessage)}>\r\n      <div><textarea  onKeyDown={onResize} ref={(elem) => {\r\n        register(elem, {\r\n          required: true\r\n        });\r\n        inputMessage.current = elem;\r\n      }} name=\"message\"\r\n        placeholder=\"Enter new message\"\r\n      /></div>\r\n      <div className={classes.button_wrapper}>\r\n        <button>Send</button>\r\n      </div>\r\n    </form>\r\n  )\r\n};\r\n\r\n\r\n","import React from \"react\";\r\nimport classes from \"./Message.module.scss\";\r\n\r\n\r\nexport const Message = React.forwardRef(({message, isOwner} ,ref) => {\r\n  return <div ref={ref} key={message.id}\r\n    className={`${classes.message} ${isOwner ? classes.owner: classes.other}`}>\r\n    <p className={classes.message_text}>{message.body}</p>\r\n    <p className={classes.message_meta}>{message.addedAt}</p>\r\n  </div>;\r\n});\r\n","import React, {useEffect, useRef, useState} from \"react\";\r\nimport {DialogsForm} from \"../DialogsForm/DialogsForm\";\r\nimport {shallowEqual, useDispatch, useSelector} from \"react-redux\";\r\nimport {useParams} from \"react-router\";\r\nimport {dialogsActions} from \"../../../modules/dialogs\";\r\nimport {profileActions} from \"../../../../profile/modules/profile\";\r\nimport {Preloader} from \"../../../../../ui\";\r\nimport {Message} from \"../../atoms/Message/Message\";\r\nimport classes from \"./Dialog.module.scss\"\r\nimport no_avatar\r\n  from \"../../../../../ui/assets/images/avatar-undefined.jpg\";\r\nimport msgClasses from \"../../atoms/Message/Message.module.scss\"\r\n\r\n\r\nexport const Dialog = () => {\r\n\r\n  const {id} = useParams();\r\n  const dispatch = useDispatch();\r\n  const [renderCount, setCount] = useState(0);\r\n\r\n  const {userName, userPhoto, dialog, authUserId} = useSelector((state) => (\r\n    {\r\n      userPhoto: state.profile.profile?.photos.small,\r\n      userName: state.profile.profile?.fullName,\r\n      dialog: state.dialogs.dialog,\r\n      authUserId: state.auth.user.userId,\r\n\r\n    }\r\n  ), shallowEqual);\r\n\r\n  const ref = useRef();\r\n\r\n  const messages = dialog?.map((message, index, arr) => {\r\n    return <Message message={message}\r\n\r\n      ref={arr.length - 1 === index ?\r\n        ref :\r\n        null}\r\n      isOwner={message.senderId === authUserId}/>\r\n  });\r\n\r\n  const avatar = userPhoto || no_avatar;\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    dispatch(profileActions.getUser(id));\r\n    const timerId = setInterval(() => {\r\n      dispatch(dialogsActions.getDialog(id));\r\n    }, 10000);\r\n\r\n    return () => {\r\n      clearInterval(timerId);\r\n      dispatch(dialogsActions.setDialog(null));\r\n    }\r\n  }, [id, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (ref.current) ref.current.scrollIntoView();\r\n\r\n    if (renderCount > 1) {\r\n      if(ref.current.classList.contains(msgClasses.owner)){\r\n        ref.current.classList.add(classes.new_owner);\r\n      } else{\r\n        ref.current.classList.add(classes.new_other)\r\n      }\r\n    }\r\n    setCount((prevState) => prevState + 1);\r\n  }, [dialog?.length]);\r\n\r\n  return (\r\n    <>\r\n      {dialog ?\r\n        <div className={classes.dialog_container}>\r\n          <div className={classes.userInfo}>\r\n            <img src={avatar} alt=\"avatar\"/>\r\n            <span>{userName}</span>\r\n          </div>\r\n          <div className={classes.dialog}>\r\n            {messages}\r\n          </div>\r\n          <DialogsForm/>\r\n        </div> :\r\n        <Preloader/>}\r\n    </>\r\n  );\r\n};","import React from \"react\";\r\nimport classes from \"./DialogDescription.module.scss\";\r\nimport {Link} from \"react-router-dom\";\r\nimport no_img from \"../../../../../ui/assets/images/avatar-undefined.jpg\"\r\n\r\n\r\nexport const DialogDescription = ({\r\n  hasNewMessages, id, lastDialogActivityDate, lastUserActivityDate,\r\n  newMessagesCount, photos: {small: avatar}, userName\r\n}) => {\r\n\r\n  return (\r\n    <Link to={`dialogs/${id}`}>\r\n    <section className={classes.dialog}>\r\n      <div className={classes.userImage}>\r\n        <img alt=\"avatar\"\r\n          src={avatar ||\r\n          no_img}/>\r\n      </div>\r\n      <div className={classes.messageInfo}>\r\n        <p  className={classes.userName}>{userName}</p>\r\n        {hasNewMessages ?\r\n          <small>You have a {newMessagesCount} new  message(s)</small> :\r\n          <small>You have no new messages</small>}\r\n        <br/>\r\n          <small className={classes.metaInfo}>\r\n            Last seen:  {lastUserActivityDate}\r\n          </small>\r\n\r\n      </div>\r\n    </section>\r\n  </Link>\r\n  )\r\n};\r\n\r\n","import classes from \"../../Dialogs.module.scss\";\r\nimport React, {useEffect} from \"react\";\r\nimport {DialogDescription} from \"../molecules/DialogDescriprion/DialogDescription\";\r\nimport {shallowEqual, useDispatch, useSelector} from \"react-redux\";\r\nimport {dialogsActions} from \"../../modules/dialogs\";\r\nimport {Preloader} from \"../../../../ui\";\r\n\r\n\r\nexport const DialogsList = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(dialogsActions.getDialogs());\r\n  }, [dispatch]);\r\n\r\n  let {dialogs, isFetching} = useSelector((state) => (\r\n    {\r\n      dialogs: state.dialogs.dialogs,\r\n      isFetching: state.init.isFetching\r\n    }\r\n  ), shallowEqual);\r\n  dialogs = dialogs?.map((dialog) => {\r\n    return <DialogDescription key={dialog.id} {...dialog}/>;\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {isFetching ?\r\n        <Preloader/> :\r\n        <div className={classes.dialogs_wrapper}>\r\n          {dialogs ?\r\n            dialogs :\r\n            <p>No Dialogs Here</p>}\r\n        </div>}\r\n    </>\r\n  )\r\n};\r\n","import React from \"react\";\r\nimport {useAuthRedirect} from \"../../utils/useAuthRedirect\";\r\nimport {Route, Switch} from \"react-router\";\r\nimport {Dialog} from \"./ui/molecules/Dialog/Dialog\";\r\nimport {DialogsList} from \"./ui/organisms/DialogsList\";\r\n\r\n\r\nexport const Dialogs = () => {\r\n\r\n  useAuthRedirect();\r\n\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact\r\n          path={`/dialogs`}\r\n          component={DialogsList}/>\r\n        <Route\r\n          path={`/dialogs/:id`}\r\n          component={Dialog}/>\r\n\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n","import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {dialogsActions} from \"../../../modules/dialogs\";\r\nimport styles from \"./NewMessagesCount.module.scss\"\r\n\r\n\r\nexport const NewMessagesCount = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(dialogsActions.getNewMessagesCount());\r\n  }, [dispatch]);\r\n\r\n  const newMessagesCount = useSelector((state) => state.dialogs.newMessages);\r\n\r\n  return( newMessagesCount > 0 ?\r\n      <div className={styles.messages_count}>{newMessagesCount}</div> :\r\n      \"\"\r\n  )\r\n};\r\n","export {Dialogs} from \"./Dialogs\";\r\nexport {NewMessagesCount} from \"./ui/atoms/NewMessagesCount/NewMessagesCount\"\r\nexport {\r\n  dialogsReducer, dialogsActions, dialogsTypes\r\n}from './modules/dialogs/'\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userInfo\":\"UserAuthInfoBar_userInfo__2-lw3\",\"userInfo_photo\":\"UserAuthInfoBar_userInfo_photo__2KVdF\",\"userInfo_name\":\"UserAuthInfoBar_userInfo_name__37tov\",\"login_link\":\"UserAuthInfoBar_login_link__Yt64c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new_owner\":\"Dialog_new_owner__2yVe8\",\"twitch_owner\":\"Dialog_twitch_owner___l4z2\",\"new_other\":\"Dialog_new_other__1XfT2\",\"twitch_other\":\"Dialog_twitch_other__18hrg\",\"dialog_container\":\"Dialog_dialog_container__1NgBo\",\"userInfo\":\"Dialog_userInfo__2wPKD\",\"dialog\":\"Dialog_dialog__3I5Q6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogDescription_dialog__2EBcp\",\"messageInfo\":\"DialogDescription_messageInfo__1tjK0\",\"userName\":\"DialogDescription_userName__2JSJF\",\"metaInfo\":\"DialogDescription_metaInfo__2x2WL\"};","import {profileAPI, usersAPI} from \"../../../../api/api\";\r\nimport {initActions} from \"../../../autnentification/modules/initialization\";\r\nimport * as types from \"./types\";\r\nimport {usersActions} from \"../../../users/modules/users\";\r\n\r\n// ===============Action Creators====================\r\nexport const addPostActionCreator = (newMessageBody) => (\r\n  {\r\n    type: types.ADD_POST,\r\n    newMessageBody\r\n  }\r\n);\r\n\r\nexport const setUserProfile = (profile) => (\r\n  {\r\n    type: types.SET_USER_PROFILE,\r\n    profile: profile\r\n  }\r\n);\r\nexport const setStatus = (status) => (\r\n  {\r\n    type: types.SET_STATUS,\r\n    status\r\n  }\r\n);\r\n\r\nexport const updatePhoto = (photo) => (\r\n  {\r\n    type: types.UPDATE_PHOTO,\r\n    photo\r\n  }\r\n);\r\n\r\nexport const toggleIsFollowing = (isFollowing) => (\r\n  {\r\n    type: types.TOGGLE_IS_FOLLOWING,\r\n    isFollowing\r\n  }\r\n);\r\nexport const isFollowed = (isFollowed) => (\r\n  {\r\n    type: types.IS_FOLLOWED,\r\n    isFollowed\r\n  }\r\n);\r\n\r\n// ====================Thunk Creatots===========================\r\n\r\nexport const followUser = () => (dispatch, getState) => {\r\n  dispatch(toggleIsFollowing(true));\r\n  usersAPI.followUser(getState().profile.profile.userId)\r\n    .then(() => {\r\n      dispatch(isFollowed(true));\r\n      dispatch(toggleIsFollowing(false));\r\n      dispatch(usersActions.getFriendsDemo(6, 1));\r\n    });\r\n};\r\n\r\nexport const unFollowUser = () => (dispatch, getState) => {\r\n  dispatch(toggleIsFollowing(true));\r\n  usersAPI.unFollowUser(getState().profile.profile.userId)\r\n    .then(() => {\r\n      dispatch(isFollowed(false));\r\n      dispatch(toggleIsFollowing(false));\r\n      dispatch(usersActions.getFriendsDemo(6, 1));\r\n    });\r\n};\r\n\r\nexport const isUserFollowed = (userId) => (dispatch) => {\r\n  usersAPI.isFollowed(userId)\r\n    .then((response) => dispatch(isFollowed(response)))\r\n};\r\n\r\nexport const getUser = (userId) => (dispatch) => {\r\n  dispatch(initActions.toggleIsFetching(true));\r\n  return profileAPI.getUser(userId)\r\n    .then((data) => {\r\n      dispatch(setUserProfile(data));\r\n      dispatch(initActions.toggleIsFetching(false));\r\n    });\r\n};\r\n\r\nexport const getStatus = (id) => (dispatch) => {\r\n  return profileAPI.getStatus(id)\r\n    .then((status) => {\r\n      dispatch(setStatus(status));\r\n    });\r\n};\r\n\r\nexport const updateStatus = (status) => (dispatch) => {\r\n  return profileAPI.updateStatus(status)\r\n    .then(() => {\r\n      dispatch(setStatus(status))\r\n    });\r\n};\r\n\r\nexport const savePhoto = (photoFile) => async (dispatch) => {\r\n  let response = await profileAPI.setPhoto(photoFile);\r\n  dispatch(updatePhoto(response.data.data.photos))\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n\r\n  const response = await profileAPI.setProfile(profile);\r\n  if (response.data.resultCode === 0) {\r\n    await dispatch(getUser(getState().auth.user.id));\r\n  } else {\r\n    return response.data.messages;\r\n  }\r\n\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__MaF2u\",\"header_content\":\"Header_header_content__13udt\",\"logo_wrapper\":\"Header_logo_wrapper__7evS-\",\"header_logo\":\"Header_header_logo__13d7a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contacts\":\"Contacts_contacts__1zCb2\",\"contacts_item\":\"Contacts_contacts_item__29YaY\",\"contacts_link\":\"Contacts_contacts_link__tO7zU\",\"contacts_header\":\"Contacts_contacts_header__3hwwA\"};","import React from \"react\";\r\nimport preloader from \"./../../assets/images/preloader/preloader-opacity.svg\";\r\nimport classes from \"./Preloader.module.scss\"\r\n\r\nexport const Preloader = () => {\r\n  return (\r\n\r\n  <div className={classes.cssload_loader}>\r\n    <div className={`${classes.cssload_inner} ${classes.cssload_one} `}></div>\r\n    <div className={`${classes.cssload_inner} ${classes.cssload_two} `}></div>\r\n    <div className={`${classes.cssload_inner} ${classes.cssload_three} ` }></div>\r\n  </div>\r\n    )\r\n\r\n};\r\n\r\n","import React from 'react';\r\nimport classes from './Header.module.scss'\r\nimport logo\r\n  from \"./../../assets/images/logo/Free Watercolor Logos_6.png\"\r\nimport {UserAuthInfo} from \"../../../features/autnentification/UserAuthInfo\";\r\n\r\n\r\nexport const Header = ({children}) => {\r\n\r\n  console.log(children)\r\n  return (\r\n    <header className={classes.header}>\r\n      <div className={classes.header_content}>\r\n        <div className={classes.logo_wrapper} >\r\n          <img className={classes.header_logo} alt=\"logo\"\r\n          src={logo}/>\r\n          {children[0]}\r\n        </div>\r\n     {children[1]}\r\n      </div>\r\n     </header>\r\n\r\n  );\r\n};","import {authAPI, profileAPI} from \"../../../../api/api\";\r\nimport * as types from \"./types\"\r\n// ==========Action Creators======================\r\n\r\n\r\nexport const authUser = (user, isAuth) => (\r\n  {\r\n    type: types.AUTH_USER,\r\n    user: {\r\n      ...user\r\n    },\r\n     isAuth\r\n  }\r\n);\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => (\r\n  {\r\n    type: types.GET_CAPTCHA_URL_SUCCESS,\r\n    captchaUrl\r\n  }\r\n);\r\n\r\n// =====================Thunk Creators====================\r\n\r\nexport const me = (isAuth) => async (dispatch) => {\r\n\r\n  const data = await authAPI.me();\r\n  if (data) {\r\n    const authUserProfile = await profileAPI.getUser(data.id);\r\n    dispatch(authUser(authUserProfile, isAuth));\r\n  }\r\n\r\n};\r\n\r\nexport const login = (formData) => (dispatch) => {\r\n  return authAPI.login(formData).then((response) => {\r\n    if (response.resultCode === 0) {\r\n      dispatch(me(true));\r\n      dispatch(getCaptchaUrlSuccess(null));\r\n    } else {\r\n      if (response.resultCode === 10) {\r\n        dispatch(getCaptcha());\r\n      }\r\n      const error = response.messages.length > 0 ?\r\n        response.messages[0] :\r\n        \"Unknown Error\";\r\n      return error;\r\n    }\r\n  });\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  return authAPI.logout().then(() => {\r\n    dispatch(authUser(undefined, false));\r\n  });\r\n};\r\n\r\nexport const getCaptcha = () => (dispatch) => {\r\n  authAPI.getCaptcha().then((captchaUrl) => {\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n  })\r\n};","import React from \"react\";\r\nimport styles from \"./Navbar.module.scss\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport icon from \"../../assets/icons/message-group.png\"\r\n\r\n\r\nexport const Navbar = ({children, clearPage, clearMusicSearch, messagesCount}) => {\r\n\r\n  const isMobile = document.documentElement.clientWidth <= 860\r\n  return (\r\n    <div className={styles.container}>\r\n      <nav>\r\n        <ul className={styles[\"mcd-menu\"]}>\r\n\r\n          <li>\r\n            <NavLink to=\"/profile\" activeClassName={styles.active}>\r\n              <i src={icon} className=\"fa fa-home\"/>\r\n              <strong>Profile</strong>\r\n              <small>your story</small>\r\n            </NavLink>\r\n          </li>\r\n          <li onClick={clearPage}>\r\n            <NavLink to={isMobile ? \"/friends\" : \"/users\" } activeClassName={styles.active}>\r\n              <i className=\"fa fa-users\"/>\r\n              <strong>Users</strong>\r\n              <small>our developers</small>\r\n            </NavLink>\r\n          </li>\r\n\r\n          <li className={styles.dialogs_link}>\r\n            <NavLink to=\"/dialogs\" activeClassName={styles.active}>\r\n              <i className=\"fa fa-comments-o\"/>\r\n              <strong>Dialogs</strong>\r\n              <small>your dialogs</small>\r\n              {messagesCount}\r\n            </NavLink>\r\n          </li>\r\n\r\n\r\n          <li>\r\n            <NavLink to=\"/news\" activeClassName={styles.active}>\r\n              <i className=\"fa fa-globe\"/>\r\n              <strong>News</strong>\r\n              <small>breaking news</small>\r\n            </NavLink>\r\n          </li>\r\n\r\n\r\n          <li>\r\n            <NavLink to=\"/music\" activeClassName={styles.active}\r\n              onClick={clearMusicSearch}>\r\n              <i className=\"fa fa-music\"/>\r\n              <strong>Music</strong>\r\n              <small>deezer chart</small>\r\n            </NavLink>\r\n\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\n","import * as  types from \"./types\"\r\nimport * as authActions from \"../authorization/actions\";\r\n// ==========Action Creators======================\r\n\r\nexport const initializedSuccess = () => (\r\n  {\r\n    type: types.INITIALIZED_SUCCESS\r\n  }\r\n);\r\n// =====================Thunk Creators====================\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  return  dispatch(authActions.me(true)).then(() => {\r\n    dispatch(initializedSuccess())});\r\n};\r\n\r\nexport const toggleIsFetching = (isFetching) => (\r\n  {\r\n    type: types.TOGGLE_IS_FETCHING,\r\n    isFetching\r\n  }\r\n);\r\n","import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport styles from \"./FriendsBar.module.scss\"\r\nimport {Preloader} from \"../../../../../ui\";\r\nimport avatar_undefined\r\n  from \"../../../../../ui/assets/images/avatar-undefined.jpg\"\r\nimport {Link, NavLink} from \"react-router-dom\";\r\nimport {usersActions} from \"../../../modules/users\";\r\n\r\n\r\nexport const FriendsBar = ({clearPage}) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n      dispatch(usersActions.getFriendsDemo(6, 1));\r\n  }, [dispatch]);\r\n\r\n  const friends = useSelector((state) => state.users.friends);\r\n\r\n  const friendsElements = friends.map((friend) => {\r\n    return (\r\n      <div className={styles.friend}>\r\n        <Link to={`/profile/${friend.id}`}>\r\n          <img className={styles.friendPhoto}\r\n            src={friend.photos?.small || avatar_undefined}\r\n            alt=\"\"/>\r\n          <p className={styles.friendName}>{friend.name}</p>\r\n        </Link>\r\n      </div>\r\n    )\r\n  });\r\n  return (\r\n    <>\r\n\r\n      {friends.length === 0 ?\r\n        <Preloader/> :\r\n        <aside className={styles.friendsBar}>\r\n          <h3 onClick={clearPage}><NavLink activeClassName={styles.active}\r\n            to=\"/friends\">Friends</NavLink></h3>\r\n          <div className={styles.friendInfo}>\r\n            {friendsElements}\r\n          </div>\r\n        </aside>}\r\n    </>\r\n  )\r\n};","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {FriendsBar} from \"./ui/moleculs/FriendsBar/FriendsBar\";\r\n\r\n\r\n\r\nexport const Friends = ({clearPage}) => {\r\n  const isMobile = document.documentElement.clientWidth <= 860\r\n  const isAuth = useSelector((state) => state.auth.isAuth);\r\n\r\n  return isAuth && !isMobile &&  <FriendsBar clearPage = {clearPage}/>\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown\":\"Dropdown_dropdown__3sMbb\"};","import {useHistory} from \"react-router\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\n\r\nexport const useAuthRedirect = () => {\r\n  const history = useHistory();\r\n  const isAuth = useSelector((state) =>  state.auth.isAuth);\r\n  if (!isAuth) {\r\n   history.push(\"/login\");\r\n  }\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news_wrapper\":\"News_news_wrapper__1XzFF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app_wrapper\":\"Common_app_wrapper__CMuWV\",\"content_wrapper\":\"Common_content_wrapper__31AZ-\",\"app_content\":\"Common_app_content__3PHtO\"};","import React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {authActions} from \"../../../modules/authorization\";\r\nimport styles from \"./Logout.module.scss\"\r\n\r\nexport const Logout = ({isMobile}) =>{\r\n\r\n  const dispatch = useDispatch();\r\n  const onLogout = () => dispatch(authActions.logout());\r\n\r\nreturn  <li className={!isMobile || styles.logout} onClick={onLogout}>\r\n  <i className=\"fa fa-sign-out\" aria-hidden=\"true\"/>Logout</li>\r\n};","import classes from \"./Dropdown.module.scss\";\r\nimport React from \"react\";\r\nimport {authActions} from \"../../../modules/authorization\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Link, useRouteMatch} from \"react-router-dom\";\r\nimport {Logout} from \"../../atoms/Logout/Logout\";\r\n\r\n\r\nexport const Dropdown = React.forwardRef(({isVisible}, ref) => {\r\n\r\n\r\n  const match = useRouteMatch(\"/profile\");\r\n\r\n  return (\r\n    <ul ref ={ref} className={classes.dropdown}>\r\n      { !match && <li><Link to={\"/profile\"}>\r\n        My profile\r\n      </Link></li>}\r\n      <Logout/>\r\n    </ul>\r\n  )\r\n});","import classes from \"./UserAuthInfoBar.module.scss\";\r\nimport React from \"react\";\r\nimport {shallowEqual, useSelector} from \"react-redux\";\r\nimport {Logout} from \"../../atoms/Logout/Logout\";\r\n\r\n\r\nexport const UserAuthInfoBar = React.forwardRef(({onDropdown, children},\r\n ref) => {\r\n\r\n  const { userName, userPhoto} = useSelector((state) => (\r\n    {\r\n      userName: state.auth.user.fullName,\r\n      userPhoto: state.auth.user.photos?.small\r\n    }\r\n  ), shallowEqual);\r\n  const isMobile = document.documentElement.clientWidth <= 480;\r\n  return <>\r\n    {!isMobile ?\r\n      <div ref={ref} className={classes.userInfo}\r\n        onClick={onDropdown}>\r\n        <span\r\n          className={classes.userInfo_name}>{userName}</span>\r\n        <div className={classes.userInfo_photo}>\r\n          <img alt=\"user_photo\"\r\n            src={userPhoto}/>\r\n        </div>\r\n        {children}\r\n      </div> :\r\n      <Logout isMobile={isMobile}/>\r\n      }\r\n  </>\r\n});","import React from \"react\";\r\nimport styles from \"./SignIn.module.scss\"\r\nimport classes\r\n  from \"../organisms/UserAutnInfoBar/UserAuthInfoBar.module.scss\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nexport const SignIn = () => {\r\n  return (\r\n    <div className={styles.sign_in}>\r\n\r\n      <NavLink className={classes.login_link}\r\n        to={\"/login\"}>Login</NavLink>\r\n      <i className=\"fa fa-sign-in\"\r\n        aria-hidden=\"true\"/>\r\n    </div>\r\n  )\r\n};","import React, {useCallback, useRef, useState} from \"react\";\r\nimport {Dropdown} from \"./ui/molecules/Dropdown/Dropdown\";\r\nimport {UserAuthInfoBar} from \"./ui/organisms/UserAutnInfoBar/UserAuthInfoBar\";\r\nimport dropClass from \"./ui/molecules/Dropdown/Dropdown.module.scss\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {SignIn} from \"./ui/atoms/SIgnIn\";\r\n\r\n\r\nexport const UserAuthInfo = () => {\r\n\r\n\r\n\r\n  const [isDropped, setDropdown] = useState(false);\r\n\r\n  const isAuth = useSelector((state) => state.auth.isAuth);\r\n  const userInfoRef = useRef();\r\n  const dropRef = useRef();\r\n\r\n  const onDropdown = (e) => {\r\n    userInfoRef.current.style.background = \"#1e1e1e\";\r\n    dropRef.current.style.visibility = \"visible\";\r\n    dropRef.current.style.opacity = 0.9;\r\n    document.addEventListener(\"click\", onCloseDropDown)\r\n  };\r\n\r\n\r\n  const onCloseDropDown = useCallback((e) => {\r\n    if (!e.target.closest(\".\" + dropClass.dropdown)) {\r\n      setDropdown(false);\r\n      userInfoRef.current.style.background = \"\";\r\n      dropRef.current.style.opacity = 0;\r\n      dropRef.current.style.visibility = \"hidden\";\r\n      document.removeEventListener(\"click\", onCloseDropDown);\r\n    } else {document.removeEventListener(\"click\", onCloseDropDown);}\r\n  }, []);\r\n\r\n\r\n  return ( <>\r\n    {isAuth ?\r\n      <UserAuthInfoBar ref={userInfoRef} onDropdown={onDropdown}>\r\n        <Dropdown isVisible={isDropped} ref={dropRef}/>\r\n      </UserAuthInfoBar> :\r\n      <SignIn/>}\r\n  </>)\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1U3bH\",\"footer_content\":\"Footer_footer_content__2jhzK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"followBtn\":\"Followbtn_followBtn__zqOYl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__Iktpc\",\"users_notFound\":\"Users_users_notFound__2hC14\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DialogsForm_wrapper__2l-lT\",\"button_wrapper\":\"DialogsForm_button_wrapper__2zccC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__16oIK\",\"card_name\":\"Card_card_name__3ofof\",\"artist_card_name\":\"Card_artist_card_name__38GNF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards_header\":\"Cards_cards_header__oTcAL\",\"cards\":\"Cards_cards__1iE9q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileStatus\":\"ProfileStatus_profileStatus__2kOiT\",\"profileStatus_textarea\":\"ProfileStatus_profileStatus_textarea__2HfdH\",\"userPhoto_block\":\"ProfileStatus_userPhoto_block__18OZg\"};","import React from \"react\";\r\nimport {ErrorMessage, useForm} from \"react-hook-form\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {profileActions} from \"../../../modules/profile/\";\r\nimport classes from \"./ProfileForm.module.scss\"\r\n\r\n\r\nexport const ProfileForm = ({\r\n  profile: {contacts, lookingForAJob, lookingForAJobDescription, fullName}, closeEditMode\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const {register, handleSubmit, errors, triggerValidation, setError} = useForm();\r\n\r\n  const onSubmit = (profileData) => {\r\n\r\n    dispatch(profileActions.saveProfile(profileData))\r\n      .then((response) => {\r\n        if (response && response.length) {\r\n          response.forEach(() => setError('contactsErr',\r\n            'servererror',\r\n            \"Invalid Url Format\"));\r\n        } else {\r\n          closeEditMode();\r\n        }\r\n      });\r\n\r\n  };\r\n\r\n  const contactItems = Object.entries(contacts).map((item) => {\r\n\r\n    return <p className={classes.contacts_item}>{item[0].charAt(0)\r\n      .toUpperCase() + item[0].slice(1)}:\r\n      <input className={classes.contacts_input}\r\n        onChange={() => triggerValidation(\"contacts.\" + item[0])}\r\n        ref={register({\r\n          maxLength: {\r\n            value: 20,\r\n            message: <p>\"ERROR\"</p>\r\n          }\r\n        })}\r\n        name={\"contacts.\" + item[0]}\r\n        defaultValue={item[1]}/>\r\n      <ErrorMessage errors={errors}\r\n        name={\"contacts.\" + item[0]} as=\"p\" className={classes.error}/>\r\n    </p>\r\n  });\r\n\r\n\r\n  return (\r\n    <form className={classes.profileForm}\r\n      onSubmit={handleSubmit(onSubmit)}>\r\n      <div className={classes.profileForm_close} onClick={closeEditMode}>\r\n        <i className=\"fa fa-times\" aria-hidden=\"true\"/>\r\n      <small>close</small>\r\n      </div>\r\n      <section className={classes.name_wrapper}><p>Full Name:\r\n        <input ref={register} placeholder={\"Full Name\"}\r\n          name={\"FullName\"}\r\n          defaultValue={fullName}/>\r\n      </p>\r\n        <p>Looking for a Job:\r\n          <select ref={register} name=\"lookingForAJob\"\r\n            defaultValue={lookingForAJob ?\r\n              \"yes\" :\r\n              \"no\"}>\r\n            <option value={true}>Yes</option>\r\n            <option value={false}>No</option>\r\n          </select>\r\n        </p>\r\n      </section>\r\n      <p>My professional skills:\r\n        <input ref={register} name={\"LookingForAJobDescription\"}\r\n          defaultValue={lookingForAJobDescription}/>\r\n      </p>\r\n      <p>About Me:\r\n        <input ref={register} name={\"AboutMe\"}\r\n          defaultValue='About me'/>\r\n      </p>\r\n      <ErrorMessage errors={errors} name=\"contactsErr\"\r\n        className={classes.error} as=\"p\"/>\r\n      <div className={classes.info_box}>{contactItems}</div>\r\n      <button className={classes.editProfile_btn}>Save</button>\r\n\r\n    </form>\r\n  )\r\n};","import React from \"react\";\r\nimport classes from \"./Contacts.module.scss\"\r\n\r\n\r\nconst capitalizeFirstLetter = (string) => {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\nexport const Contacts = ({contacts}) => {\r\n\r\n  const newElements = Object.entries(contacts).map((item) => {\r\n    return <p className={classes.contacts_item}\r\n      key={item[0]}>{capitalizeFirstLetter(item[0])}:  {item[1] ?\r\n      <a className={classes.contacts_link} href={item[1]}>{item[1]}</a> :\r\n      \"...\"}</p>\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <h3 className={classes.contacts_header}>Contacts</h3>\r\n      <section className={classes.contacts}>\r\n\r\n        {newElements}\r\n      </section>\r\n    </>\r\n  )\r\n};","import React, {useState} from \"react\";\r\nimport {ProfileForm} from \"../ProfileForm/ProfileForm\";\r\nimport {Contacts} from \"../Contacts/Contacts\";\r\nimport classes from \"./ProfileDescription.module.scss\"\r\n\r\nexport const ProfileDescription = ({profile, isOwner}) => {\r\n\r\n  const [editMode, setEditMode] = useState(false);\r\n\r\n  const onOpenEditMode = (e) => {\r\n    e.preventDefault();\r\n    setEditMode(true);\r\n  };\r\n  return (\r\n    <div className={classes.profileDescription}>\r\n      {isOwner && editMode ?\r\n        <ProfileForm profile={profile}\r\n          closeEditMode={() => setEditMode(false)}/> :\r\n        <div className={classes.about_wrapper}>\r\n          <section className={classes.about}>\r\n            <h3 className={classes.about_header}>About</h3>\r\n            <p className={classes.about_item}>Looking for a Job: {profile.lookingForAJob ?\r\n            \"Yes\" :\r\n            \"No\"}</p>\r\n            <p className={classes.about_item}>Looking for a job\r\n            description: {profile.lookingForAJobDescription ||\r\n            \"...\"} </p>\r\n          </section>\r\n          <Contacts contacts={profile.contacts}/>\r\n           {isOwner ?\r\n            <button className={classes.editProfile_btn} onClick={onOpenEditMode}>Edit Profile</button> :\r\n            \"\"}\r\n        </div>}\r\n    </div>\r\n  )\r\n};","import React, {useEffect, useState} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {profileActions} from \"../../../../profile/modules/profile\";\r\nimport classes from \"./ProfileStatus.module.scss\";\r\n\r\nexport const ProfileStatus = ({dispatch, isOwner}) => {\r\n\r\n  const userStatus = useSelector((state) => (\r\n    state.profile.status\r\n  ));\r\n\r\n  let [status, setStatus] = useState(null);\r\n  let [editMode, setEditMode] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setStatus(userStatus)\r\n  }, [userStatus]);\r\n\r\n  const onStatusChange = (e) => {\r\n    dispatch(profileActions.updateStatus(e.target.value));\r\n    setEditMode(false);\r\n  };\r\n  return (\r\n    <div className={classes.profileStatus}>\r\n      {isOwner && editMode ?\r\n        <textarea\r\n          className={classes.profileStatus_textarea} autoFocus={true}\r\n          onChange={(e) => setStatus(e.target.value)}\r\n          onBlur={onStatusChange}\r\n          value={status}/> :\r\n        <p style={isOwner ? {cursor: \"pointer\"} : {cursor: \"\"}} onClick={() => setEditMode(true)}>{userStatus || \"no-\" +\r\n        \" status\"}</p>}\r\n    </div>\r\n  )\r\n};\r\n","import React, {useEffect} from \"react\";\r\nimport classes from \"./ProfileInfo.module.scss\";\r\nimport {shallowEqual, useDispatch, useSelector} from \"react-redux\";\r\nimport {ProfileDescription} from \"../../molecules/ProfileDescription/ProfileDescription\";\r\nimport {ProfileStatus} from \"../../atoms/ProfileStatus/ProfileStatus\";\r\nimport {profileActions} from \"../../../modules/profile\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nexport const ProfileInfo = ({userId, profile, authUserId, ...props}) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const isOwner = userId === authUserId;\r\n  const {followed, isFollowing} = useSelector((state) => (\r\n    {\r\n      followed: state.profile.followed,\r\n      isFollowing: state.profile.isFollowing\r\n    }\r\n  ), shallowEqual);\r\n  const onSaveFile = (e) => {\r\n    if (e.target.files.length) dispatch(profileActions.savePhoto(e.target.files[0]));\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(profileActions.isUserFollowed(userId));\r\n  }, [dispatch, userId]);\r\n\r\n  return (\r\n    <div className={classes.profileInfo_wrapper}>\r\n\r\n      <div className={classes.userPhoto_block}>\r\n        <label>\r\n          <img alt=\"avatar\"\r\n            className={`${classes.userPhoto} ${isOwner &&\r\n            classes.ownerPhoto}`} src={props.myAva_img}/>\r\n          {isOwner &&\r\n          <input hidden onChange={onSaveFile} type=\"file\"/>}\r\n        </label>\r\n      </div>\r\n\r\n      <section className={classes.profileInfo}>\r\n        <div className={classes.userName_container}>\r\n          <p className={classes.userName}>{profile.fullName}</p>\r\n          <ProfileStatus dispatch={dispatch} isOwner={isOwner}\r\n            userId={userId}/>\r\n\r\n          <div className={classes.buttons}>\r\n            {isOwner || <Link to={`/dialogs/${userId}`}>\r\n            <button> Send\r\n              message\r\n            </button>\r\n          </Link>}\r\n            {isOwner || (\r\n              followed ?\r\n                <button disabled={isFollowing}\r\n                  onClick={() => dispatch(profileActions.unFollowUser())}>Unfollow</button> :\r\n                <button disabled={isFollowing}\r\n                  onClick={() => {\r\n                    dispatch(profileActions.followUser())\r\n                  }}>Follow</button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <ProfileDescription profile={profile} isOwner={isOwner}/>\r\n      </section>\r\n\r\n\r\n    </div>\r\n  );\r\n};\r\n","import React, {useEffect} from \"react\";\r\nimport {shallowEqual, useDispatch, useSelector} from \"react-redux\";\r\nimport {useAuthRedirect} from \"../../utils/useAuthRedirect\";\r\nimport {Preloader} from \"../../ui\";\r\nimport {ProfileInfo} from \"./ui/organisms/ProfileInfo/ProfileInfo\";\r\nimport * as profileActions from \"./modules/profile/actions\";\r\nimport profileCommon from \"./ui/assets/profileCommon.jpg\";\r\nimport avatarUndefined\r\n  from \"../../ui/assets/images/avatar-undefined.jpg\"\r\nimport {useParams} from \"react-router\";\r\n\r\n\r\nexport const Profile = () => {\r\n\r\n  useAuthRedirect();\r\n  const selectedId = useParams().userId;\r\n  const dispatch = useDispatch();\r\n  const {profile, authUserId, isFetching} = useSelector((state) => {\r\n    return {\r\n      profile: state.profile.profile,\r\n      authUserId: state.auth.user.userId,\r\n      isFetching: state.init.isFetching\r\n    }\r\n  }, shallowEqual);\r\n\r\n\r\n  let userId = selectedId || authUserId;\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(profileActions.getUser(userId));\r\n    dispatch(profileActions.getStatus(userId));\r\n  }, [userId, dispatch]);\r\n\r\n\r\n  return (\r\n    <>\r\n      {isFetching || !profile ?\r\n        <Preloader/> :\r\n        (\r\n          <>\r\n            <ProfileInfo authUserId={authUserId} profile={profile}\r\n              userId={userId}\r\n              head_img={profileCommon}\r\n              myAva_img={profile.photos.small || avatarUndefined}\r\n            />\r\n          </>\r\n        )}\r\n    </>\r\n  );\r\n};\r\n","export {Profile} from \"./Profile\"\r\nexport {\r\n  profileReducer, profileActions, profileTypes\r\n}from \"./modules/profile\"\r\n","module.exports = __webpack_public_path__ + \"static/media/Free Watercolor Logos_6.9671fa20.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logout\":\"Logout_logout__wrI6e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sign_in\":\"SignIn_sign_in__3V4S0\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login_title\":\"Login_login_title__18Cvm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersSearch\":\"UsersSearch_usersSearch__1LV54\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs_wrapper\":\"Dialogs_dialogs_wrapper__329w8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages_count\":\"NewMessagesCount_messages_count__2yBsV\"};","module.exports = __webpack_public_path__ + \"static/media/news.5cf725f4.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"back\":\"Arrow_back__1wu_m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Search_search__2f5jr\"};","module.exports = __webpack_public_path__ + \"static/media/profileCommon.a41a2eec.jpg\";","module.exports = __webpack_public_path__ + \"static/media/preloader-opacity.cf78036a.svg\";","import {CommonTemplate} from \"../../ui/templates/Common\";\r\nimport React from \"react\";\r\nimport {Dialogs} from \"../../features/dialogs\";\r\n\r\n\r\nexport const DialogsPage = () => {\r\n  return(\r\n    <CommonTemplate>\r\n      <Dialogs/>\r\n    </CommonTemplate>\r\n  )\r\n};","import  * as types from \"./types\"\r\n\r\nexport const initialState = {\r\narticles: null\r\n};\r\n\r\nexport const reducer = (state = initialState,\r\n  action) => {\r\n  switch (action.type) {\r\n    case types.SET_NEWS:\r\n      return {\r\n        ...state,\r\n       articles: action.articles\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://newsapi.org/v2\"\r\n});\r\nexport const newsAPI = {\r\n  getNews({type = \"top-headlines\", country = \"country=us\",\r\n    category = \"&category=general\", query=\"\"}) {\r\n    return instance.get(`/${type}?${country}${category}${query}&apiKey=9f6b4297388249849db6c199fd357b24`)\r\n      .then((response) => {\r\n        if (response.data.status === \"ok\") {\r\n          console.log(response.data.articles);\r\n          return response.data.articles\r\n        } else {\r\n          console.log(response);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n};","import * as types from \"./types\"\r\nimport {newsAPI} from \"../../../../api/newsAPI\";\r\n\r\n\r\nexport const setNews = (articles) => (\r\n  {\r\n    type: types.SET_NEWS,\r\n    articles\r\n  }\r\n);\r\nexport const getNews = (params) => (dispatch) => {\r\n  newsAPI.getNews(params).then((articles) => dispatch(setNews(articles)));\r\n};\r\n","export const SET_NEWS = \"music/SET_NEWS\";\r\n","import styles from \"./Categories.module.scss\";\r\nimport React from \"react\";\r\nimport {newsActions} from \"../../../modules/news\";\r\n\r\n\r\nexport const Categories = ({dispatch}) => {\r\n\r\n  const onCategoryChoose = (event) => {\r\n    if (event.target.classList.contains(styles.categories_category)) {\r\n      const category = `&category=${event.target.dataset.cat}`;\r\n      console.log(category);\r\n      dispatch(newsActions.getNews({\r\n        category\r\n      }))\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section onClick={onCategoryChoose} className={styles.categories}>\r\n      <div data-cat=\"general\"\r\n        className={styles.categories_category + \" \" +\r\n        styles.all}>All\r\n      </div>\r\n      <div data-cat=\"business\"\r\n        className={styles.categories_category + \" \" +\r\n        styles.business}>Business\r\n      </div>\r\n      <div data-cat=\"entertainment\"\r\n        className={styles.categories_category + \" \" +\r\n        styles.entertaiment}>Entertainment\r\n      </div>\r\n      <div data-cat=\"science\"\r\n        className={styles.categories_category + \" \" +\r\n        styles.science}>Science\r\n      </div>\r\n      <div data-cat=\"sports\"\r\n        className={styles.categories_category + \" \" +\r\n        styles.sport}>Sports\r\n      </div>\r\n      <div data-cat=\"technology\"\r\n        className={styles.categories_category + \" \" +\r\n        styles.technology}>Technology\r\n      </div>\r\n    </section>\r\n  );\r\n};","import React from \"react\";\r\nimport classes from \"./Article.module.scss\"\r\nimport mockImg from \"../../assets/categories/news.jpg\"\r\n\r\n\r\nexport const Article =\r\n  ({title, urlToImage, description, content, author, url, source, publishedAt}) => {\r\n\r\n  return <article className={classes.news_article} style={{backgroundImage: `url(${urlToImage || mockImg})`}}\r\n    key={url}>\r\n    <a href={url}>\r\n    <h3 className={classes.news_article_title}>{title}</h3>\r\n    <p\r\n      className={classes.news_article_description}>{description}</p>\r\n    <p className={classes.news_article_content}>{content}</p>\r\n    </a>\r\n    <p className={classes.news_article_author}>{author}</p>\r\n    <p\r\n      className={classes.news_article_src}>{source.name}</p>\r\n\r\n  </article>\r\n};\r\n","import classes from \"../../News.module.scss\";\r\nimport React from \"react\";\r\nimport {Preloader} from \"../../../../ui\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {Article} from \"../moleculs/Article/Article\";\r\n\r\n\r\nexport const Articles = () => {\r\n\r\n\r\n  const articles = useSelector((state) => (\r\n    state.news.articles\r\n  ));\r\n\r\n  let articleElements = articles?.map((item) => {\r\n    return <Article {...item}/>\r\n  });\r\n\r\n  if (articleElements?.length === 0) {\r\n    articleElements = \"Sorry nothing found\";\r\n  }\r\n\r\nreturn(\r\n  articles ?\r\n  <section\r\n    className={classes.news}>\r\n    {articleElements || <Preloader/>}\r\n  </section> :\r\n    <Preloader/>\r\n)\r\n};","import React from \"react\";\r\nimport {newsActions} from \"../../../modules/news\";\r\nimport classes from \"./Search.module.scss\"\r\n\r\n\r\nexport const Search = ({dispatch}) => {\r\n\r\n  const onSearch = (event) => {\r\n    event.preventDefault();\r\n    const query = event.target.search_query.value;\r\n    dispatch(newsActions.getNews({\r\n      query: `q=${query}`,\r\n      category: \"\",\r\n      country: \"\"\r\n    }))\r\n  };\r\n\r\n  return (\r\n    <section id={classes.cover}>\r\n      <form onSubmit={onSearch} autoComplete=\"off\">\r\n        <div className={classes.search_block}>\r\n          <div className={classes.search_query}>\r\n            <input className={classes.search_query} name=\"search_query\"\r\n              placeholder=\"Search...\" type=\"text\"/>\r\n          </div>\r\n          <div className={classes.search_btn} id={classes['s-cover']}>\r\n            <button type=\"submit\">\r\n              <div id={classes['s-circle']}></div>\r\n              <span></span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </section>\r\n  )\r\n};\r\n","import React, {useEffect} from \"react\";\r\nimport classes from \"./News.module.scss\";\r\nimport {newsActions} from \"./\"\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Categories} from \"./ui/moleculs/Categories/Categories\";\r\nimport {Articles} from \"./ui/Organisms/Articles\";\r\nimport {Search} from \"./ui/moleculs/Search/Search\";\r\n\r\n\r\nexport const News = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(newsActions.getNews({}))\r\n  }, [dispatch]);\r\n\r\n  return <div className={classes.news_wrapper}>\r\n   <Search dispatch={dispatch}/>\r\n    <Categories dispatch={dispatch}/>\r\n    <Articles/>\r\n  </div>;\r\n};\r\n","import {CommonTemplate} from \"../../ui/templates/Common\";\r\nimport React from \"react\";\r\nimport {News} from \"../../features/news\";\r\n\r\n\r\nexport const NewsPage = () => {\r\n  return(\r\n    <CommonTemplate>\r\n      <News/>\r\n    </CommonTemplate>\r\n  )\r\n};","import  * as types from \"./types\"\r\n\r\nexport const initialState = {\r\ncharts: null,\r\n  searchResults: null\r\n};\r\n\r\nexport const reducer = (state = initialState,\r\n  action) => {\r\n  switch (action.type) {\r\n    case types.SET_MUSIC_CHARTS:\r\n      return {\r\n        ...state,\r\n       charts: action.charts\r\n      };\r\n      case types.SET_SEARCH_RESULTS:\r\n      return {\r\n        ...state,\r\n        searchResults: action.searchResults\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://cors-anywhere.herokuapp.com/http://api.deezer.com/'\r\n});\r\n\r\nexport const musicApi = {\r\n  getMusicChart() {\r\n    return instance.get(`chart/`)\r\n      .then(response => {\r\n        return response.data;\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  },\r\n\r\n  search(query){\r\n    return instance.get(`/search?q=${query}`).then((response)=>{\r\n      return response.data\r\n    }).catch((err) => console.log(err))\r\n  }\r\n};\r\n\r\n","import * as types from \"./types\"\r\nimport {musicApi} from \"../../../../api/musicAPI\";\r\n\r\n\r\nexport const setMusicCharts = (charts) => (\r\n  {\r\n    type: types.SET_MUSIC_CHARTS,\r\n    charts\r\n  }\r\n);\r\nexport const setSearchResults = (searchResults) => (\r\n  {\r\n    type: types.SET_SEARCH_RESULTS,\r\n    searchResults\r\n  }\r\n);\r\n\r\nexport const getMusicChart = (category) => (dispatch) => {\r\n  musicApi.getMusicChart(category)\r\n    .then((charts) => {\r\n      dispatch(setMusicCharts(charts))\r\n    });\r\n};\r\n\r\nexport const search = (query) => (dispatch) =>{\r\n return  musicApi.search(query).then((searchResults) => {\r\n   dispatch(setSearchResults((searchResults)))\r\n  })\r\n};","export const SET_MUSIC_CHARTS = \"music/SET_MUSIC_CHARTS\";\r\nexport const SET_SEARCH_RESULTS = \"music/SET_SEARCH_RESULTS\";\r\n","export const converter = (duration) => {\r\n  const minutes = Math.floor(duration / 60);\r\n  let seconds = String(Math.floor(duration % 60));\r\n  if (seconds.length === 1) {\r\n    seconds = \"0\" + seconds;\r\n  }\r\n  const result = minutes + \" : \" + seconds;\r\n  return result;\r\n};\r\n\r\nexport const calculateProgress = (mouseX, progressElement) => {\r\n  const barWidth = progressElement.getBoundingClientRect().right -\r\n    progressElement.getBoundingClientRect().left;\r\n  const scrollPos = Math.abs(mouseX -\r\n    progressElement.getBoundingClientRect().left);\r\n  const percentToScroll = scrollPos / barWidth * 100;\r\n  return percentToScroll;\r\n};","\r\nimport * as types from \"./types\"\r\n\r\nexport const initialState = {\r\n  currentAlbum: \"\",\r\n  bgPhoto: \"\",\r\n  currentNumber: 0,\r\n  currentSrc: \"\",\r\n  progress: 0,\r\n  volume: 50,\r\n  duration: \"\",\r\n  currentSecond: \"\",\r\n  hintTime: \"\",\r\n  isPlaying: false,\r\n  artist: \"\",\r\n  title: \"\",\r\n};\r\n\r\n\r\nexport  function reducer(state, action) {\r\n  switch (action.type) {\r\n    case types.NEXT_SONG:\r\n      return {\r\n        ...state, ...action.payload,\r\n        currentNumber: state.currentNumber + 1\r\n      };\r\n    case types.PREV_SONG:\r\n      return {\r\n        ...state, ...action.payload,\r\n        currentNumber: state.currentNumber - 1,\r\n      };\r\n    case types.SET_SONG:\r\n      return {\r\n        ...state, ...action.payload\r\n      };\r\n    case types.SET_PROGRESS:\r\n      return {\r\n        ...state, ...action.payload\r\n      };\r\n    case types.SET_VOLUME:\r\n      return {\r\n        ...state,\r\n        volume: action.payload\r\n      };\r\n    case types.SET_DURATION:\r\n      return {\r\n        ...state,\r\n        duration: action.payload\r\n      };\r\n    case types.SET_HINT:\r\n      return {\r\n        ...state,\r\n        hintTime: action.payload\r\n      };\r\n    case types.TOGGLE_IS_PLAYING:\r\n      return {\r\n        ...state,\r\n        isPlaying: action.payload\r\n      };\r\n    default:\r\n      throw new Error();\r\n  }\r\n}","export const NEXT_SONG = \"player/NEXT_SONG\";\r\nexport const PREV_SONG = \"player/PREV_SONG\";\r\nexport const SET_SONG = \"player/SET_SONG\";\r\nexport const SET_PROGRESS = \"player/SET_PROGRESS\";\r\nexport const SET_VOLUME = \"player/SET_VOLUME\";\r\nexport const SET_DURATION = \"player/SET_DURATION\";\r\nexport const SET_HINT = \"player/SET_HINT\";\r\nexport const TOGGLE_IS_PLAYING = \"player/TOGGLE_IS_PLAYING\";","import * as types from \"./types\"\r\n\r\nexport const nextSong = (payload) => (\r\n  {\r\n    type: types.NEXT_SONG,\r\n    payload\r\n  }\r\n);\r\nexport const setHint = (payload) => (\r\n  {\r\n    type: types.SET_HINT,\r\n    payload\r\n  }\r\n);\r\n\r\nexport const toggleIsPlaying = (payload) => (\r\n  {\r\n    type: types.TOGGLE_IS_PLAYING,\r\n    payload\r\n  }\r\n);\r\n\r\nexport const setDuration = (payload) => (\r\n  {\r\n    type: types.SET_DURATION,\r\n    payload\r\n  }\r\n);\r\n\r\nexport const prevSong = (payload) => (\r\n  {\r\n    type: types.PREV_SONG,\r\n    payload\r\n  }\r\n);\r\n\r\nexport const setSong = (payload) => (\r\n  {\r\n    type: types.SET_SONG,\r\n    payload\r\n  }\r\n);\r\n\r\nexport const setProgress = (payload) => (\r\n  {\r\n    type: types.SET_PROGRESS,\r\n    payload\r\n  }\r\n);\r\nexport const setVolume = (payload) => (\r\n  {\r\n    type: types.SET_VOLUME,\r\n    payload\r\n  }\r\n);","import React, {useEffect, useRef} from \"react\";\r\nimport styles from \"./Player.module.scss\";\r\nimport {calculateProgress, converter} from \"../../../utils\";\r\nimport {playerActions} from \"../../../modules/player\";\r\n\r\n\r\nexport const Player = React.forwardRef(({dispatch,state,initPlayer,...props},ref) => {\r\n  const trackRef = ref;\r\n  const hintRef = useRef();\r\n\r\n  const onForward = () => {\r\n    if (state.currentNumber >= 9) {\r\n      return\r\n    }\r\n    const nextTrackNumber = state.currentNumber + 1;\r\n    const query = \"div[data-track_number='\" + `${nextTrackNumber}` +\r\n      \"']\";\r\n\r\n    const nextTrack = document.querySelector(`${query}`);\r\n    dispatch(playerActions.nextSong({\r\n      currentSrc: nextTrack.dataset.url_track,\r\n      currentAlbum: nextTrack.dataset.album_photo,\r\n      bgPhoto: nextTrack.dataset.bg_photo,\r\n      artist: nextTrack.dataset.artist_name,\r\n      title: nextTrack.dataset.track_title\r\n    }));\r\n  };\r\n  const onBackward = () => {\r\n    if (state.currentNumber <= 0) return;\r\n    const prevTrackNumber = state.currentNumber - 1;\r\n    const query = \"div[data-track_number='\" + `${prevTrackNumber}` +\r\n      \"']\";\r\n    const prevTrack = document.querySelector(`${query}`);\r\n    dispatch(playerActions.prevSong({\r\n      currentSrc: prevTrack.dataset.url_track,\r\n      currentAlbum: prevTrack.dataset.album_photo,\r\n      bgPhoto: prevTrack.dataset.bg_photo,\r\n      artist: prevTrack.dataset.artist_name,\r\n      title: prevTrack.dataset.track_title\r\n    }));\r\n  };\r\n\r\n  const seekProgress = (e) => {\r\n    if (!isNaN(trackRef.current.duration)) {\r\n      const duration = trackRef.current.duration;\r\n      const percent = calculateProgress(e.pageX, e.currentTarget);\r\n      dispatch(playerActions.setProgress(percent));\r\n      trackRef.current.currentTime = duration / 100 * percent;\r\n    }\r\n  };\r\n\r\n  const playingProgress = (e) => {\r\n    const duration = trackRef.current.duration;\r\n    const currentSecond = converter(trackRef.current.currentTime);\r\n    dispatch(playerActions.setProgress({\r\n      progress: trackRef.current.currentTime / duration * 100,\r\n      currentSecond: currentSecond\r\n    }));\r\n    if (trackRef.current.ended) onForward();\r\n  };\r\n\r\n  const onVolume = (e) => {\r\n    dispatch(playerActions.setVolume(e.target.value));\r\n\r\n  };\r\n\r\n  const showHint = (e) => {\r\n    if (!isNaN(state.progress)) {\r\n      const percent = calculateProgress(e.clientX, e.currentTarget);\r\n      const result = converter(Math.floor((\r\n        trackRef.current.duration / 100\r\n      ) * percent));\r\n      dispatch(playerActions.setHint(result));\r\n      hintRef.current.style.left =\r\n        e.clientX - e.currentTarget.getBoundingClientRect().left +\r\n        \"px\";\r\n      hintRef.current.hidden = false;\r\n    }\r\n  };\r\n\r\n  const closeHint = (e) => {\r\n    hintRef.current.hidden = true;\r\n  };\r\n\r\n  useEffect(() => {\r\n    trackRef.current.volume = state.volume / 100;\r\n  }, [state.volume]);\r\n\r\nreturn(\r\n  <div className={styles.player}>\r\n    <audio ref={trackRef} onTimeUpdate={playingProgress}\r\n      onLoadedData={() => {\r\n        dispatch(playerActions.setDuration(converter(trackRef.current.duration)))\r\n      }}\r\n      src={state.currentSrc}\r\n      preload=\"none\" data-track_number={state.currentNumber}/>\r\n    <div onClick={initPlayer} className={styles.play_block}>\r\n      <img\r\n        src={state.currentAlbum} alt=\"player_album\"/>\r\n      {state.isPlaying ?\r\n        <i className={\"fa fa-pause\" + \" \" + styles.pause}/> :\r\n        <i className={\"fa fa-play\" + \" \" + styles.play}/>}\r\n\r\n    </div>\r\n    <div className={styles.arrows}>\r\n      <i className=\"fa fa-step-backward\" onClick={onBackward}\r\n        aria-hidden=\"true\"/>\r\n      <i className=\"fa fa-step-forward\" onClick={onForward}\r\n        aria-hidden=\"true\"/>\r\n    </div>\r\n    <div className={styles.progress_bar}>\r\n      <div className={styles.title_info}>\r\n            <span\r\n              className={styles.title}>{state.artist} - {state.title}</span>\r\n        <small>{state.currentSecond}\r\n        {/*{state.duration ? \"/\" + state.duration : \"/0 : 00\"}*/}\r\n        </small>\r\n      </div>\r\n      <div className={styles.progress_wrapper}>\r\n        <progress onClick={seekProgress} max=\"100\"\r\n          onMouseMove={showHint} onMouseLeave={closeHint}\r\n          value={state.progress}>\r\n        </progress>\r\n\r\n        <small ref={hintRef}\r\n          className={styles.hint}>{state.hintTime}\r\n        </small>\r\n      </div>\r\n    </div>\r\n\r\n    <div className={styles.volume}>\r\n      {state.volume > 0 ?\r\n        <i className=\"fa fa-volume-up\" aria-hidden=\"true\"/> :\r\n        <i className=\"fa fa-volume-off\" aria-hidden=\"true\"/>}\r\n      <input type=\"range\" onChange={onVolume}\r\n        value={state.volume}/>\r\n    </div>\r\n  </div>\r\n)\r\n});","import styles from \"./Tracks.module.scss\"\r\nimport {Preloader} from \"../../../../../ui\";\r\nimport React, {useEffect, useReducer, useRef} from \"react\";\r\nimport {converter} from \"../../../utils\"\r\nimport {Player} from \"../Player/Player\";\r\nimport {\r\n  playerActions, playerInitialState, playerReducer\r\n} from \"../../../modules/player\";\r\n\r\n\r\nexport const Tracks = ({tracks, children}) => {\r\n\r\n  const trackRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (tracks) {\r\n      dispatch(playerActions.setSong({\r\n        currentAlbum: tracks[0].album.cover_small,\r\n        currentSrc: tracks[0].preview,\r\n        bgPhoto: tracks[0].artist.picture_xl,\r\n        artist: tracks[0].artist.name,\r\n        title: tracks[0].title\r\n      }))\r\n    }\r\n  }, [tracks]);\r\n\r\n  const [state, dispatch] = useReducer(playerReducer,\r\n    playerInitialState);\r\n\r\n  const initPlayer = (e) => {\r\n    if (e.currentTarget.dataset.url_track && state.currentSrc !==\r\n      e.currentTarget.dataset.url_track) {\r\n      dispatch((\r\n        playerActions.setSong({\r\n          currentNumber: +e.currentTarget.dataset.track_number,\r\n          currentSrc: e.currentTarget.dataset.url_track,\r\n          currentAlbum: e.currentTarget.dataset.album_photo,\r\n          bgPhoto: e.currentTarget.dataset.bg_photo,\r\n          artist: e.currentTarget.dataset.artist_name,\r\n          title: e.currentTarget.dataset.track_title\r\n        })\r\n      ));\r\n    } else {\r\n      onPlay();\r\n    }\r\n  };\r\n\r\n  const onPlay = () => {\r\n    if (trackRef.current.paused) {\r\n      trackRef.current.play();\r\n      dispatch(playerActions.toggleIsPlaying(true));\r\n      console.log(\"play\")\r\n    } else {\r\n      trackRef.current.pause();\r\n      dispatch(playerActions.toggleIsPlaying(false));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (state.currentSrc.length > 0) onPlay();\r\n  }, [state.currentNumber]);\r\n\r\n  const tracksElements = tracks?.map((track, index) => {\r\n    let playing;\r\n    if (state.currentNumber === index) {\r\n      playing = styles.track_album_playing;\r\n    } else {\r\n      playing = \"\";\r\n    }\r\n\r\n    return <div key={track.id} className={styles.track_container}>\r\n      <div\r\n        data-url_track={track.preview}\r\n        data-track_number={index}\r\n        data-album_photo={track.album.cover_small}\r\n        data-bg_photo={track.artist.picture_xl}\r\n        data-track_title={track.title}\r\n        data-artist_name={track.artist.name}\r\n        onClick={initPlayer}\r\n        className={styles.track_album + \" \" + playing}>\r\n        <img\r\n          alt=\"artist_image\" src={track.album.cover_small}/>\r\n        <i className=\"fa fa-play\"/>\r\n      </div>\r\n      <div className={styles.track_title}>\r\n        <a href={track.artist.link}>\r\n          <span>{track.artist.name} - {track.title}</span>\r\n        </a>\r\n        <small\r\n          className={styles.track_title_duration}>{converter(track.duration)}\r\n        </small>\r\n      </div>\r\n    </div>\r\n  });\r\n\r\n  return (\r\n    <>\r\n\r\n      { tracksElements ?\r\n        <Player ref={trackRef} dispatch={dispatch} state={state}\r\n          initPlayer={initPlayer}/> :\r\n        <Preloader/> }\r\n      <div className={styles.music_tracks}>\r\n        <h3 className={styles.category_header}>{children}</h3>\r\n        {tracksElements || <Preloader/>}\r\n      </div>\r\n    </>\r\n  )\r\n};","import React from \"react\";\r\nimport styles from \"./Arrow.module.scss\"\r\n\r\nexport const Arrow = ({back}) => {\r\n return <i className={`fa fa-angle-left ${styles.back}`} onClick={back}aria-hidden=\"true\"/>\r\n};","import React from \"react\";\r\nimport {musicActions} from \"../../modules/music\";\r\nimport {Tracks} from \"./Tracks/Tracks\";\r\nimport {Arrow} from \"../../../../ui/atoms/Arrow/Arrow\";\r\n\r\n\r\nexport const SearchResults = ({searchResults, dispatch}) => {\r\n\r\n\r\n  const onBackToChart = () => {\r\n    dispatch(musicActions.setSearchResults(null));\r\n  };\r\n\r\n\r\n  return (\r\n\r\n    <Tracks tracks={searchResults}>\r\n      <>\r\n        <Arrow back={onBackToChart}/> Search Results\r\n      </>\r\n    </Tracks>\r\n  )\r\n};","import React from \"react\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {musicActions} from \"../../../modules/music\";\r\nimport styles from \"./Search.module.scss\"\r\n\r\nexport const Search = ({dispatch}) => {\r\n\r\n  const {register, handleSubmit} = useForm();\r\n  const onSearch = ({query}) => {\r\n    dispatch(musicActions.search(query));\r\n  };\r\n\r\nreturn(\r\n  <div className={styles.search}>\r\n    <form onSubmit={handleSubmit(onSearch)}>\r\n      <input autoComplete=\"off\" ref={register({required: true})} name=\"query\"\r\n        type=\"text\"/>\r\n      <i className=\"fa fa-search\"></i>\r\n    </form>\r\n  </div>\r\n)\r\n};","import React from \"react\";\r\nimport styles from \"./Card.module.scss\"\r\n\r\n\r\nexport const Card = ({id, link, artistName, title, picture, font_size}) => {\r\n  return (\r\n    <section className={styles.card} key={id}>\r\n      {title || artistName ?\r\n        <p style={{\r\n          \"fontSize\": font_size\r\n        }} className={styles.card_name}><a\r\n          href={link}>{title || artistName}\r\n        </a>\r\n        </p> :\r\n        \"\"}\r\n      <a href={link}>\r\n        <img src={picture} alt={artistName}/>\r\n      </a>\r\n    </section>\r\n  )\r\n};","import styles from \"./Cards.module.scss\";\r\nimport {Preloader} from \"../../../../../ui\";\r\nimport React from \"react\";\r\n\r\n\r\nexport const Cards= ({children, header}) => {\r\n\r\n\r\n  return (\r\n    <>\r\n      <h3 className={styles.cards_header}>{header}</h3>\r\n      <div className={styles.cards}>\r\n        {children || <Preloader/>}\r\n      </div>\r\n    </>\r\n  )\r\n};","import React from \"react\";\r\nimport {Card} from \"../templates/card/Card\";\r\nimport {Cards} from \"../templates/cards/Cards\";\r\n\r\n\r\nexport const Artists = ({artists}) => {\r\n  \r\n  const artistsElements = artists?.map((artist) =>\r\n    <Card\r\n    id={artist.id} link={artist.link} picture={artist.picture_big}\r\n    artistName={artist.name}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Cards header=\"Top Artists\">\r\n      {artistsElements}\r\n      </Cards>\r\n    </>\r\n  )\r\n};","import classes from \"../../Music.module.scss\";\r\nimport {Preloader} from \"../../../../ui\";\r\nimport React from \"react\";\r\nimport {Card} from \"../templates/card/Card\";\r\nimport {Cards} from \"../templates/cards/Cards\";\r\n\r\n\r\nexport const Albums = ({albums}) => {\r\n\r\n  const albumsElements = albums?.map((album) =>\r\n    <Card\r\n    id={album.id} picture={album.cover_big}\r\n    artistName={album.artist.name}\r\n    title={album.title}\r\n    link={album.link}\r\n      font_size=\"1rem\"\r\n  />);\r\n\r\n  return (\r\n    <>\r\n      <Cards header=\"Top Albums\">\r\n        {albumsElements}\r\n      </Cards>\r\n    </>\r\n  )\r\n};","import classes from \"../../Music.module.scss\";\r\nimport React from \"react\";\r\nimport {Card} from \"../templates/card/Card\";\r\nimport {Cards} from \"../templates/cards/Cards\";\r\n\r\n\r\nexport const Podcasts = ({podcasts}) => {\r\n\r\n  const podcastsElements = podcasts?.map((podcast) => {\r\n\r\n    return <Card\r\n      id={podcast.id} pictureLink={podcast.link}\r\n      picture={podcast.picture_big}\r\n      // title={podcast.title}\r\n    >\r\n      <p\r\n        className={classes.podcast_description}>{podcast.description}</p>\r\n    </Card>\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Cards header=\"Top Podcasts\">\r\n        {podcastsElements}\r\n      </Cards>\r\n    </>\r\n  )\r\n};","import classes from \"../../Music.module.scss\";\r\nimport {Preloader} from \"../../../../ui\";\r\nimport React from \"react\";\r\nimport {Card} from \"../templates/card/Card\";\r\nimport {Cards} from \"../templates/cards/Cards\";\r\n\r\n\r\nexport const Playlists = ({playlists}) => {\r\n\r\n  const playlistsElements = playlists?.map((playlist) =>\r\n    <Card\r\n    id={playlist.id} pictureLink={playlist.link}\r\n    picture={playlist.picture_big}\r\n    // title={playlist.title}\r\n  />);\r\n\r\n  return (\r\n    <>\r\n      <Cards header=\"Top Playlists\">\r\n        {playlistsElements}\r\n      </Cards>\r\n    </>\r\n  )\r\n};","import classes from \"../../Music.module.scss\";\r\nimport {Tracks} from \"./Tracks/Tracks\";\r\nimport {Artists} from \"./Artists\";\r\nimport {Albums} from \"./Albums\";\r\nimport {Podcasts} from \"./Podcasts\";\r\nimport {Playlists} from \"./Playlists\";\r\nimport React from \"react\";\r\nimport {shallowEqual, useSelector} from \"react-redux\";\r\n\r\n\r\nexport const Chart = () => {\r\n\r\n  const {tracks, artists, albums, podcasts, playlists } = useSelector(\r\n    (state) => (\r\n      {\r\n        tracks: state.music.charts?.tracks?.data,\r\n        artists: state.music.charts?.artists?.data,\r\n        albums: state.music.charts?.albums?.data,\r\n        podcasts: state.music.charts?.podcasts?.data,\r\n        playlists: state.music.charts?.playlists?.data,\r\n      }\r\n    ),\r\n    shallowEqual);\r\nreturn(\r\n  <div className={classes.music}>\r\n    <Tracks tracks={tracks} children={\"Top Tracks\"}/>\r\n    <Artists artists={artists}/>\r\n    <Albums albums={albums}/>\r\n    <Podcasts podcasts={podcasts}/>\r\n    <Playlists playlists={playlists}/>\r\n  </div>\r\n)\r\n};\r\n","import React, {useEffect, useMemo} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {musicActions} from \"./\";\r\nimport {SearchResults} from \"./ui/organisms/SearchResults\";\r\nimport {Search} from \"./ui/organisms/Search/Search\";\r\nimport {Chart} from \"./ui/organisms/Chart\";\r\nimport styles from\"./Music.module.scss\"\r\n\r\nexport const Music = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const searchResults = useSelector((state) => state.music?.searchResults?.data);\r\n\r\n  useEffect(() => {\r\n    dispatch(musicActions.setSearchResults(null));\r\n    dispatch(musicActions.getMusicChart());\r\n\r\n  }, [dispatch]);\r\n\r\n\r\n  return (\r\n    <section className={styles.music_wrapper}>\r\n      <Search dispatch={dispatch}/>\r\n      {searchResults ?\r\n        <SearchResults searchResults={searchResults}\r\n          dispatch={dispatch}/> :\r\n        <Chart/>}\r\n    </section>\r\n  )\r\n};\r\n","import {CommonTemplate} from \"../../ui/templates/Common\";\r\nimport React from \"react\";\r\nimport {Music, musicActions} from \"../../features/music\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\n\r\nexport const MusicPage = () => {\r\n  const dispatch = useDispatch();\r\n  const clearSearch = () => {\r\n    dispatch(musicActions.setSearchResults(null));\r\n  };\r\n\r\n\r\n  return (\r\n    <CommonTemplate clearMusicSearch={clearSearch}>\r\n      <Music/>\r\n    </CommonTemplate>\r\n  )\r\n};","import {CommonTemplate} from \"../../ui/templates/Common\";\r\nimport {Users, usersActions} from \"../../features/users\";\r\nimport React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\n\r\nexport const UsersPage =  () => {\r\n\r\nreturn(\r\n <CommonTemplate >\r\n   <Users />\r\n </CommonTemplate>\r\n)\r\n};","import {CommonTemplate} from \"../../ui/templates/Common\";\r\nimport React from \"react\";\r\nimport {Login} from \"../../features/autnentification\";\r\n\r\n\r\nexport const LoginPage = () => {\r\n  return(\r\n    <CommonTemplate>\r\n      <Login/>\r\n    </CommonTemplate>\r\n  )\r\n};","import {CommonTemplate} from \"../../ui/templates/Common\";\r\nimport {Users} from \"../../features/users\";\r\nimport React from \"react\";\r\n\r\n\r\nexport const FriendsPage =  () => {\r\n\r\n  return(\r\n    <CommonTemplate >\r\n      <Users />\r\n    </CommonTemplate>\r\n  )\r\n};","import {CommonTemplate} from \"../../ui/templates/Common\";\r\nimport {Users} from \"../../features/users\";\r\nimport React from \"react\";\r\n\r\n\r\nexport const SearchPage =  () => {\r\n\r\n  return(\r\n    <CommonTemplate >\r\n      <Users />\r\n    </CommonTemplate>\r\n  )\r\n};","import {Redirect, Route, Switch} from \"react-router\";\r\n// import {ProfilePage} from \"./pages/profile\";\r\nimport {DialogsPage} from \"./pages/dialogs\";\r\nimport {NewsPage} from \"./pages/news\";\r\nimport {MusicPage} from \"./pages/music\";\r\nimport {UsersPage} from \"./pages/users\";\r\nimport {LoginPage} from \"./pages/login\";\r\nimport React from \"react\";\r\nimport {FriendsPage} from \"./pages/friends\";\r\nimport {SearchPage} from \"./pages/search\";\r\nimport loadable from '@loadable/component'\r\n\r\n\r\nconst ProfilePage = loadable(() => import( /* webpackChunkName:\r\n \"profile\" */'./pages/profile'), {\r\n  resolveComponent: (components) => components.ProfilePage,\r\n});\r\n\r\n\r\nexport const Routes = () => {\r\n  return <Switch>\r\n    <Route path={'/profile/:userId?'}>\r\n      <ProfilePage/>\r\n    </Route>\r\n    <Route path=\"/dialogs\">\r\n      <DialogsPage/>\r\n    </Route>\r\n    <Route path=\"/news\">\r\n      <NewsPage/>\r\n    </Route>\r\n    <Route path=\"/music\">\r\n      <MusicPage/>\r\n    </Route>\r\n    <Route path=\"/users/\">\r\n      <UsersPage/>\r\n    </Route>\r\n    <Route path=\"/friends\">\r\n      <FriendsPage/>\r\n    </Route>\r\n    <Route path=\"/search/:term?\">\r\n      <SearchPage/>\r\n    </Route>\r\n    <Route path=\"/login\">\r\n      <LoginPage/>\r\n    </Route>\r\n    <Redirect exact from=\"/\" to=\"/profile/\"/>\r\n    <Route render={() => (\r\n      <div>404 NOT FOUND</div>\r\n    )}/>\r\n  </Switch>\r\n};","import React, {Component} from \"react\";\r\nimport \"./App.module.scss\";\r\nimport {HashRouter} from \"react-router-dom\";\r\n// My ui\r\nimport {connect} from \"react-redux\";\r\nimport {Preloader} from \"./ui\";\r\nimport {initActions} from \"./features/autnentification/modules/initialization/\";\r\nimport {Routes} from \"./Routes\";\r\n\r\n// ===================================\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) return <Preloader/>;\r\n\r\n    return (\r\n      <HashRouter>\r\n           <Routes/>\r\n      </HashRouter>\r\n    );\r\n  }\r\n}\r\n\r\nconst MapStateToProps = (state) => (\r\n  {\r\n    initialized: state.init.initialized\r\n  });\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    initializeApp: () => dispatch(initActions.initializeApp()),\r\n  }\r\n};\r\nexport default connect(MapStateToProps, mapDispatchToProps)(App);","import {combineReducers} from \"redux\";\r\nimport {authReducer} from \"../../features/autnentification\";\r\nimport {usersReducer} from \"../../features/users\";\r\nimport {profileReducer} from \"../../features/profile\";\r\nimport {initReducer} from \"../../features/autnentification\";\r\nimport {dialogsReducer} from \"../../features/dialogs\";\r\nimport {newsReducer} from \"../../features/news\";\r\nimport {musicReducer} from \"../../features/music\";\r\n\r\n\r\nexport const rootReducer = combineReducers({\r\n  profile: profileReducer,\r\n  users: usersReducer,\r\n  auth: authReducer,\r\n  init: initReducer,\r\n  dialogs: dialogsReducer,\r\n  news: newsReducer,\r\n  music: musicReducer\r\n});\r\n","import {applyMiddleware, createStore} from \"redux\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\nimport {rootReducer} from \"./root-reducer\";\r\n\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunkMiddleWare));\r\nwindow.store = store;\r\n\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport {store} from \"./lib/store\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App store={store}/>\r\n   </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n"],"sourceRoot":""}