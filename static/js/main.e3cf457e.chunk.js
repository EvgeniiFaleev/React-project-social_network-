(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{128:function(e,t,n){e.exports={dialog:"DialogItem_dialog__17sN5"}},129:function(e,t,n){e.exports={message:"MessageItem_message__1ROkH"}},132:function(e,t,n){e.exports=n.p+"static/media/preloader-opacity.cf78036a.svg"},133:function(e,t,n){e.exports={preloader:"Preloader_preloader__mO15L"}},135:function(e,t,n){},163:function(e,t,n){e.exports=n(288)},168:function(e,t,n){},169:function(e,t,n){},18:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(131),r=a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"46252d8e-8243-4294-910b-e99470877fd5"}}),o={getUser:function(e){return console.log("Obsolete method!Use profileAPI"),i.getUser(e)},getUsers:function(e,t){return r.get("users?count=".concat(e,"&page=").concat(t),{withCredentials:!0}).then((function(e){return e.data}))},followUser:function(e){return r.post("follow/".concat(e)).then((function(e){return e.data}))},unFollowUser:function(e){return r.delete("follow/".concat(e)).then((function(e){return console.log(e),e.data}))}},s={me:function(){return fetch("https://social-network.samuraijs.com/api/1.0/auth/me",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json","API-KEY":"46252d8e-8243-4294-910b-e99470877fd5"}}).then((function(e){return e.json()})).then((function(e){if(0===e.resultCode)return e.data}))},login:function(e){return fetch("https://social-network.samuraijs.com/api/1.0/auth/login",{method:"POST",body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json","API-KEY":"46252d8e-8243-4294-910b-e99470877fd5"}}).then((function(e){return e.json()})).then((function(e){return e}))},logout:function(){return fetch("https://social-network.samuraijs.com/api/1.0/auth/login",{method:"DELETE",credentials:"include",headers:{"API-KEY":"46252d8e-8243-4294-910b-e99470877fd5"}}).then((function(e){if(console.log(111),0===e.json().resultCode)return e.json}))}},i={getUser:function(e){return r.get("profile/".concat(e)).then((function(e){return console.log(e),e.data}))},getStatus:function(e){return fetch("https://social-network.samuraijs.com/api/1.0/profile/status/".concat(e),{method:"GET",credentials:"include",headers:{"API-KEY":"46252d8e-8243-4294-910b-e99470877fd5"}}).then((function(e){return e.json()}))},updateStatus:function(e){return r.put("profile/status",{status:e}).then((function(e){if(0===e.data.resultCode)return console.log(e),e})).catch((function(e){return console.log("\u041e\u0428\u0418\u0411\u041a\u0410 "+e)}))}}},19:function(e,t,n){e.exports={nav:"Navbar_nav__1b4qQ",item:"Navbar_item__1LpmA",activeLink:"Navbar_activeLink__3-Kyd"}},288:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(63),s=n.n(o),i=(n(168),n(13)),c=n(14),u=n(16),l=n(15),m=(n(169),n(12)),p=n(9),d=n(19),f=n.n(d),g=n(87),h=n.n(g);function b(e){return r.a.createElement("div",{className:h.a.friend_item},r.a.createElement("img",{src:"https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80",alt:""}),r.a.createElement("p",{className:h.a.friend_item_name},e.name))}var E=n(67),_=n.n(E);var v=n(10),O=Object(v.b)((function(e){return{friends:e.Sidebar}}))((function(e){var t=e.friends.map((function(e){return r.a.createElement(b,{name:e.name,id:e.id,online:e.online})}));return r.a.createElement("div",{className:_.a.friends},r.a.createElement("p",null,r.a.createElement(m.b,{to:"/friends",activeClassName:_.a.activeLink},"Friends")),r.a.createElement("div",{className:_.a.allFriends},t))}));function j(e){return r.a.createElement("nav",{className:f.a.nav},r.a.createElement("div",{className:f.a.item},r.a.createElement(m.b,{to:"/profile/",activeClassName:f.a.activeLink},"Profile")),r.a.createElement("div",{className:f.a.item},r.a.createElement(m.b,{to:"/users",activeClassName:f.a.activeLink},"Users")),r.a.createElement("div",{className:f.a.item},r.a.createElement(m.b,{to:"/dialogs",activeClassName:f.a.activeLink},"Messages")),r.a.createElement("div",{className:f.a.item},r.a.createElement(m.b,{to:"/news",activeClassName:f.a.activeLink},"News")),r.a.createElement("div",{className:f.a.item},r.a.createElement(m.b,{to:"/music",activeClassName:f.a.activeLink},"Music")),r.a.createElement("div",{className:f.a.item},r.a.createElement(m.b,{to:"/settings",activeClassName:f.a.activeLink},"Settings")),r.a.createElement(O,null))}var S=n(128),N=n.n(S),w=function(e){return r.a.createElement("div",{className:N.a.dialog},e.name)},y=n(68),P=n.n(y),U=n(129),k=n.n(U);function C(e){return r.a.createElement("div",{className:k.a.message},e.message)}var F=n(124),I=n(125),L=function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(F.a,{name:"newMessageBody",placeholder:"enter new Message",component:"textarea"})),r.a.createElement("div",null,r.a.createElement("button",null,"Send")))},A=L=Object(I.a)({form:"DialogsForm"})(L);var T=n(34),M=n(5),x={enterDialogs:[{name:"Jack",id:"1"},{name:"Lila",id:"2"},{name:"Kirill",id:"3"}],enterMessages:[{message:"Hello!",id:"1"},{message:"Hello Man!",id:"2"},{message:"We gonna Die!",id:"3"}]};var z=n(8),G=function(e){return{isAuth:e.authUser.user.isAuth}},D=function(e){var t=function(t){Object(u.a)(a,t);var n=Object(l.a)(a);function a(){return Object(i.a)(this,a),n.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(p.a,{to:"/login"})}}]),a}(r.a.Component);return Object(v.b)(G)(t)},B=Object(z.d)(Object(v.b)((function(e){return console.log("MAPDIALOG"),console.log(e),{MessagesPage:e.MessagesPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:"SEND_NEW_MESSAGE",newMessageBody:e}}(t))}}})),D)((function(e){var t=e.MessagesPage.enterDialogs.map((function(e){return r.a.createElement(w,{name:e.name,id:e.id})})),n=e.MessagesPage.enterMessages.map((function(e){return r.a.createElement(C,{message:e.message,id:e.id})}));return r.a.createElement("div",{className:P.a.dialogs_wrapper},r.a.createElement("div",{className:P.a.dialogs},t),r.a.createElement("div",{className:P.a.messages},n),r.a.createElement("div",null,r.a.createElement(A,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})))})),R=n(18),H=function(e,t,n){return e.map((function(e){return e.id===t?Object(M.a)(Object(M.a)({},e),n):e}))},W={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,isFollowing:[]},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(M.a)(Object(M.a)({},e),{},{users:H(e.users,t.userId,{followed:!0})});case"UNFOLLOW":return Object(M.a)(Object(M.a)({},e),{},{users:H(e.users,t.userId,{followed:!1})});case"SET_USERS":return Object(M.a)(Object(M.a)({},e),{},{users:Object(T.a)(t.users)});case"SET_CURRENT_PAGE":return Object(M.a)(Object(M.a)({},e),{},{currentPage:+t.pageNumber});case"SET_TOTAL_COUNT;":return Object(M.a)(Object(M.a)({},e),{},{totalUsersCount:t.totalCount});case"TOGGLE_IS_FETCHING;":return Object(M.a)(Object(M.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING":return Object(M.a)(Object(M.a)({},e),{},{isFollowing:t.isFetchingButton?[].concat(Object(T.a)(e.isFollowing),[t.id]):e.isFollowing.filter((function(e){return t.id!==e}))});default:return e}},Y=function(e){return{type:"FOLLOW",userId:e}},Z=function(e){return{type:"UNFOLLOW",userId:e}},J=function(e){return{type:"TOGGLE_IS_FETCHING;",isFetching:e}},Q=function(e,t){return{type:"TOGGLE_IS_FOLLOWING",id:e,isFetchingButton:t}},X=function(e,t,n,a){return e(Q(t,!0)),n(t).then((function(n){0===n.resultCode&&(e(Q(t,!1)),e(a(t)))}))},q=function(e){return r.a.createElement("div",{className:"user",key:e.id},r.a.createElement(m.b,{to:"/profile/".concat(e.id)},r.a.createElement("img",{src:e.photo,alt:""})),e.followed?r.a.createElement("button",{disabled:e.isFollowing.some((function(t){return t===e.id})),onClick:function(){e.onUnFollow(e.id)}},"Unfollow"):r.a.createElement("button",{disabled:e.isFollowing.some((function(t){return t===e.id})),onClick:function(){e.onFollow(e.id)}},"Follow"),"!",r.a.createElement("p",null,e.fullName),r.a.createElement("p",null,e.location))},V=n(132),$=n.n(V),ee=n(133),te=n.n(ee),ne=function(){return r.a.createElement("img",{className:te.a.preloader,src:$.a,alt:""})},ae=n(52),re=n(137),oe=n(53),se=n.n(oe),ie=function(e){for(var t=e.portionSize,n=void 0===t?10:t,o=Object(re.a)(e,["portionSize"]),s=Math.ceil(o.totalUsersCount/o.pageSize),i=[],c=1;c<=s;c++)i.push(c);var u=Math.ceil(s/n),l=Object(a.useState)(Math.ceil(o.currentPage/n)),m=Object(ae.a)(l,2),p=m[0],d=m[1],f=(p-1)*n+1,g=p*n,h=i.filter((function(e){return e>=f&&e<=g})).map((function(e){return r.a.createElement("span",{className:e===o.currentPage?"".concat(se.a.pageNumber," ").concat(se.a.selectedPage):se.a.pageNumber,key:e,onClick:function(){o.onPageChanged(e)}},e)}));return r.a.createElement("div",{className:se.a.paginator},p>1&&r.a.createElement("button",{onClick:function(){d(p-1)}},"PREV"),h,u>p&&r.a.createElement("button",{onClick:function(){d(p+1)}},"NEXT"))},ce=function(e){var t=e.users.map((function(t){return r.a.createElement(q,{key:t.id,photo:t.photos.small?t.photos.small:"https://chat.europnet.org/assets/plugins/avatar-undefined.jpg",location:t.location,status:t.status,id:t.id,followed:t.followed,onFollow:e.onFollow,onUnFollow:e.onUnFollow,fullName:t.name,isFollowing:e.isFollowing,toggleFollowingUser:e.toggleFollowingUser})}));return r.a.createElement(r.a.Fragment,null,e.isFetching?r.a.createElement(ne,null):r.a.createElement("div",{className:"users"},t,r.a.createElement(ie,e)))},ue=n(134),le=function(e){return e.UsersPage.users},me=(Object(ue.a)(le,(function(e){return e.filter((function(e){return!!e.photos.small}))})),function(e){return e.UsersPage.pageSize}),pe=function(e){return e.UsersPage.totalUsersCount},de=function(e){return e.UsersPage.currentPage},fe=function(e){return e.UsersPage.isFetching},ge=function(e){return e.UsersPage.isFollowing},he=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsers(e.props.pageSize,t)},e.onFollow=function(t){e.props.followUser(t)},e.onUnFollow=function(t){e.props.unFollowUser(t)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.pageSize,this.props.currentPage)}},{key:"render",value:function(){return console.log("renderUsers"),r.a.createElement(ce,Object.assign({onPageChanged:this.onPageChanged},this.props,{onFollow:this.onFollow,onUnFollow:this.onUnFollow}))}}]),n}(r.a.Component),be=Object(z.d)(Object(v.b)((function(e){return console.log("MAPSTATETOPROPS USERS"),{users:le(e),pageSize:me(e),totalUsersCount:pe(e),currentPage:de(e),isFetching:fe(e),isFollowing:ge(e)}}),{getUsers:function(e,t){return function(n){return n(J(!0)),R.c.getUsers(e,t).then((function(e){1!==t&&n({type:"SET_CURRENT_PAGE",pageNumber:t}),n(J(!1)),n({type:"SET_USERS",users:e.items}),n({type:"SET_TOTAL_COUNT;",totalCount:e.totalCount})}))}},followUser:function(e){return function(t){return X(t,e,R.c.followUser.bind(R.c),Y)}},unFollowUser:function(e){return function(t){return X(t,e,R.c.unFollowUser.bind(R.c),Z)}}}),D)(he),Ee=n(135),_e=n.n(Ee),ve=n(41),Oe=n.n(ve),je=(r.a.Component,function(e){var t=Object(a.useState)(null),n=Object(ae.a)(t,2),o=n[0],s=n[1],i=Object(a.useState)(!1),c=Object(ae.a)(i,2),u=c[0],l=c[1];Object(a.useEffect)((function(){s(e.status)}),[e.status]);return r.a.createElement("div",{className:""},u?r.a.createElement("textarea",{autoFocus:!0,onChange:function(e){return s(e.target.value)},onBlur:function(t){e.updateStatus(t.target.value),l(!1)},value:o}):r.a.createElement("p",{onClick:function(){return l(!0)}},e.status||"no- status"))}),Se=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:Oe.a.profileInfo},r.a.createElement("img",{className:Oe.a.head_image,src:this.props.head_img}),r.a.createElement("div",{className:Oe.a.bio},r.a.createElement("img",{className:Oe.a.myAva,src:this.props.myAva_img}),r.a.createElement("div",{className:Oe.a.description},this.props.description)),r.a.createElement(je,{updateStatus:this.props.updateStatus,id:this.props.id,getStatus:this.props.getStatus,setStatus:this.props.setStatus,status:this.props.status}))}}]),n}(r.a.Component),Ne=n(93),we=n.n(Ne),ye=n(70),Pe=n.n(ye);function Ue(e){return r.a.createElement("div",{className:Pe.a.post},r.a.createElement("div",{className:Pe.a.item},r.a.createElement("img",{className:Pe.a.ava,src:"https://static-cdn.123rf.com/images/v5/index-thumbnail/84170952-b.jpg"}),r.a.createElement("p",{className:"message"},e.message),r.a.createElement("p",null,r.a.createElement("span",{className:"likeCount"},e.likeCount))))}var ke=function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(F.a,{component:"textarea",name:"newMessageBody",placeholder:"Enter your message"}),r.a.createElement("button",null,"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"))},Ce=ke=Object(I.a)({form:"MyPosts"})(ke);var Fe={enterPosts:[{message:"\u041f\u0440\u0438\u0432\u0435\u0442, \u043a\u0430\u043a \u0434\u0435\u043b\u0430?",likeCount:"2 \u043b\u0430\u0439\u043a\u0430"},{message:"\u041d\u0435 \u0443\u043c\u0440\u0438 \u043e\u0442 \u043a\u043e\u0440\u043e\u043d\u0430\u0432\u0438\u0440\u0443\u0441\u0430",likeCount:"5 \u043b\u0430\u0439\u043a\u043e\u0432"}],profile:null,status:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0420\u0435\u0434\u0430\u043a\u0441\u0430"};var Ie=function(e){return{type:"SET_STATUS",status:e}},Le=Object(v.b)((function(e){return{posts:e.ProfilePage.enterPosts}}),(function(e){return{post:function(t){e(function(e){return{type:"ADD-POST",newMessageBody:e}}(t))}}}))((function(e){var t=e.posts.map((function(e){return r.a.createElement(Ue,{message:e.message,likeCount:e.likeCount})}));return r.a.createElement("div",{className:we.a.myPosts},r.a.createElement("h3",null,"My wall"),r.a.createElement("div",{className:we.a.area},r.a.createElement(Ce,{onSubmit:function(t){e.post(t.newMessageBody)}})),t)}));function Ae(e){return r.a.createElement(r.a.Fragment,null,e.profile?r.a.createElement("main",{className:_e.a.content},r.a.createElement(Se,{id:e.id,status:e.status,updateStatus:e.updateStatus,getStatus:e.getStatus,setStatus:e.setStatus,description:e.profile.fullName,head_img:"https://p.bigstockphoto.com/eIdTXLbqQilMs9xbjvcs_bigstock-Aerial-View-Of-Sandy-Beach-Wit-256330393.jpg",myAva_img:e.profile.photos.small||"https://chat.europnet.org/assets/plugins/avatar-undefined.jpg"}),r.a.createElement(Le,null)):r.a.createElement(ne,null))}var Te=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId?this.props.match.params.userId:this.props.id;this.props.getStatus(e),this.props.getUser(e)}},{key:"render",value:function(){return r.a.createElement(Ae,{id:this.props.match.params.userId||this.props.id,profile:this.props.profile,status:this.props.status,getStatus:this.props.getStatus,setStatus:this.props.setStatus,updateStatus:this.props.updateStatus})}}]),n}(a.Component),Me=Object(z.d)(Object(v.b)((function(e){return{profile:e.ProfilePage.profile,status:e.ProfilePage.status,id:e.authUser.user.id}}),{getUser:function(e){return function(t){return R.c.getUser(e).then((function(e){t({type:"SET_USERS_PROFILE",profile:e})}))}},setStatus:Ie,getStatus:function(e){return function(t){return R.b.getStatus(e).then((function(e){t(Ie(e))}))}},updateStatus:function(e){return function(t){return R.b.updateStatus(e).then((function(n){t(Ie(e))}))}}}),p.f,D)(Te),xe=n(54),ze=n.n(xe);function Ge(e){return r.a.createElement("header",{className:ze.a.header},r.a.createElement("div",{className:ze.a.login_block},e.user.id?r.a.createElement("div",null,r.a.createElement("span",{className:ze.a.login_name},e.user.login),r.a.createElement("button",{onClick:e.logout},"Logout")):r.a.createElement(m.b,{className:ze.a.login_link,to:"/login"},"Login")),r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Inkscape.logo.svg/390px-Inkscape.logo.svg.png"}))}var De=n(37),Be=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(Ge,{logout:this.props.logout,user:this.props.user})}}]),n}(r.a.Component),Re=Object(v.b)((function(e){return{user:e.authUser.user}}),{logout:De.c})(Be),He={initialized:!1};var We=r.a.lazy((function(){return n.e(5).then(n.bind(null,293))})),Ke=r.a.lazy((function(){return n.e(3).then(n.bind(null,294))})),Ye=r.a.lazy((function(){return n.e(4).then(n.bind(null,295))})),Ze=r.a.lazy((function(){return n.e(6).then(n.bind(null,296))})),Je=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement(m.a,null,r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(Re,null),r.a.createElement(j,null),r.a.createElement(a.Suspense,{fallback:r.a.createElement(ne,null)},r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(p.b,{path:"/profile/:userId?",render:function(e){return r.a.createElement(Me,{key:e.match.params.userId})}}),r.a.createElement(p.b,{path:"/dialogs",render:function(){return r.a.createElement(B,null)}}),r.a.createElement(p.b,{path:"/news",component:Ye}),r.a.createElement(p.b,{path:"/music",component:Ke}),r.a.createElement(p.b,{path:"/settings",component:We}),r.a.createElement(p.b,{path:"/users",component:be}),r.a.createElement(p.b,{path:"/login",component:Ze}))))):r.a.createElement(ne,null)}}]),n}(a.Component),Qe=Object(v.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){return e(Object(De.d)(!0)).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}})(Je),Xe=[{name:"Jack",id:"1",online:!0},{name:"Lila",id:"2",online:!0},{name:"Kirill",id:"3",online:!1},{name:"Ann",id:"4",online:!1}];var qe=n(136),Ve=n(126),$e=Object(z.c)({ProfilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(M.a)(Object(M.a)({},e),{},{enterPosts:[].concat(Object(T.a)(e.enterPosts),[{message:t.newMessageBody,likeCount:"0"}])});case"SET_USERS_PROFILE":return Object(M.a)(Object(M.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(M.a)(Object(M.a)({},e),{},{status:t.status});default:return e}},MessagesPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_NEW_MESSAGE":return Object(M.a)(Object(M.a)({},e),{},{enterMessages:[].concat(Object(T.a)(e.enterMessages),[{message:t.newMessageBody,id:0}])});default:return e}},Sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;return arguments.length>1&&arguments[1],e},UsersPage:K,authUser:De.a,form:Ve.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(M.a)(Object(M.a)({},e),{},{initialized:!0});default:return e}}}),et=Object(z.e)($e,Object(z.a)(qe.a));window.store=et;var tt=et;s.a.render(r.a.createElement(v.a,{store:tt},r.a.createElement(Qe,{store:tt})),document.getElementById("root"))},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return m}));var a=n(5),r=n(18),o=n(44),s={user:{me:null,email:null,id:null,isAuth:!1}};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_USER":return Object(a.a)(Object(a.a)({},e),{},{user:Object(a.a)(Object(a.a)({},t.user),{},{isAuth:t.user.isAuth})});default:return e}}var c=function(e,t){return{type:"AUTH_USER",user:Object(a.a)(Object(a.a)({},e),{},{isAuth:t})}},u=function(e){return function(t){return r.a.me().then((function(n){n&&t(c(n,e))}))}},l=function(e){return function(t){return r.a.login(e).then((function(e){if(0===e.resultCode)t(u(!0));else{var n=e.messages.length>0?e.messages[0]:"Unknown Error";t(Object(o.a)("login",{_error:n}))}}))}},m=function(){return function(e){return r.a.logout().then((function(){e(c(void 0,!1))}))}}},41:function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__1uZpL",head_image:"ProfileInfo_head_image__24M7U",bio:"ProfileInfo_bio__1n0r3",myAva:"ProfileInfo_myAva__1pC42",description:"ProfileInfo_description__L4ySZ"}},53:function(e,t,n){e.exports={paginator:"Paginator_paginator__1BAy_",pageNumber:"Paginator_pageNumber__3Euhc",selectedPage:"Paginator_selectedPage__9aBbZ"}},54:function(e,t,n){e.exports={header:"Header_header__hkA6H",login_block:"Header_login_block__290zo",login_link:"Header_login_link__2-X2m",login_name:"Header_login_name__1jLZs"}},67:function(e,t,n){e.exports={friends:"SidebarFriends_friends__SbNxG",activeLink:"SidebarFriends_activeLink__LbSvY",allFriends:"SidebarFriends_allFriends__39-dP"}},68:function(e,t,n){e.exports={dialogs_wrapper:"Dialogs_dialogs_wrapper__1BsBu"}},70:function(e,t,n){e.exports={post:"Post_post__1VX3y",item:"Post_item__1k_y4",ava:"Post_ava__2muRO"}},87:function(e,t,n){e.exports={friend_item:"FriendItem_friend_item__1GAzM",friend_item_name:"FriendItem_friend_item_name__2imZa"}},93:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__1mQmN",area:"MyPosts_area__18iPY"}}},[[163,1,2]]]);
//# sourceMappingURL=main.e3cf457e.chunk.js.map